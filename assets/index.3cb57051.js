var g1=Object.defineProperty;var _1=(l,e,t)=>e in l?g1(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var Ee=(l,e,t)=>(_1(l,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function G(){}const _n=l=>l;function ge(l,e){for(const t in e)l[t]=e[t];return l}function br(l){return l()}function ml(){return Object.create(null)}function be(l){l.forEach(br)}function De(l){return typeof l=="function"}function q(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let tn;function v1(l,e){return tn||(tn=document.createElement("a")),tn.href=e,l===tn.href}function b1(l){return Object.keys(l).length===0}function kr(l,...e){if(l==null)return G;const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function xe(l){let e;return kr(l,t=>e=t)(),e}function ie(l,e,t){l.$$.on_destroy.push(kr(e,t))}function St(l,e,t,n){if(l){const i=yr(l,e,t,n);return l[0](i)}}function yr(l,e,t,n){return l[1]&&n?ge(t.ctx.slice(),l[1](n(e))):t.ctx}function Lt(l,e,t,n){if(l[2]&&n){const i=l[2](n(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const a=[],r=Math.max(e.dirty.length,i.length);for(let s=0;s<r;s+=1)a[s]=e.dirty[s]|i[s];return a}return e.dirty|i}return e.dirty}function It(l,e,t,n,i,a){if(i){const r=yr(e,t,n,a);l.p(r,i)}}function At(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function ve(l){const e={};for(const t in l)t[0]!=="$"&&(e[t]=l[t]);return e}function Ie(l){return l==null?"":l}function ce(l,e,t){return l.set(t),e}function k1(l){return l&&De(l.destroy)?l.destroy:G}const wr=typeof window<"u";let xn=wr?()=>window.performance.now():()=>Date.now(),jn=wr?l=>requestAnimationFrame(l):G;const kt=new Set;function Cr(l){kt.forEach(e=>{e.c(l)||(kt.delete(e),e.f())}),kt.size!==0&&jn(Cr)}function Un(l){let e;return kt.size===0&&jn(Cr),{promise:new Promise(t=>{kt.add(e={c:l,f:t})}),abort(){kt.delete(e)}}}function p(l,e){l.appendChild(e)}function $r(l){if(!l)return document;const e=l.getRootNode?l.getRootNode():l.ownerDocument;return e&&e.host?e:l.ownerDocument}function y1(l){const e=v("style");return w1($r(l),e),e.sheet}function w1(l,e){return p(l.head||l,e),e.sheet}function M(l,e,t){l.insertBefore(e,t||null)}function E(l){l.parentNode.removeChild(l)}function $e(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function v(l){return document.createElement(l)}function ue(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function re(l){return document.createTextNode(l)}function L(){return re(" ")}function we(){return re("")}function V(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function Ot(l){return function(e){return e.preventDefault(),l.call(this,e)}}function m(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function lt(l){return l===""?null:+l}function C1(l){return Array.from(l.childNodes)}function ye(l,e){e=""+e,l.wholeText!==e&&(l.data=e)}function Oe(l,e){l.value=e==null?"":e}function pe(l,e,t,n){t===null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function pl(l,e){for(let t=0;t<l.options.length;t+=1){const n=l.options[t];if(n.__value===e){n.selected=!0;return}}l.selectedIndex=-1}function $1(l){const e=l.querySelector(":checked")||l.options[0];return e&&e.__value}function J(l,e,t){l.classList[t?"add":"remove"](e)}function E1(l,e,{bubbles:t=!1,cancelable:n=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(l,t,n,e),i}const sn=new Map;let un=0;function M1(l){let e=5381,t=l.length;for(;t--;)e=(e<<5)-e^l.charCodeAt(t);return e>>>0}function S1(l,e){const t={stylesheet:y1(e),rules:{}};return sn.set(l,t),t}function cn(l,e,t,n,i,a,r,s=0){const o=16.666/n;let u=`{
`;for(let y=0;y<=1;y+=o){const w=e+(t-e)*a(y);u+=y*100+`%{${r(w,1-w)}}
`}const c=u+`100% {${r(t,1-t)}}
}`,f=`__svelte_${M1(c)}_${s}`,d=$r(l),{stylesheet:g,rules:k}=sn.get(d)||S1(d,l);k[f]||(k[f]=!0,g.insertRule(`@keyframes ${f} ${c}`,g.cssRules.length));const C=l.style.animation||"";return l.style.animation=`${C?`${C}, `:""}${f} ${n}ms linear ${i}ms 1 both`,un+=1,f}function fn(l,e){const t=(l.style.animation||"").split(", "),n=t.filter(e?a=>a.indexOf(e)<0:a=>a.indexOf("__svelte")===-1),i=t.length-n.length;i&&(l.style.animation=n.join(", "),un-=i,un||L1())}function L1(){jn(()=>{un||(sn.forEach(l=>{const{ownerNode:e}=l.stylesheet;e&&E(e)}),sn.clear())})}let Wt;function Nt(l){Wt=l}function Er(){if(!Wt)throw new Error("Function called outside component initialization");return Wt}function Dt(l){Er().$$.on_mount.push(l)}function I1(l){Er().$$.on_destroy.push(l)}const Pt=[],Q=[],an=[],zn=[],A1=Promise.resolve();let Rn=!1;function O1(){Rn||(Rn=!0,A1.then(Mr))}function Ae(l){an.push(l)}function te(l){zn.push(l)}const On=new Set;let nn=0;function Mr(){const l=Wt;do{for(;nn<Pt.length;){const e=Pt[nn];nn++,Nt(e),D1(e.$$)}for(Nt(null),Pt.length=0,nn=0;Q.length;)Q.pop()();for(let e=0;e<an.length;e+=1){const t=an[e];On.has(t)||(On.add(t),t())}an.length=0}while(Pt.length);for(;zn.length;)zn.pop()();Rn=!1,On.clear(),Nt(l)}function D1(l){if(l.fragment!==null){l.update(),be(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(Ae)}}let Rt;function Yn(){return Rt||(Rt=Promise.resolve(),Rt.then(()=>{Rt=null})),Rt}function ot(l,e,t){l.dispatchEvent(E1(`${e?"intro":"outro"}${t}`))}const on=new Set;let Ke;function X(){Ke={r:0,c:[],p:Ke}}function Z(){Ke.r||be(Ke.c),Ke=Ke.p}function h(l,e){l&&l.i&&(on.delete(l),l.i(e))}function _(l,e,t,n){if(l&&l.o){if(on.has(l))return;on.add(l),Ke.c.push(()=>{on.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}const Kn={duration:0};function Ue(l,e,t){let n=e(l,t),i=!1,a,r,s=0;function o(){a&&fn(l,a)}function u(){const{delay:f=0,duration:d=300,easing:g=_n,tick:k=G,css:C}=n||Kn;C&&(a=cn(l,0,1,d,f,g,C,s++)),k(0,1);const y=xn()+f,w=y+d;r&&r.abort(),i=!0,Ae(()=>ot(l,!0,"start")),r=Un(S=>{if(i){if(S>=w)return k(1,0),ot(l,!0,"end"),o(),i=!1;if(S>=y){const $=g((S-y)/d);k($,1-$)}}return i})}let c=!1;return{start(){c||(c=!0,fn(l),De(n)?(n=n(),Yn().then(u)):u())},invalidate(){c=!1},end(){i&&(o(),i=!1)}}}function Sr(l,e,t){let n=e(l,t),i=!0,a;const r=Ke;r.r+=1;function s(){const{delay:o=0,duration:u=300,easing:c=_n,tick:f=G,css:d}=n||Kn;d&&(a=cn(l,1,0,u,o,c,d));const g=xn()+o,k=g+u;Ae(()=>ot(l,!1,"start")),Un(C=>{if(i){if(C>=k)return f(0,1),ot(l,!1,"end"),--r.r||be(r.c),!1;if(C>=g){const y=c((C-g)/u);f(1-y,y)}}return i})}return De(n)?Yn().then(()=>{n=n(),s()}):s(),{end(o){o&&n.tick&&n.tick(1,0),i&&(a&&fn(l,a),i=!1)}}}function it(l,e,t,n){let i=e(l,t),a=n?0:1,r=null,s=null,o=null;function u(){o&&fn(l,o)}function c(d,g){const k=d.b-a;return g*=Math.abs(k),{a,b:d.b,d:k,duration:g,start:d.start,end:d.start+g,group:d.group}}function f(d){const{delay:g=0,duration:k=300,easing:C=_n,tick:y=G,css:w}=i||Kn,S={start:xn()+g,b:d};d||(S.group=Ke,Ke.r+=1),r||s?s=S:(w&&(u(),o=cn(l,a,d,k,g,C,w)),d&&y(0,1),r=c(S,k),Ae(()=>ot(l,d,"start")),Un($=>{if(s&&$>s.start&&(r=c(s,k),s=null,ot(l,r.b,"start"),w&&(u(),o=cn(l,a,r.b,r.duration,0,C,i.css))),r){if($>=r.end)y(a=r.b,1-a),ot(l,r.b,"end"),s||(r.b?u():--r.group.r||be(r.group.c)),r=null;else if($>=r.start){const I=$-r.start;a=r.a+r.d*C(I/r.duration),y(a,1-a)}}return!!(r||s)}))}return{run(d){De(i)?Yn().then(()=>{i=i(),f(d)}):f(d)},end(){u(),r=s=null}}}function ne(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function B(l){l&&l.c()}function D(l,e,t,n){const{fragment:i,after_update:a}=l.$$;i&&i.m(e,t),n||Ae(()=>{const r=l.$$.on_mount.map(br).filter(De);l.$$.on_destroy?l.$$.on_destroy.push(...r):be(r),l.$$.on_mount=[]}),a.forEach(Ae)}function T(l,e){const t=l.$$;t.fragment!==null&&(be(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function T1(l,e){l.$$.dirty[0]===-1&&(Pt.push(l),O1(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function x(l,e,t,n,i,a,r,s=[-1]){const o=Wt;Nt(l);const u=l.$$={fragment:null,ctx:[],props:a,update:G,not_equal:i,bound:ml(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:ml(),dirty:s,skip_bound:!1,root:e.target||o.$$.root};r&&r(u.root);let c=!1;if(u.ctx=t?t(l,e.props||{},(f,d,...g)=>{const k=g.length?g[0]:d;return u.ctx&&i(u.ctx[f],u.ctx[f]=k)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](k),c&&T1(l,f)),d}):[],u.update(),c=!0,be(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const f=C1(e.target);u.fragment&&u.fragment.l(f),f.forEach(E)}else u.fragment&&u.fragment.c();e.intro&&h(l.$$.fragment),D(l,e.target,e.anchor,e.customElement),Mr()}Nt(o)}class j{$destroy(){T(this,1),this.$destroy=G}$on(e,t){if(!De(t))return G;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!b1(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const gt=[];function ze(l,e=G){let t;const n=new Set;function i(s){if(q(l,s)&&(l=s,t)){const o=!gt.length;for(const u of n)u[1](),gt.push(u,l);if(o){for(let u=0;u<gt.length;u+=2)gt[u][0](gt[u+1]);gt.length=0}}}function a(s){i(s(l))}function r(s,o=G){const u=[s,o];return n.add(u),n.size===1&&(t=e(i)||G),s(l),()=>{n.delete(u),n.size===0&&(t(),t=null)}}return{set:i,update:a,subscribe:r}}let ln;const B1=new Uint8Array(16);function H1(){if(!ln&&(ln=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ln))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ln(B1)}const Re=[];for(let l=0;l<256;++l)Re.push((l+256).toString(16).slice(1));function z1(l,e=0){return(Re[l[e+0]]+Re[l[e+1]]+Re[l[e+2]]+Re[l[e+3]]+"-"+Re[l[e+4]]+Re[l[e+5]]+"-"+Re[l[e+6]]+Re[l[e+7]]+"-"+Re[l[e+8]]+Re[l[e+9]]+"-"+Re[l[e+10]]+Re[l[e+11]]+Re[l[e+12]]+Re[l[e+13]]+Re[l[e+14]]+Re[l[e+15]]).toLowerCase()}const R1=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),hl={randomUUID:R1};function Lr(l,e,t){if(hl.randomUUID&&!e&&!l)return hl.randomUUID();l=l||{};const n=l.random||(l.rng||H1)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=n[i];return e}return z1(n)}class Ir{constructor(){Ee(this,"name","");Ee(this,"initiative");Ee(this,"bonus",0);Ee(this,"type");Ee(this,"id");this.id=Lr()}}function vt(l,e=0){const t=l.name?l.name:l.type===le.Player?l.playerClass:l.type.toString();return l.type===le.Minion?`${t}#${e+1}`:t}const dn=["Barbarian","Bard","Cleric","Druid","Fighter","Monk","Paladin","Ranger","Rogue","Sorcerer","Warlock","Wizard","Artificer"];function P1(){const l=Math.floor(Math.random()*dn.length);return dn[l]}class Ze extends Ir{constructor(t){super();Ee(this,"playerClass");Ee(this,"quantity");Ee(this,"laMax");Ee(this,"laCurrent");Ee(this,"hpMax");Ee(this,"hpCurrent");Ee(this,"ac");Ee(this,"conditions");Ee(this,"effects");this.type=t,this.ac=10,this.quantity=1,this.laMax=1,this.laCurrent=1,this.hpMax=10,this.conditions=[[]],this.effects=[[]],this.hpCurrent=[10],t===le.Player&&(this.playerClass=P1()),Object.setPrototypeOf(this,Ze.prototype)}}var le=(l=>(l.Player="player",l.Enemy="enemy",l.Minion="minion",l.Boss="boss",l))(le||{});class Jn{constructor(e,t){Ee(this,"id");Ee(this,"round");Ee(this,"owner");Ee(this,"recipients");Ee(this,"messages");Ee(this,"time");this.owner={name:e.name?e.name:vt(e),type:e.type,id:e.id,index:0},e.type===le.Player&&(this.owner.playerClass=e.playerClass),this.id=Lr(),this.round=t,this.messages=[],this.recipients=[],this.time=new Date}addMessage(e){this.messages.push(e)}addLogEntitySumDamage(e,t,n=0){const i=this.recipients.find(a=>a.id===e.id&&a.index===n&&a.logType==="damage");i?(i.damage+=t,this.recipients[this.recipients.indexOf(i)]=i):this.addLogEntityDamage(e,t,n)}addLogEntityDamage(e,t,n=0,i=0){const a=vt(e,n),r=e.playerClass;this.recipients.push({name:a,damage:t,index:n,playerClass:r,id:e.id,type:e.type,logType:"damage",overkill:i})}addLogEntityCondition(e,t,n=0){const i=vt(e,n),a=e.playerClass;this.recipients.push({name:i,condition:t,index:n,playerClass:a,id:e.id,type:e.type,logType:"condition"})}addLogEntityLegendaryActions(e,t,n=0){const i=vt(e,n),a=this.recipients.find(r=>r.logType==="legendary"&&r.id===e.id);a?(a.actions+=t,this.recipients[this.recipients.indexOf(a)]=a):this.recipients.push({name:i,index:n,actions:t,id:e.id,type:e.type,logType:"legendary"})}removeLogEntity(e){this.recipients=this.recipients.filter(t=>t!==e)}}function G1(l){const e=new Jn(l.owner,l.round);return l.addLogEntityCondition=e.addLogEntityCondition,l.addLogEntityDamage=e.addLogEntityDamage,l.addLogEntityLegendaryActions=e.addLogEntityLegendaryActions,l.addLogEntitySumDamage=e.addLogEntitySumDamage,l.addMessage=e.addMessage,l}var Xn=(l=>(l.COBBLES="cobbles",l.DIRT="dirt",l.HELL="hell",l.ICE="ice",l.LAVA="lava",l.SAND="sand",l.STONE="stone",l.WATER="water",l))(Xn||{});const gl="stone",N1="brown",Ar="burlywood",_l={primary:N1,secondary:Ar},Ft=Object.values(Xn),F1={stone:_l,cobbles:_l,dirt:{primary:"green",secondary:Ar},hell:{primary:"maroon",secondary:"red"},ice:{primary:"darkCyan",secondary:"powderBlue"},lava:{primary:"darkRed",secondary:"darkOrange"},sand:{primary:"darkOrange",secondary:"blanchedAlmond"},water:{primary:"seaGreen",secondary:"turquoise"}};class Or extends Error{}function q1(){const l=bn("tutorial-completed");return l!==void 0?l:!1}function W1(l){vn("tutorial-completed",l)}function V1(){return Ut("entities")}function jt(l){yt("entities",l)}function x1(){return Ut("encounters")}function Dr(l){yt("logs",l)}function j1(){return Ut("logs").map(e=>G1(e))}function U1(){return bn("turn")}function Y1(l){vn("turn",l)}function Tr(l){vn("CurrentLogId",l)}function K1(){return bn("CurrentLogId")}function J1(l,e,t,n=!1){let i=e.filter(r=>t.includes(r.type));i.forEach(r=>r.initiative===void 0);const a=Ut("encounters");if(!a)yt("encounters",[]);else if(a.find(r=>r.name===l))if(n)yt("encounters",[...a.filter(r=>r.name!==l),{name:l,entities:i,filteredTypes:t}]);else throw new Or("A party already exists with that name. Are you sure you want to overwrite it?");else yt("encounters",[...a,{name:l,entities:i,filteredTypes:t}])}function X1(l){const e=Ut("encounters").filter(t=>t.name!==l);yt("encounters",[...e])}function Br(l){vn("theme",l)}function Z1(){const l=bn("theme");if(l){if(Object.values(Xn).includes(l))return l;console.error("Invalid theme retrieved from local storage. Setting default theme instead."),Br(gl)}return gl}function Q1(){try{localStorage.clear()}catch(l){console.error(`Error clearing local storage: ${l}`)}}function yt(l,e){try{localStorage.setItem(l,JSON.stringify(e))}catch(t){console.error(`Error writing ${l} to local storage: ${t}`)}}function Ut(l){try{const e=JSON.parse(localStorage.getItem(l));return e||[]}catch(e){return console.error(`Error retrieving ${l} from local storage: ${e}`),[]}}function vn(l,e){try{localStorage.setItem(l,JSON.stringify(e))}catch(t){console.error(`Error writing ${l} to local storage: ${t}`)}}function bn(l){try{const e=JSON.parse(localStorage.getItem(l));return e||void 0}catch(e){console.error(`Error retrieving ${l} from local storage: ${e}`);return}}var Ve=(l=>(l[l.None=0]="None",l[l.Saved=1]="Saved",l[l.Overwrite=2]="Overwrite",l))(Ve||{});const mn=U1(),he=ze(V1()),Pe=ze(!1),qt=ze(!1),rt=ze(!1),Ct=ze(!1),Dn=ze(!1),je=ze(mn?mn[0]:1),Le=ze(mn?mn[1]:0),st=ze(0),Pn=ze(Z1()),qe=ze(j1());var vr;const ut=ze((vr=K1())!=null?vr:""),Tn=ze(1),pn=ze(!0),Gn=ze(!0),Qe=ze(!1),Hr=ze(q1()),_t=ze(Ve.None);function hn(){Y1([xe(je),xe(Le)])}function Bn(l){he.update(e=>e.map(t=>t.id===l.id?l:t))}const Nn=document.querySelector(":root");function zr(l){const e=`url(/ednd-initiative/background/${l}.webp)`;Nn.style.setProperty("--theme-background",e),ea(l)}function ea(l){const e=F1[l];Nn.style.setProperty("--primary",e.primary),Nn.style.setProperty("--secondary",e.secondary)}function ta(l){return`url(/ednd-initiative/background/${l}.webp)`}function na(l){let e,t,n;return{c(){e=ue("svg"),t=ue("path"),m(t,"d","M117.059 135.818c.652-1.971 1.98-2.69 4.096-2.216.504.113.969.26 1.032.325.073.076.023.095-.137.051-.14-.038-.447-.003-.682.078-1.329.452-1.833 2.738-.811 3.682.675.624 1.585.387 2.573-.67l.6-.642v.562c0 1.977 1.696 2.732 2.494 1.108.171-.348.312-.705.313-.794.004-.373.189-.49.55-.348.695.272 5.414 1.632 7.804 2.248 4.143 1.07 8.958 2.096 14.443 3.078 1.785.32 1.784.33-.061.638-6.379 1.067-14.763 3.024-20.361 4.755-2.16.668-2.196.674-2.304.416-.607-1.444-.684-1.577-1.031-1.761-.88-.47-1.847.532-1.847 1.916v.575l-.56-.594c-1.382-1.466-2.76-1.397-3.083.155-.307 1.475.484 2.755 1.815 2.936.384.053-1.27.47-1.862.47-1.521 0-2.651-1.012-3.086-2.765-.482-1.946.327-4.305 2.065-6.022l.433-.428-.818-.905c-1.662-1.834-2.219-3.903-1.575-5.849z"),m(t,"transform","translate(-116.798 -133.462)"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","100%"),m(e,"height","100%"),m(e,"class",n=Ie(l[0].class)+" svelte-eboaw8"),m(e,"viewBox","0 0 33.867 18.325")},m(i,a){M(i,e,a),p(e,t)},p(i,[a]){a&1&&n!==(n=Ie(i[0].class)+" svelte-eboaw8")&&m(e,"class",n)},i:G,o:G,d(i){i&&E(e)}}}function la(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),ve(n)))},e=ve(e),[e]}class ct extends j{constructor(e){super(),x(this,e,la,na,q,{})}}function Zn(l){const e=l-1;return e*e*e+1}function Qn(l){return Math.sin(-13*(l+1)*Math.PI/2)*Math.pow(2,-10*l)+1}function kn(l,{delay:e=0,duration:t=400,easing:n=_n}={}){const i=+getComputedStyle(l).opacity;return{delay:e,duration:t,easing:n,css:a=>`opacity: ${a*i}`}}function $t(l,{delay:e=0,duration:t=400,easing:n=Zn,x:i=0,y:a=0,opacity:r=0}={}){const s=getComputedStyle(l),o=+s.opacity,u=s.transform==="none"?"":s.transform,c=o*(1-r);return{delay:e,duration:t,easing:n,css:(f,d)=>`
			transform: ${u} translate(${(1-f)*i}px, ${(1-f)*a}px);
			opacity: ${o-c*d}`}}function et(l,{delay:e=0,duration:t=400,easing:n=Zn}={}){const i=getComputedStyle(l),a=+i.opacity,r=parseFloat(i.height),s=parseFloat(i.paddingTop),o=parseFloat(i.paddingBottom),u=parseFloat(i.marginTop),c=parseFloat(i.marginBottom),f=parseFloat(i.borderTopWidth),d=parseFloat(i.borderBottomWidth);return{delay:e,duration:t,easing:n,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*a};height: ${g*r}px;padding-top: ${g*s}px;padding-bottom: ${g*o}px;margin-top: ${g*u}px;margin-bottom: ${g*c}px;border-top-width: ${g*f}px;border-bottom-width: ${g*d}px;`}}function vl(l,{delay:e=0,duration:t=400,easing:n=Zn,start:i=0,opacity:a=0}={}){const r=getComputedStyle(l),s=+r.opacity,o=r.transform==="none"?"":r.transform,u=1-i,c=s*(1-a);return{delay:e,duration:t,easing:n,css:(f,d)=>`
			transform: ${o} scale(${1-u*d});
			opacity: ${s-c*d}
		`}}const rn=parseFloat;function Fn(l,e=";"){let t;if(Array.isArray(l))t=l.filter(n=>n);else{t=[];for(const n in l)l[n]&&t.push(`${n}:${l[n]}`)}return t.join(e)}function ia(l,e,t,n){let i,a;const r="1em";let s,o,u,c="-.125em";const f="visible";return n&&(u="center",a="1.25em"),t&&(i=t),e&&(e=="lg"?(o="1.33333em",s=".75em",c="-.225em"):e=="xs"?o=".75em":e=="sm"?o=".875em":o=e.replace("x","em")),Fn([Fn({float:i,width:a,height:r,"line-height":s,"font-size":o,"text-align":u,"vertical-align":c,"transform-origin":"center",overflow:f}),l])}function ra(l,e,t,n,i,a=1,r="",s=""){let o=1,u=1;return i&&(i=="horizontal"?o=-1:i=="vertical"?u=-1:o=u=-1),Fn([`translate(${rn(e)*a}${r},${rn(t)*a}${r})`,`scale(${o*rn(l)},${u*rn(l)})`,n&&`rotate(${n}${s})`]," ")}function bl(l){let e,t,n,i,a,r,s,o;function u(d,g){return typeof d[10][4]=="string"?oa:aa}let c=u(l),f=c(l);return{c(){e=ue("svg"),t=ue("g"),n=ue("g"),f.c(),m(n,"transform",l[12]),m(t,"transform",i="translate("+l[10][0]/2+" "+l[10][1]/2+")"),m(t,"transform-origin",a=l[10][0]/4+" 0"),m(e,"id",r=l[1]||void 0),m(e,"class",s="svelte-fa "+l[0]+" svelte-1cj2gr0"),m(e,"style",l[11]),m(e,"viewBox",o="0 0 "+l[10][0]+" "+l[10][1]),m(e,"aria-hidden","true"),m(e,"role","img"),m(e,"xmlns","http://www.w3.org/2000/svg"),J(e,"pulse",l[4]),J(e,"spin",l[3])},m(d,g){M(d,e,g),p(e,t),p(t,n),f.m(n,null)},p(d,g){c===(c=u(d))&&f?f.p(d,g):(f.d(1),f=c(d),f&&(f.c(),f.m(n,null))),g&4096&&m(n,"transform",d[12]),g&1024&&i!==(i="translate("+d[10][0]/2+" "+d[10][1]/2+")")&&m(t,"transform",i),g&1024&&a!==(a=d[10][0]/4+" 0")&&m(t,"transform-origin",a),g&2&&r!==(r=d[1]||void 0)&&m(e,"id",r),g&1&&s!==(s="svelte-fa "+d[0]+" svelte-1cj2gr0")&&m(e,"class",s),g&2048&&m(e,"style",d[11]),g&1024&&o!==(o="0 0 "+d[10][0]+" "+d[10][1])&&m(e,"viewBox",o),g&17&&J(e,"pulse",d[4]),g&9&&J(e,"spin",d[3])},d(d){d&&E(e),f.d()}}}function aa(l){let e,t,n,i,a,r,s,o,u,c;return{c(){e=ue("path"),r=ue("path"),m(e,"d",t=l[10][4][0]),m(e,"fill",n=l[6]||l[2]||"currentColor"),m(e,"fill-opacity",i=l[9]!=!1?l[7]:l[8]),m(e,"transform",a="translate("+l[10][0]/-2+" "+l[10][1]/-2+")"),m(r,"d",s=l[10][4][1]),m(r,"fill",o=l[5]||l[2]||"currentColor"),m(r,"fill-opacity",u=l[9]!=!1?l[8]:l[7]),m(r,"transform",c="translate("+l[10][0]/-2+" "+l[10][1]/-2+")")},m(f,d){M(f,e,d),M(f,r,d)},p(f,d){d&1024&&t!==(t=f[10][4][0])&&m(e,"d",t),d&68&&n!==(n=f[6]||f[2]||"currentColor")&&m(e,"fill",n),d&896&&i!==(i=f[9]!=!1?f[7]:f[8])&&m(e,"fill-opacity",i),d&1024&&a!==(a="translate("+f[10][0]/-2+" "+f[10][1]/-2+")")&&m(e,"transform",a),d&1024&&s!==(s=f[10][4][1])&&m(r,"d",s),d&36&&o!==(o=f[5]||f[2]||"currentColor")&&m(r,"fill",o),d&896&&u!==(u=f[9]!=!1?f[8]:f[7])&&m(r,"fill-opacity",u),d&1024&&c!==(c="translate("+f[10][0]/-2+" "+f[10][1]/-2+")")&&m(r,"transform",c)},d(f){f&&E(e),f&&E(r)}}}function oa(l){let e,t,n,i;return{c(){e=ue("path"),m(e,"d",t=l[10][4]),m(e,"fill",n=l[2]||l[5]||"currentColor"),m(e,"transform",i="translate("+l[10][0]/-2+" "+l[10][1]/-2+")")},m(a,r){M(a,e,r)},p(a,r){r&1024&&t!==(t=a[10][4])&&m(e,"d",t),r&36&&n!==(n=a[2]||a[5]||"currentColor")&&m(e,"fill",n),r&1024&&i!==(i="translate("+a[10][0]/-2+" "+a[10][1]/-2+")")&&m(e,"transform",i)},d(a){a&&E(e)}}}function sa(l){let e,t=l[10][4]&&bl(l);return{c(){t&&t.c(),e=we()},m(n,i){t&&t.m(n,i),M(n,e,i)},p(n,[i]){n[10][4]?t?t.p(n,i):(t=bl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){t&&t.d(n),n&&E(e)}}}function ua(l,e,t){let{class:n=""}=e,{id:i=""}=e,{style:a=""}=e,{icon:r}=e,{size:s=""}=e,{color:o=""}=e,{fw:u=!1}=e,{pull:c=""}=e,{scale:f=1}=e,{translateX:d=0}=e,{translateY:g=0}=e,{rotate:k=""}=e,{flip:C=!1}=e,{spin:y=!1}=e,{pulse:w=!1}=e,{primaryColor:S=""}=e,{secondaryColor:$=""}=e,{primaryOpacity:I=1}=e,{secondaryOpacity:b=.4}=e,{swapOpacity:O=!1}=e,R,H,A;return l.$$set=z=>{"class"in z&&t(0,n=z.class),"id"in z&&t(1,i=z.id),"style"in z&&t(13,a=z.style),"icon"in z&&t(14,r=z.icon),"size"in z&&t(15,s=z.size),"color"in z&&t(2,o=z.color),"fw"in z&&t(16,u=z.fw),"pull"in z&&t(17,c=z.pull),"scale"in z&&t(18,f=z.scale),"translateX"in z&&t(19,d=z.translateX),"translateY"in z&&t(20,g=z.translateY),"rotate"in z&&t(21,k=z.rotate),"flip"in z&&t(22,C=z.flip),"spin"in z&&t(3,y=z.spin),"pulse"in z&&t(4,w=z.pulse),"primaryColor"in z&&t(5,S=z.primaryColor),"secondaryColor"in z&&t(6,$=z.secondaryColor),"primaryOpacity"in z&&t(7,I=z.primaryOpacity),"secondaryOpacity"in z&&t(8,b=z.secondaryOpacity),"swapOpacity"in z&&t(9,O=z.swapOpacity)},l.$$.update=()=>{l.$$.dirty&16384&&t(10,R=r&&r.icon||[0,0,"",[],""]),l.$$.dirty&237568&&t(11,H=ia(a,s,c,u)),l.$$.dirty&8126464&&t(12,A=ra(f,d,g,k,C,512))},[n,i,o,y,w,S,$,I,b,O,R,H,A,a,r,s,u,c,f,d,g,k,C]}class ca extends j{constructor(e){super(),x(this,e,ua,sa,q,{class:0,id:1,style:13,icon:14,size:15,color:2,fw:16,pull:17,scale:18,translateX:19,translateY:20,rotate:21,flip:22,spin:3,pulse:4,primaryColor:5,secondaryColor:6,primaryOpacity:7,secondaryOpacity:8,swapOpacity:9})}}const yn=ca;function fa(l){let e,t,n,i=l[0].description+"",a,r;return t=new yn({props:{icon:l[0].icon}}),{c(){e=v("div"),B(t.$$.fragment),n=L(),a=re(i),m(e,"class","svelte-17yz555")},m(s,o){M(s,e,o),D(t,e,null),p(e,n),p(e,a),r=!0},p(s,[o]){const u={};o&1&&(u.icon=s[0].icon),t.$set(u),(!r||o&1)&&i!==(i=s[0].description+"")&&ye(a,i)},i(s){r||(h(t.$$.fragment,s),r=!0)},o(s){_(t.$$.fragment,s),r=!1},d(s){s&&E(e),T(t)}}}function da(l,e,t){let{control:n}=e;return l.$$set=i=>{"control"in i&&t(0,n=i.control)},[n]}class ma extends j{constructor(e){super(),x(this,e,da,fa,q,{control:0})}}function kl(l,e,t){const n=l.slice();return n[17]=e[t],n}function yl(l){let e,t,n,i,a,r=l[2],s=[];for(let u=0;u<r.length;u+=1)s[u]=wl(kl(l,r,u));const o=u=>_(s[u],1,1,()=>{s[u]=null});return{c(){e=v("div"),t=re(l[0]),n=L();for(let u=0;u<s.length;u+=1)s[u].c();pe(e,"top",l[5]+"px"),pe(e,"left",l[4]+"px"),m(e,"class","tooltip svelte-1ahkpst"),J(e,"capitalise",l[1])},m(u,c){M(u,e,c),p(e,t),p(e,n);for(let f=0;f<s.length;f+=1)s[f].m(e,null);a=!0},p(u,c){if(l=u,(!a||c&1)&&ye(t,l[0]),c&4){r=l[2];let f;for(f=0;f<r.length;f+=1){const d=kl(l,r,f);s[f]?(s[f].p(d,c),h(s[f],1)):(s[f]=wl(d),s[f].c(),h(s[f],1),s[f].m(e,null))}for(X(),f=r.length;f<s.length;f+=1)o(f);Z()}(!a||c&32)&&pe(e,"top",l[5]+"px"),(!a||c&16)&&pe(e,"left",l[4]+"px"),(!a||c&2)&&J(e,"capitalise",l[1])},i(u){if(!a){for(let c=0;c<r.length;c+=1)h(s[c]);i||Ae(()=>{i=Ue(e,kn,{delay:l[7],duration:0}),i.start()}),a=!0}},o(u){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)_(s[c]);a=!1},d(u){u&&E(e),$e(s,u)}}}function wl(l){let e,t;return e=new ma({props:{control:l[17]}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const a={};i&4&&(a.control=n[17]),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function pa(l){let e,t,n,i,a,r,s;const o=l[16].default,u=St(o,l,l[15],null);let c=l[6]&&l[3]&&yl(l);return{c(){e=v("div"),u&&u.c(),n=L(),c&&c.c(),i=we(),m(e,"class",t=Ie(`${l[11].class}`)+" svelte-1ahkpst")},m(f,d){M(f,e,d),u&&u.m(e,null),M(f,n,d),c&&c.m(f,d),M(f,i,d),a=!0,r||(s=[V(e,"mouseover",l[8]),V(e,"mouseleave",l[10]),V(e,"mousemove",l[9]),V(e,"focus",l[8]),V(e,"focusout",l[10])],r=!0)},p(f,[d]){u&&u.p&&(!a||d&32768)&&It(u,o,f,f[15],a?Lt(o,f[15],d,null):At(f[15]),null),(!a||d&2048&&t!==(t=Ie(`${f[11].class}`)+" svelte-1ahkpst"))&&m(e,"class",t),f[6]&&f[3]?c?(c.p(f,d),d&72&&h(c,1)):(c=yl(f),c.c(),h(c,1),c.m(i.parentNode,i)):c&&(X(),_(c,1,1,()=>{c=null}),Z())},i(f){a||(h(u,f),h(c),a=!0)},o(f){_(u,f),_(c),a=!1},d(f){f&&E(e),u&&u.d(f),f&&E(n),c&&c.d(f),f&&E(i),r=!1,be(s)}}}function ha(l,e,t){let n,i,a;ie(l,Gn,$=>t(13,i=$)),ie(l,pn,$=>t(14,a=$));let{$$slots:r={},$$scope:s}=e,{type:o}=e,{text:u=""}=e,{capitalise:c=!1}=e,{controls:f=[]}=e;const d=o==="help"?800:0;let g=!1,k,C;const y=$=>{t(3,g=!0),t(4,k=$.pageX+5),t(5,C=$.pageY+5)},w=$=>{t(4,k=$.pageX+5),t(5,C=$.pageY+5)},S=()=>{t(3,g=!1)};return l.$$set=$=>{t(11,e=ge(ge({},e),ve($))),"type"in $&&t(12,o=$.type),"text"in $&&t(0,u=$.text),"capitalise"in $&&t(1,c=$.capitalise),"controls"in $&&t(2,f=$.controls),"$$scope"in $&&t(15,s=$.$$scope)},l.$$.update=()=>{l.$$.dirty&28672&&t(6,n=o==="help"&&a||o==="info"&&i)},e=ve(e),[u,c,f,g,k,C,n,d,y,w,S,e,o,i,a,s,r]}class Me extends j{constructor(e){super(),x(this,e,ha,pa,q,{type:12,text:0,capitalise:1,controls:2})}}function Et(l){var r;const e=xe(qe),t=(r=xe(he)[l])==null?void 0:r.id,n=xe(je),a=e.filter(s=>s.round===n).find(s=>s.owner.id===t);a?ut.set(a.id):el()}function wn(){const l=xe(qe),e=xe(ut),t=l.findIndex(n=>n.id===e);return{id:e,index:t,buffer:l}}function el(){if(xe(he).length>0){const l=new Jn(xe(he)[xe(Le)],xe(je));qe.update(e=>[...e,l]),ut.set(l.id)}}function Hn(l,e,t=0,n=0){const i=wn();i.buffer[i.index].addLogEntityDamage(l,e,t,n),qe.set(i.buffer)}function ga(l,e,t=0){const n=wn();n.buffer[n.index].addLogEntitySumDamage(l,e,t),qe.set(n.buffer)}function Rr(l,e,t=0){const n=wn();n.buffer[n.index].addLogEntityCondition(l,e,t),qe.set(n.buffer)}function _a(l,e,t=0){const n=wn();n.buffer[n.index].addLogEntityLegendaryActions(l,e,t),qe.set(n.buffer)}function Cn(){qe.set([]),ut.set("")}function va(l){let e,t,n,i,a;return t=new ct({props:{class:"left"}}),{c(){e=v("button"),B(t.$$.fragment),m(e,"class","svelte-1h3nghi")},m(r,s){M(r,e,s),D(t,e,null),n=!0,i||(a=V(e,"click",l[2]),i=!0)},p:G,i(r){n||(h(t.$$.fragment,r),n=!0)},o(r){_(t.$$.fragment,r),n=!1},d(r){r&&E(e),T(t),i=!1,a()}}}function ba(l){let e,t,n,i,a;return t=new ct({}),{c(){e=v("button"),B(t.$$.fragment),m(e,"class","svelte-1h3nghi")},m(r,s){M(r,e,s),D(t,e,null),n=!0,i||(a=V(e,"click",l[1]),i=!0)},p:G,i(r){n||(h(t.$$.fragment,r),n=!0)},o(r){_(t.$$.fragment,r),n=!1},d(r){r&&E(e),T(t),i=!1,a()}}}function ka(l){let e,t,n,i,a,r,s,o,u,c,f,d;return s=new Me({props:{text:"previous",type:"help",$$slots:{default:[va]},$$scope:{ctx:l}}}),u=new Me({props:{text:"next",type:"help",$$slots:{default:[ba]},$$scope:{ctx:l}}}),{c(){e=v("div"),t=v("div"),n=re("Round "),i=re(l[0]),a=L(),r=v("div"),B(s.$$.fragment),o=L(),B(u.$$.fragment),m(t,"class","header"),m(r,"class","tt-buttons flex-row svelte-1h3nghi"),m(e,"class","turn-tracker svelte-1h3nghi")},m(g,k){M(g,e,k),p(e,t),p(t,n),p(t,i),p(e,a),p(e,r),D(s,r,null),p(r,o),D(u,r,null),c=!0,f||(d=V(window,"keydown",l[7]),f=!0)},p(g,[k]){(!c||k&1)&&ye(i,g[0]);const C={};k&4096&&(C.$$scope={dirty:k,ctx:g}),s.$set(C);const y={};k&4096&&(y.$$scope={dirty:k,ctx:g}),u.$set(y)},i(g){c||(h(s.$$.fragment,g),h(u.$$.fragment,g),c=!0)},o(g){_(s.$$.fragment,g),_(u.$$.fragment,g),c=!1},d(g){g&&E(e),T(s),T(u),f=!1,d()}}}function ya(l,e,t){let n,i,a,r,s,o,u,c;ie(l,ut,C=>t(4,i=C)),ie(l,qe,C=>t(5,a=C)),ie(l,Qe,C=>t(9,r=C)),ie(l,qt,C=>t(10,s=C)),ie(l,Le,C=>t(11,o=C)),ie(l,je,C=>t(0,u=C)),ie(l,he,C=>t(6,c=C));const f=()=>{ce(Le,o++,o),o>n&&(ce(Le,o=0,o),ce(je,u++,u),ce(he,c=c.map(C=>(C.type===le.Boss&&(C.laCurrent=C.laMax),C)),c)),hn(),Et(o)},d=()=>{u===1&&o===0||(ce(Le,o--,o),o<0&&(ce(Le,o=n,o),ce(je,u=Math.max(u-1,1),u)),hn(),Et(o))},g=C=>{if(!s&&!r)switch(C.key){case"ArrowLeft":d();return;case"ArrowRight":f();return;default:return}},k=C=>g(C);return l.$$.update=()=>{l.$$.dirty&64&&(n=c.length-1),l.$$.dirty&32&&Dr(a),l.$$.dirty&16&&Tr(i)},[u,f,d,g,i,a,c,k]}class wa extends j{constructor(e){super(),x(this,e,ya,ka,q,{})}}function Ca(l){let e,t;return{c(){e=ue("svg"),t=ue("path"),m(t,"d","M39.978 122.957c-.524-.268-.63-.509-.7-1.582-.1-1.534-.089-2.407.035-2.576.06-.083.397-.226.748-.318.35-.093.977-.34 1.39-.55.415-.21.802-.381.86-.381.059 0 .24.1.401.223 1.81 1.373 4.278.794 5.237-1.229.247-.523.273-.651.272-1.388 0-.692-.034-.882-.221-1.282-.38-.814-5.629-9.852-6.004-10.339-.63-.818-1.476-1.282-2.913-1.6-.546-.12-.627-.319-.677-1.673-.04-1.079-.03-1.19.126-1.39l.17-.215h6.948c6.896 0 6.949 0 7.106.175.155.17.152.31-.13 5.596-.212 3.982-.264 5.474-.197 5.622.075.165 1.032.587 5.348 2.36 3.657 1.504 5.422 2.272 5.8 2.526a5.902 5.902 0 0 1 1.992 2.291c.544 1.113.666 1.815.632 3.64-.03 1.629-.081 1.787-.674 2.09-.275.14-1.06.149-12.775.149-11.713 0-12.499-.009-12.774-.15zm-2.338-6.384c-.271-.112-.56-.253-.64-.314-.344-.26-.619-.544-.619-.64 0-.058.28-.188.62-.29.841-.25 2.643-1.143 3.012-1.491.4-.377.418-.8.051-1.168-.348-.348-.599-.321-1.594.17-2.27 1.12-4.416 1.543-5.89 1.16-1.53-.4-2.827-1.668-3.225-3.154-.175-.657-.11-.697 1.095-.661 1.999.058 5.38-.313 5.968-.655.285-.166.474-.59.41-.922-.049-.257-.393-.603-.648-.652-.108-.02-.54.014-.96.078-.419.063-1.726.139-2.905.167-3.03.075-4.297-.093-5.636-.745-2.427-1.182-3.84-3.992-2.888-5.741.13-.24.303-.477.383-.526.174-.108-.055-.145 6.223 1.014l6.966 1.285c2.332.43 2.761.584 3.2 1.148.395.51 5.797 9.945 5.859 10.235.07.326-.079.922-.31 1.248-.365.51-1.256.726-1.898.457-.156-.065-.414-.282-.574-.483-.514-.644-.744-.852-.943-.852-.107 0-.712.294-1.344.654-.632.359-1.322.705-1.535.769-.623.188-1.6.147-2.178-.09zm-.403-19.925-.2-.212.236-1.319c.155-.862.215-1.417.175-1.603-.034-.157-.23-.745-.436-1.305-.426-1.162-.448-1.342-.187-1.585.186-.173.25-.174 8.724-.174h8.536l.21.21c.116.115.21.266.21.334 0 .069-.192.65-.427 1.294-.267.727-.427 1.303-.424 1.524.002.196.093.837.203 1.425.21 1.125.192 1.37-.112 1.534-.116.062-2.714.09-8.239.09h-8.069z"),pe(t,"stroke-width","1"),m(t,"transform","translate(-23.49 -90.45)"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","100%"),m(e,"height","100%"),m(e,"viewBox","0 0 52.716 32.656")},m(n,i){M(n,e,i),p(e,t)},p:G,i:G,o:G,d(n){n&&E(e)}}}class Tt extends j{constructor(e){super(),x(this,e,null,Ca,q,{})}}function $a(l){let e,t;return{c(){e=ue("svg"),t=ue("path"),m(t,"d","M7.54 292.767H.927"),pe(t,"opacity","1"),pe(t,"vector-effect","none"),pe(t,"fill","none"),pe(t,"fill-opacity","1"),pe(t,"stroke-width","1.82562494"),pe(t,"stroke-linecap","round"),pe(t,"stroke-linejoin","round"),pe(t,"stroke-miterlimit","4"),pe(t,"stroke-dasharray","none"),pe(t,"stroke-dashoffset","0"),pe(t,"stroke-opacity","1"),m(t,"transform","translate(0 -288.533)"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","100%"),m(e,"height","100%"),m(e,"viewBox","0 0 8.467 8.467")},m(n,i){M(n,e,i),p(e,t)},p:G,i:G,o:G,d(n){n&&E(e)}}}class Ea extends j{constructor(e){super(),x(this,e,null,$a,q,{})}}function Ma(l){let e,t;return{c(){e=ue("svg"),t=ue("path"),m(t,"d","M4.233 289.46v6.614M7.54 292.767H.927"),pe(t,"opacity","1"),pe(t,"vector-effect","none"),pe(t,"fill","none"),pe(t,"fill-opacity","1"),pe(t,"stroke-width","1.82562494"),pe(t,"stroke-linecap","round"),pe(t,"stroke-linejoin","round"),pe(t,"stroke-miterlimit","4"),pe(t,"stroke-dasharray","none"),pe(t,"stroke-dashoffset","0"),pe(t,"stroke-opacity","1"),m(t,"transform","translate(0 -288.533)"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","100%"),m(e,"height","100%"),m(e,"viewBox","0 0 8.467 8.467")},m(n,i){M(n,e,i),p(e,t)},p:G,i:G,o:G,d(n){n&&E(e)}}}class Sa extends j{constructor(e){super(),x(this,e,null,Ma,q,{})}}function La(l){let e,t;return e=new Ea({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Ia(l){let e,t;return e=new Sa({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Aa(l){let e,t,n,i,a,r,s;const o=[Ia,La],u=[];function c(f,d){return f[0]==="+"?0:1}return t=c(l),n=u[t]=o[t](l),{c(){e=v("button"),n.c(),m(e,"style",i=`--width: ${l[2]}`),e.disabled=l[3],m(e,"class","svelte-1axs2vt")},m(f,d){M(f,e,d),u[t].m(e,null),a=!0,r||(s=V(e,"click",function(){De(l[1])&&l[1].apply(this,arguments)}),r=!0)},p(f,[d]){l=f;let g=t;t=c(l),t!==g&&(X(),_(u[g],1,1,()=>{u[g]=null}),Z(),n=u[t],n||(n=u[t]=o[t](l),n.c()),h(n,1),n.m(e,null)),(!a||d&4&&i!==(i=`--width: ${l[2]}`))&&m(e,"style",i),(!a||d&8)&&(e.disabled=l[3])},i(f){a||(h(n),a=!0)},o(f){_(n),a=!1},d(f){f&&E(e),u[t].d(),r=!1,s()}}}function Oa(l,e,t){let{type:n}=e,{onClick:i}=e,{width:a="2rem"}=e,{disabled:r=!1}=e;return l.$$set=s=>{"type"in s&&t(0,n=s.type),"onClick"in s&&t(1,i=s.onClick),"width"in s&&t(2,a=s.width),"disabled"in s&&t(3,r=s.disabled)},[n,i,a,r]}class Fe extends j{constructor(e){super(),x(this,e,Oa,Aa,q,{type:0,onClick:1,width:2,disabled:3})}}function Da(l){let e,t,n,i,a;return t=new Fe({props:{type:"-",onClick:l[4]}}),i=new Fe({props:{type:"+",onClick:l[3]}}),{c(){e=v("div"),B(t.$$.fragment),n=L(),B(i.$$.fragment),m(e,"class","add-remove svelte-420ezg"),J(e,"vertical",l[1]),J(e,"hidden",l[0]),J(e,"center",l[2])},m(r,s){M(r,e,s),D(t,e,null),p(e,n),D(i,e,null),a=!0},p(r,[s]){const o={};s&16&&(o.onClick=r[4]),t.$set(o);const u={};s&8&&(u.onClick=r[3]),i.$set(u),(!a||s&2)&&J(e,"vertical",r[1]),(!a||s&1)&&J(e,"hidden",r[0]),(!a||s&4)&&J(e,"center",r[2])},i(r){a||(h(t.$$.fragment,r),h(i.$$.fragment,r),a=!0)},o(r){_(t.$$.fragment,r),_(i.$$.fragment,r),a=!1},d(r){r&&E(e),T(t),T(i)}}}function Ta(l,e,t){let{isHidden:n=!1}=e,{vertical:i=!1}=e,{center:a=!1}=e,{add:r}=e,{remove:s}=e;return l.$$set=o=>{"isHidden"in o&&t(0,n=o.isHidden),"vertical"in o&&t(1,i=o.vertical),"center"in o&&t(2,a=o.center),"add"in o&&t(3,r=o.add),"remove"in o&&t(4,s=o.remove)},[n,i,a,r,s]}class $n extends j{constructor(e){super(),x(this,e,Ta,Da,q,{isHidden:0,vertical:1,center:2,add:3,remove:4})}}class En extends Ir{constructor(){super();Ee(this,"theme");Ee(this,"counters");this.type=Ne.Effect,this.initiative=20,Object.setPrototypeOf(this,En.prototype)}}var Ne=(l=>(l.Effect="effect",l))(Ne||{});function tl(l){const e=Math.ceil(Math.random()*l);if(e>l)throw new Error("Erkk - the gods intervened with the die roll");return e}function Ba(l){let e,t,n;return{c(){e=ue("svg"),t=ue("path"),m(t,"d","M97.511 26.109 78.874 59.145 62.496 77.222l-46.03 90.647 7.474-1.807 32.182-49.406 7.585 4.395 29.97-44.576L153.91 57.41l-36.63-13.507Zm61.638 13.425-4.395 19.568L96.62 78.215l34.969 32.403 7.588 35.544 29.178 4.217 16.922-21.255 22.606-9.167-4.407-16.527-20.368-37.94zM94.467 81.218l-29.97 44.576-7.587-4.392-30.16 44.194 22.572-3.453 16.775 13.58 5.075 9.455.514-1.876 16.375-23.164 27.556-14.776 18.985.166-5.408-34.11zm115.013 41.29-22.507 8.875s-7.41 10.38-14.522 19.795l10.276 18.547.382-.794s25.559-5.589 27.156-5.589c1.597 0 35.144 6.789 35.144 6.789l3.059 6.52-3.059-21.305zM48.534 165.31l-33.947 5.189-11.98 21.567-2.396 37.94H68.9l10.385-15.576-5.192-19.169-8.785-16.375zm161.734 1.196c-1.597 0-27.156 5.592-27.156 5.592l-5.192 10.783-5.192 15.573 2.793 23.964 15.179 7.587h65.096l-1.2-37.14-9.184-19.57s-33.545-6.789-35.144-6.789z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","100%"),m(e,"height","100%"),m(e,"viewBox","0 0 256 256"),m(e,"class",n=l[0].class)},m(i,a){M(i,e,a),p(e,t)},p(i,[a]){a&1&&n!==(n=i[0].class)&&m(e,"class",n)},i:G,o:G,d(i){i&&E(e)}}}function Ha(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),ve(n)))},e=ve(e),[e]}class ft extends j{constructor(e){super(),x(this,e,Ha,Ba,q,{})}}function za(l){let e,t;return{c(){e=ue("svg"),t=ue("path"),pe(t,"stroke-width","1"),m(t,"d","M53.94 88.05c-7.639-4.408-13.98-8.102-14.092-8.21-.112-.106-.146-.225-.076-.263.07-.039 6.37.8 14 1.865 9.7 1.353 13.98 2.006 14.234 2.173.2.131.43.41.509.618.2.529.19 11.163-.012 11.54-.086.161-.273.292-.416.292-.142 0-6.508-3.608-14.147-8.015zm16.695 7.739c-.21-.392-.228-11.01-.02-11.556.079-.209.308-.487.508-.618.255-.167 4.43-.804 13.913-2.122 7.452-1.035 13.76-1.882 14.017-1.882.406 0 .438.028.246.212-.36.346-27.807 16.14-28.169 16.21-.222.042-.385-.038-.495-.244zm-18.81-16.47c-8.136-1.14-14.97-2.116-15.183-2.17-.214-.054-.467-.27-.563-.48-.208-.456-.652.878 5.83-17.514 4.56-12.94 4.804-13.587 5.151-13.587.326 0 1.411 1.844 10.302 17.512 5.465 9.632 9.937 17.658 9.937 17.835 0 .287-.293.537-.577.491-.056-.009-6.759-.948-14.896-2.088zm20.172 1.966c-.122-.077-.18-.284-.14-.496.038-.2 3.729-6.813 8.2-14.697l9.887-17.429c1.53-2.697 1.803-3.095 2.123-3.095.35 0 .583.615 5.231 13.813 6.498 18.453 5.959 16.835 5.758 17.276-.093.204-.267.408-.386.454-.119.045-6.818.998-14.887 2.118-8.069 1.119-14.875 2.07-15.124 2.111-.249.043-.547.018-.662-.055zm-3.082-1.637c-.193-.311-4.762-8.344-10.153-17.851-6.934-12.226-9.803-17.418-9.803-17.738v-.453H90.17l-.001.453c-.001.319-2.961 5.67-10.02 18.115-5.51 9.715-10.086 17.748-10.169 17.852-.28.35-.708.199-1.066-.378Zm-33.62-24.18c0-14.474.025-16.168.238-16.38.13-.131.317-.238.415-.237.4 0 8.803 3.806 9.047 4.096.145.173.264.494.264.713 0 .22-2.174 6.57-4.83 14.114-2.658 7.544-4.831 13.743-4.831 13.776 0 .033-.068.06-.151.06-.1 0-.151-5.482-.151-16.143zm68.046 15.5c-.12-.353-2.301-6.554-4.845-13.78-2.545-7.225-4.626-13.315-4.626-13.532 0-.217.119-.536.264-.71.234-.278 8.026-3.822 8.872-4.034.2-.05.43.014.58.165.226.227.247 1.615.247 16.39 0 9.545-.055 16.143-.136 16.143-.075 0-.236-.29-.356-.642zm-53.8-29.626a.665.665 0 0 1-.012-.416c.164-.41 19.33-21.881 19.671-22.037a.778.778 0 0 1 .726 0c.198.09 4.718 5.077 10.043 11.082 6.889 7.769 9.67 11.005 9.64 11.22-.041.3-.17.302-20.011.34-17.657.034-19.98.012-20.057-.189zm43.01-.407c-.393-.105-2.079-1.925-8.744-9.448l-8.77-9.898c-.283-.319-.478-.616-.433-.66.065-.065 24.846 14.064 26.861 15.315 1.107.687.949.813-3.502 2.793-4.466 1.988-4.726 2.08-5.411 1.898zm-51.217-1.823c-4.633-2.061-4.782-2.177-3.67-2.868 2.015-1.251 26.796-15.38 26.862-15.315.044.044-.15.341-.432.66-11.424 12.913-17.05 19.202-17.25 19.279-.728.279-1.46.046-5.51-1.756z"),m(t,"transform","translate(-35.296 -18.8)"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","100%"),m(e,"height","100%"),m(e,"viewBox","0 0 68.538 77.266")},m(n,i){M(n,e,i),p(e,t)},p:G,i:G,o:G,d(n){n&&E(e)}}}class Ra extends j{constructor(e){super(),x(this,e,null,za,q,{})}}function Pa(l){let e,t,n,i,a,r;return t=new Ra({}),{c(){e=v("button"),B(t.$$.fragment),m(e,"class","d20 svelte-1pskf87"),m(e,"style",n=`--primary-color: ${l[0]}; --secondary-color: ${l[1]}; --width: ${l[2]}`),J(e,"rolly",l[3])},m(s,o){M(s,e,o),D(t,e,null),i=!0,a||(r=V(e,"click",l[4]),a=!0)},p(s,[o]){(!i||o&7&&n!==(n=`--primary-color: ${s[0]}; --secondary-color: ${s[1]}; --width: ${s[2]}`))&&m(e,"style",n),(!i||o&8)&&J(e,"rolly",s[3])},i(s){i||(h(t.$$.fragment,s),i=!0)},o(s){_(t.$$.fragment,s),i=!1},d(s){s&&E(e),T(t),a=!1,r()}}}function Ga(l,e,t){let{onClick:n}=e,{primary:i="var(--primary)"}=e,{secondary:a="var(--secondary)"}=e,{width:r="3rem"}=e,s=!1;const o=()=>{n(),t(3,s=!0)};return l.$$set=u=>{"onClick"in u&&t(5,n=u.onClick),"primary"in u&&t(0,i=u.primary),"secondary"in u&&t(1,a=u.secondary),"width"in u&&t(2,r=u.width)},[i,a,r,s,o,n]}class Mn extends j{constructor(e){super(),x(this,e,Ga,Pa,q,{onClick:5,primary:0,secondary:1,width:2})}}function Na(l){let e,t,n,i,a;return{c(){e=v("div"),t=v("input"),t.disabled=l[2],m(t,"style",n=`--theme: ${l[1]}`),m(t,"placeholder","Effect"),m(t,"class","svelte-p9vots"),J(t,"input-locked",l[2]&&!l[0].theme),m(e,"class","input-counters")},m(r,s){M(r,e,s),p(e,t),Oe(t,l[0].name),i||(a=V(t,"input",l[3]),i=!0)},p(r,[s]){s&4&&(t.disabled=r[2]),s&2&&n!==(n=`--theme: ${r[1]}`)&&m(t,"style",n),s&1&&t.value!==r[0].name&&Oe(t,r[0].name),s&5&&J(t,"input-locked",r[2]&&!r[0].theme)},i:G,o:G,d(r){r&&E(e),i=!1,a()}}}function Fa(l,e,t){let n,i;ie(l,Pe,s=>t(2,i=s));let{effect:a}=e;function r(){a.name=this.value,t(0,a)}return l.$$set=s=>{"effect"in s&&t(0,a=s.effect)},l.$$.update=()=>{l.$$.dirty&1&&t(1,n=a.theme?ta(a.theme):"")},[a,n,i,r]}class Pr extends j{constructor(e){super(),x(this,e,Fa,Na,q,{effect:0})}}function qa(l){let e,t,n,i;return{c(){e=v("input"),m(e,"type","number"),m(e,"placeholder",t=!l[0]&&l[1]?"?":""),e.value=l[0],m(e,"class","svelte-1s2ppu8")},m(a,r){M(a,e,r),n||(i=V(e,"input",l[5]),n=!0)},p(a,[r]){r&3&&t!==(t=!a[0]&&a[1]?"?":"")&&m(e,"placeholder",t),r&1&&e.value!==a[0]&&(e.value=a[0])},i:G,o:G,d(a){a&&E(e),n=!1,i()}}}function Wa(l,e,t){let n,i;ie(l,Pe,u=>t(1,i=u));let{initiative:a}=e,{bonus:r=0}=e;const s=u=>{const c=u.target;try{t(3,a=Number(c.value)-r)}catch{c.value=void 0;return}},o=u=>s(u);return l.$$set=u=>{"initiative"in u&&t(3,a=u.initiative),"bonus"in u&&t(4,r=u.bonus)},l.$$.update=()=>{l.$$.dirty&24&&t(0,n=a+r)},[n,i,s,a,r,o]}class Sn extends j{constructor(e){super(),x(this,e,Wa,qa,q,{initiative:3,bonus:4})}}function Va(l){let e,t,n,i,a,r;return{c(){e=v("div"),t=v("button"),t.textContent="+",n=L(),i=v("button"),i.textContent="-",m(t,"class","svelte-13c0ito"),m(i,"class","svelte-13c0ito"),m(e,"class","spinners svelte-13c0ito"),J(e,"hidden",l[0])},m(s,o){M(s,e,o),p(e,t),p(e,n),p(e,i),a||(r=[V(t,"click",l[1]),V(i,"click",l[2])],a=!0)},p(s,[o]){o&1&&J(e,"hidden",s[0])},i:G,o:G,d(s){s&&E(e),a=!1,be(r)}}}function xa(l,e,t){let{value:n}=e,{isHidden:i=!1}=e,{onValueChange:a=()=>{}}=e;const r=()=>{t(3,n++,n),a(1)},s=()=>{t(3,n--,n),a(-1)};return l.$$set=o=>{"value"in o&&t(3,n=o.value),"isHidden"in o&&t(0,i=o.isHidden),"onValueChange"in o&&t(4,a=o.onValueChange)},[i,r,s,n,a]}class nl extends j{constructor(e){super(),x(this,e,xa,Va,q,{value:3,isHidden:0,onValueChange:4})}}function ja(l){let e,t,n,i,a,r,s,o,u;function c(d){l[4](d)}let f={isHidden:!l[2]};return l[0]!==void 0&&(f.value=l[0]),a=new nl({props:f}),Q.push(()=>ne(a,"value",c)),{c(){e=v("div"),t=v("input"),i=L(),B(a.$$.fragment),m(t,"type","number"),m(t,"class",n=Ie(`effect-counter-input ${l[1]}`)+" svelte-1dh52mx"),m(e,"class","effect-value-container svelte-1dh52mx")},m(d,g){M(d,e,g),p(e,t),Oe(t,l[0]),p(e,i),D(a,e,null),s=!0,o||(u=[V(t,"input",l[3]),V(e,"mouseenter",l[5]),V(e,"mouseleave",l[6])],o=!0)},p(d,[g]){(!s||g&2&&n!==(n=Ie(`effect-counter-input ${d[1]}`)+" svelte-1dh52mx"))&&m(t,"class",n),g&1&&lt(t.value)!==d[0]&&Oe(t,d[0]);const k={};g&4&&(k.isHidden=!d[2]),!r&&g&1&&(r=!0,k.value=d[0],te(()=>r=!1)),a.$set(k)},i(d){s||(h(a.$$.fragment,d),s=!0)},o(d){_(a.$$.fragment,d),s=!1},d(d){d&&E(e),T(a),o=!1,be(u)}}}function Ua(l,e,t){let{value:n=0}=e,{extraClasses:i=""}=e,a=!1;function r(){n=lt(this.value),t(0,n)}function s(c){n=c,t(0,n)}const o=()=>t(2,a=!0),u=()=>t(2,a=!1);return l.$$set=c=>{"value"in c&&t(0,n=c.value),"extraClasses"in c&&t(1,i=c.extraClasses)},[n,i,a,r,s,o,u]}class Gr extends j{constructor(e){super(),x(this,e,Ua,ja,q,{value:0,extraClasses:1})}}function Cl(l,e,t){const n=l.slice();return n[11]=e[t],n[12]=e,n[13]=t,n}function $l(l){let e,t,n=l[0].counters,i=[];for(let r=0;r<n.length;r+=1)i[r]=El(Cl(l,n,r));const a=r=>_(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=we()},m(r,s){for(let o=0;o<i.length;o+=1)i[o].m(r,s);M(r,e,s),t=!0},p(r,s){if(s&1){n=r[0].counters;let o;for(o=0;o<n.length;o+=1){const u=Cl(r,n,o);i[o]?(i[o].p(u,s),h(i[o],1)):(i[o]=El(u),i[o].c(),h(i[o],1),i[o].m(e.parentNode,e))}for(X(),o=n.length;o<i.length;o+=1)a(o);Z()}},i(r){if(!t){for(let s=0;s<n.length;s+=1)h(i[s]);t=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)_(i[s]);t=!1},d(r){$e(i,r),r&&E(e)}}}function El(l){let e,t,n;function i(r){l[7](r,l[11],l[12],l[13])}let a={extraClasses:l[0].counters.length>3?"small-counter":""};return l[11]!==void 0&&(a.value=l[11]),e=new Gr({props:a}),Q.push(()=>ne(e,"value",i)),{c(){B(e.$$.fragment)},m(r,s){D(e,r,s),n=!0},p(r,s){l=r;const o={};s&1&&(o.extraClasses=l[0].counters.length>3?"small-counter":""),!t&&s&1&&(t=!0,o.value=l[11],te(()=>t=!1)),e.$set(o)},i(r){n||(h(e.$$.fragment,r),n=!0)},o(r){_(e.$$.fragment,r),n=!1},d(r){T(e,r)}}}function Ya(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y,w,S,$,I,b,O,R;i=new ft({});function H(W){l[6](W)}let A={};l[0]!==void 0&&(A.effect=l[0]),s=new Pr({props:A}),Q.push(()=>ne(s,"effect",H)),d=new $n({props:{add:l[2],remove:l[3],center:!0}});let z=l[0].counters&&$l(l);function K(W){l[8](W)}let se={bonus:0};return l[0].initiative!==void 0&&(se.initiative=l[0].initiative),y=new Sn({props:se}),Q.push(()=>ne(y,"initiative",K)),I=new Mn({props:{onClick:l[9]}}),{c(){e=v("tr"),t=v("td"),n=v("button"),B(i.$$.fragment),a=L(),r=v("td"),B(s.$$.fragment),u=L(),c=v("td"),f=v("div"),B(d.$$.fragment),g=L(),z&&z.c(),k=L(),C=v("td"),B(y.$$.fragment),S=L(),$=v("td"),B(I.$$.fragment),m(n,"class","blank-button svg-fit svelte-kpkcui"),m(t,"class","blue svg-fit-container td-icon"),m(f,"class","counters")},m(W,N){M(W,e,N),p(e,t),p(t,n),D(i,n,null),p(e,a),p(e,r),D(s,r,null),p(e,u),p(e,c),p(c,f),D(d,f,null),p(f,g),z&&z.m(f,null),p(e,k),p(e,C),D(y,C,null),p(e,S),p(e,$),D(I,$,null),b=!0,O||(R=[V(n,"click",l[1]),V(n,"contextmenu",Ot(l[5]))],O=!0)},p(W,[N]){const P={};!o&&N&1&&(o=!0,P.effect=W[0],te(()=>o=!1)),s.$set(P),W[0].counters?z?(z.p(W,N),N&1&&h(z,1)):(z=$l(W),z.c(),h(z,1),z.m(f,null)):z&&(X(),_(z,1,1,()=>{z=null}),Z());const F={};!w&&N&1&&(w=!0,F.initiative=W[0].initiative,te(()=>w=!1)),y.$set(F);const U={};N&1&&(U.onClick=W[9]),I.$set(U)},i(W){b||(h(i.$$.fragment,W),h(s.$$.fragment,W),h(d.$$.fragment,W),h(z),h(y.$$.fragment,W),h(I.$$.fragment,W),b=!0)},o(W){_(i.$$.fragment,W),_(s.$$.fragment,W),_(d.$$.fragment,W),_(z),_(y.$$.fragment,W),_(I.$$.fragment,W),b=!1},d(W){W&&E(e),T(i),T(s),T(d),z&&z.d(),T(y),T(I),O=!1,be(R)}}}function Ka(l,e,t){let n;ie(l,he,k=>t(4,n=k));let{effect:i}=e,a=0;const r=()=>{i.theme&&(a=(a+1)%Ft.length),t(0,i.theme=Ft[a],i)},s=()=>{i.counters?t(0,i.counters=[...i.counters,0],i):t(0,i.counters=[0],i)},o=()=>{i.counters.length>0&&t(0,i.counters=[...i.counters.slice(0,-1)],i)},u=()=>t(0,i.theme=void 0,i);function c(k){i=k,t(0,i)}function f(k,C,y,w){y[w]=k,t(0,i)}function d(k){l.$$.not_equal(i.initiative,k)&&(i.initiative=k,t(0,i))}const g=()=>t(0,i.initiative=tl(20),i);return l.$$set=k=>{"effect"in k&&t(0,i=k.effect)},l.$$.update=()=>{l.$$.dirty&17&&jt(n)},[i,r,s,o,n,u,c,f,d,g]}class Nr extends j{constructor(e){super(),x(this,e,Ka,Ya,q,{effect:0})}}function Ml(l,e,t){const n=l.slice();return n[4]=e[t],n}function Sl(l){let e,t;return e=new Nr({props:{effect:l[4]}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const a={};i&1&&(a.effect=n[4]),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Ja(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y,w,S;e=new $n({props:{add:l[1],remove:l[2]}}),g=new Tt({});let $=l[0],I=[];for(let O=0;O<$.length;O+=1)I[O]=Sl(Ml(l,$,O));const b=O=>_(I[O],1,1,()=>{I[O]=null});return{c(){B(e.$$.fragment),t=L(),n=v("table"),i=v("thead"),a=v("th"),r=L(),s=v("th"),s.textContent="Effect",o=L(),u=v("th"),u.textContent="Counters",c=L(),f=v("th"),d=v("div"),B(g.$$.fragment),k=L(),C=v("th"),y=L(),w=v("tbody");for(let O=0;O<I.length;O+=1)I[O].c();m(a,"class","value-col"),m(s,"class","full-width svelte-1ky2wtb"),m(u,"class","fit-content svelte-1ky2wtb"),m(d,"class","icon-header svg-fit-container"),m(f,"class","value-col"),m(C,"class","value-col"),m(i,"class","secondary")},m(O,R){D(e,O,R),M(O,t,R),M(O,n,R),p(n,i),p(i,a),p(i,r),p(i,s),p(i,o),p(i,u),p(i,c),p(i,f),p(f,d),D(g,d,null),p(i,k),p(i,C),p(n,y),p(n,w);for(let H=0;H<I.length;H+=1)I[H].m(w,null);S=!0},p(O,[R]){if(R&1){$=O[0];let H;for(H=0;H<$.length;H+=1){const A=Ml(O,$,H);I[H]?(I[H].p(A,R),h(I[H],1)):(I[H]=Sl(A),I[H].c(),h(I[H],1),I[H].m(w,null))}for(X(),H=$.length;H<I.length;H+=1)b(H);Z()}},i(O){if(!S){h(e.$$.fragment,O),h(g.$$.fragment,O);for(let R=0;R<$.length;R+=1)h(I[R]);S=!0}},o(O){_(e.$$.fragment,O),_(g.$$.fragment,O),I=I.filter(Boolean);for(let R=0;R<I.length;R+=1)_(I[R]);S=!1},d(O){T(e,O),O&&E(t),O&&E(n),T(g),$e(I,O)}}}function Xa(l,e,t){let n,i;ie(l,he,s=>t(3,i=s));const a=()=>{ce(he,i=[...i,new En],i)},r=()=>{ce(he,i=[...i.slice(0,-1)],i)};return l.$$.update=()=>{l.$$.dirty&8&&t(0,n=i.filter(s=>s.type===Ne.Effect))},[n,a,r,i]}class Fr extends j{constructor(e){super(),x(this,e,Xa,Ja,q,{})}}function Za(l){let e,t;return{c(){e=ue("svg"),t=ue("path"),m(t,"d","M20.94 39.596c-2.05-3.566-8.16-9.57-12.914-12.69-1.753-1.15-2.57-1.853-3.655-3.14-1.25-1.483-2.01-2.786-2.775-4.75C.656 16.597.493 15.76.5 13.38c.005-1.518.067-2.272.268-3.233.921-4.403 3.274-7.647 6.422-8.86 2.927-1.127 6.664-1.024 9.215.253 1.693.848 2.792 1.794 4.173 3.594l.823 1.072.823-1.072C24.66 1.961 27.41.52 31.033.516c3.548-.003 6.105 1.03 7.993 3.233 1.632 1.904 2.615 4.158 3.106 7.123.472 2.843.199 5.31-.9 8.143-1.254 3.231-3.411 5.953-6.016 7.59-4.452 2.798-10.553 8.633-12.979 12.412-.41.64-.784 1.183-.83 1.206-.046.022-.255-.26-.467-.627z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","100%"),m(e,"height","100%"),m(e,"viewBox","0 0 42.852 40.731")},m(n,i){M(n,e,i),p(e,t)},p:G,i:G,o:G,d(n){n&&E(e)}}}class dt extends j{constructor(e){super(),x(this,e,null,Za,q,{})}}function Qa(l){let e,t;return{c(){e=ue("svg"),t=ue("path"),m(t,"d","M38.763 97.938C24.624 89.333 14.62 78.763 7.912 65.342 4.009 57.534 1.579 49.919.648 42.588c-.46-3.633-.852-22.2-.53-25.2l.18-1.692 4.152-.462c18.049-2.008 25.89-4.9 34.446-12.705C40.424 1.135 41.734-.003 41.806 0c.073.003 1.383 1.143 2.91 2.534 8.472 7.71 16.167 10.605 33.388 12.563l5.21.592.18 1.685c.334 3.12-.052 21.335-.535 25.208-1.013 8.137-4.301 17.66-8.984 26.02-5.857 10.459-14.091 19.313-24.496 26.343-2.872 1.94-7.5 4.81-7.71 4.779-.052-.008-1.405-.812-3.006-1.786z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","100%"),m(e,"height","100%"),m(e,"viewBox","0 0 83.619 99.724")},m(n,i){M(n,e,i),p(e,t)},p:G,i:G,o:G,d(n){n&&E(e)}}}class ll extends j{constructor(e){super(),x(this,e,null,Qa,q,{})}}function Ll(l){let e,t;return{c(){e=v("div"),m(e,"class","health-bar svelte-1b52vi3"),m(e,"style",t=`--width: ${Math.min(l[0]-100,100)}%; --color: lightGreen`)},m(n,i){M(n,e,i)},p(n,i){i&1&&t!==(t=`--width: ${Math.min(n[0]-100,100)}%; --color: lightGreen`)&&m(e,"style",t)},d(n){n&&E(e)}}}function eo(l){let e,t,n,i=l[0]>100&&Ll(l);return{c(){e=v("div"),t=L(),i&&i.c(),n=we(),m(e,"class","health-bar svelte-1b52vi3"),m(e,"style",l[1])},m(a,r){M(a,e,r),M(a,t,r),i&&i.m(a,r),M(a,n,r)},p(a,[r]){r&2&&m(e,"style",a[1]),a[0]>100?i?i.p(a,r):(i=Ll(a),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i:G,o:G,d(a){a&&E(e),a&&E(t),i&&i.d(a),a&&E(n)}}}function to(l,e,t){let n,i,a,{max:r}=e,{current:s}=e;return l.$$set=o=>{"max"in o&&t(2,r=o.max),"current"in o&&t(3,s=o.current)},l.$$.update=()=>{l.$$.dirty&12&&t(0,n=Math.max(Math.round(100*s/r),0)),l.$$.dirty&1&&t(4,i=n<=50?"red":n<100?"orange":"green"),l.$$.dirty&17&&t(1,a=`--width: ${Math.min(n,100)}%; --color: ${i}`)},[n,a,r,s,i]}class il extends j{constructor(e){super(),x(this,e,to,eo,q,{max:2,current:3})}}function no(l){let e,t;return{c(){e=ue("svg"),t=ue("path"),m(t,"d","m77.755 58.419 14.74-14.741M77.755 43.678l14.74 14.741"),pe(t,"stroke-width","5.68854"),pe(t,"stroke-linecap","round"),pe(t,"stroke-linejoin","miter"),pe(t,"stroke-miterlimit","4"),pe(t,"stroke-dasharray","none"),pe(t,"stroke-opacity","1"),m(t,"transform","translate(-74.91 -40.834)"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","100%"),m(e,"height","100%"),m(e,"viewBox","0 0 20.43 20.43")},m(n,i){M(n,e,i),p(e,t)},p:G,i:G,o:G,d(n){n&&E(e)}}}class lo extends j{constructor(e){super(),x(this,e,null,no,q,{})}}function io(l){let e,t,n,i,a;return t=new lo({}),{c(){e=v("button"),B(t.$$.fragment),m(e,"class","remove flex-col svelte-1afiotu"),J(e,"hidden",l[1]),J(e,"inverted",l[2])},m(r,s){M(r,e,s),D(t,e,null),n=!0,i||(a=V(e,"click",function(){De(l[0])&&l[0].apply(this,arguments)}),i=!0)},p(r,[s]){l=r,(!n||s&2)&&J(e,"hidden",l[1]),(!n||s&4)&&J(e,"inverted",l[2])},i(r){n||(h(t.$$.fragment,r),n=!0)},o(r){_(t.$$.fragment,r),n=!1},d(r){r&&E(e),T(t),i=!1,a()}}}function ro(l,e,t){let{onClick:n}=e,{isHidden:i=!1}=e,{isinverted:a=!1}=e;return l.$$set=r=>{"onClick"in r&&t(0,n=r.onClick),"isHidden"in r&&t(1,i=r.isHidden),"isinverted"in r&&t(2,a=r.isinverted)},[n,i,a]}class tt extends j{constructor(e){super(),x(this,e,ro,io,q,{onClick:0,isHidden:1,isinverted:2})}}const Vt=["blinded","charmed","deafened","frightened","grappled","incapacitated","invisible","paralyzed","petrified","poisoned","prone","restrained","stunned","unconscious","exhausted-I","exhausted-II","exhausted-III","exhausted-IV"];function ao(l){let e,t,n;function i(s,o){return o&1&&(t=null),t==null&&(t=!!Vt.includes(s[0])),t?uo:so}let a=i(l,-1),r=a(l);return{c(){e=ue("svg"),r.c(),m(e,"class",n=Ie(`${l[3].class} noTooltip`)+" svelte-10ftw6l"),m(e,"width",l[1]),m(e,"height",l[1]),m(e,"viewBox","0 0 100 100")},m(s,o){M(s,e,o),r.m(e,null)},p(s,o){a===(a=i(s,o))&&r?r.p(s,o):(r.d(1),r=a(s),r&&(r.c(),r.m(e,null))),o&8&&n!==(n=Ie(`${s[3].class} noTooltip`)+" svelte-10ftw6l")&&m(e,"class",n),o&2&&m(e,"width",s[1]),o&2&&m(e,"height",s[1])},i:G,o:G,d(s){s&&E(e),r.d()}}}function oo(l){let e,t;return e=new Me({props:{text:l[0],class:l[3].class,type:"info",capitalise:!0,$$slots:{default:[mo]},$$scope:{ctx:l}}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const a={};i&1&&(a.text=n[0]),i&8&&(a.class=n[3].class),i&27&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function so(l){let e,t,n=l[0].slice(0,2)+"",i;return{c(){e=ue("polygon"),t=ue("text"),i=re(n),m(e,"points","50,3 92,25 92,75 50,97 8,75 8,25"),m(e,"class","svelte-10ftw6l"),m(t,"x","50"),m(t,"y","50"),m(t,"dominant-baseline","central"),m(t,"text-anchor","middle"),m(t,"class","svelte-10ftw6l")},m(a,r){M(a,e,r),M(a,t,r),p(t,i)},p(a,r){r&1&&n!==(n=a[0].slice(0,2)+"")&&ye(i,n)},d(a){a&&E(e),a&&E(t)}}}function uo(l){let e,t;return{c(){e=ue("use"),m(e,"href",t=`icons/conditions.svg#${l[0]}`)},m(n,i){M(n,e,i)},p(n,i){i&1&&t!==(t=`icons/conditions.svg#${n[0]}`)&&m(e,"href",t)},d(n){n&&E(e)}}}function co(l){let e,t,n=l[0].slice(0,2)+"",i;return{c(){e=ue("polygon"),t=ue("text"),i=re(n),m(e,"points","50,3 92,25 92,75 50,97 8,75 8,25"),m(e,"class","svelte-10ftw6l"),m(t,"x","50"),m(t,"y","50"),m(t,"dominant-baseline","central"),m(t,"text-anchor","middle"),m(t,"class","svelte-10ftw6l")},m(a,r){M(a,e,r),M(a,t,r),p(t,i)},p(a,r){r&1&&n!==(n=a[0].slice(0,2)+"")&&ye(i,n)},d(a){a&&E(e),a&&E(t)}}}function fo(l){let e,t;return{c(){e=ue("use"),m(e,"href",t=`icons/conditions.svg#${l[0]}`)},m(n,i){M(n,e,i)},p(n,i){i&1&&t!==(t=`icons/conditions.svg#${n[0]}`)&&m(e,"href",t)},d(n){n&&E(e)}}}function mo(l){let e,t,n;function i(s,o){return o&1&&(t=null),t==null&&(t=!!Vt.includes(s[0])),t?fo:co}let a=i(l,-1),r=a(l);return{c(){e=ue("svg"),r.c(),m(e,"class",n=Ie(l[3].class)+" svelte-10ftw6l"),m(e,"width",l[1]),m(e,"height",l[1]),m(e,"viewBox","0 0 100 100")},m(s,o){M(s,e,o),r.m(e,null)},p(s,o){a===(a=i(s,o))&&r?r.p(s,o):(r.d(1),r=a(s),r&&(r.c(),r.m(e,null))),o&8&&n!==(n=Ie(s[3].class)+" svelte-10ftw6l")&&m(e,"class",n),o&2&&m(e,"width",s[1]),o&2&&m(e,"height",s[1])},d(s){s&&E(e),r.d()}}}function po(l){let e,t,n,i;const a=[oo,ao],r=[];function s(o,u){return o[2]?0:1}return e=s(l),t=r[e]=a[e](l),{c(){t.c(),n=we()},m(o,u){r[e].m(o,u),M(o,n,u),i=!0},p(o,[u]){let c=e;e=s(o),e===c?r[e].p(o,u):(X(),_(r[c],1,1,()=>{r[c]=null}),Z(),t=r[e],t?t.p(o,u):(t=r[e]=a[e](o),t.c()),h(t,1),t.m(n.parentNode,n))},i(o){i||(h(t),i=!0)},o(o){_(t),i=!1},d(o){r[e].d(o),o&&E(n)}}}function ho(l,e,t){let{condition:n}=e,{width:i="100%"}=e,{hasTooltip:a=!0}=e;return l.$$set=r=>{t(3,e=ge(ge({},e),ve(r))),"condition"in r&&t(0,n=r.condition),"width"in r&&t(1,i=r.width),"hasTooltip"in r&&t(2,a=r.hasTooltip)},e=ve(e),[n,i,a,e]}class Yt extends j{constructor(e){super(),x(this,e,ho,po,q,{condition:0,width:1,hasTooltip:2})}}function Il(l,e,t){const n=l.slice();return n[7]=e[t],n}function Al(l){let e,t,n,i,a,r,s=Vt,o=[];for(let c=0;c<s.length;c+=1)o[c]=Ol(Il(l,s,c));const u=c=>_(o[c],1,1,()=>{o[c]=null});return{c(){e=v("div"),t=v("div"),n=re(l[2]),i=L(),a=v("div");for(let c=0;c<o.length;c+=1)o[c].c();m(t,"class","text-center"),m(a,"class","icon-grid svelte-buirl9"),m(e,"class","icon-grid-container svelte-buirl9")},m(c,f){M(c,e,f),p(e,t),p(t,n),p(e,i),p(e,a);for(let d=0;d<o.length;d+=1)o[d].m(a,null);r=!0},p(c,f){if((!r||f&4)&&ye(n,c[2]),f&9){s=Vt;let d;for(d=0;d<s.length;d+=1){const g=Il(c,s,d);o[d]?(o[d].p(g,f),h(o[d],1)):(o[d]=Ol(g),o[d].c(),h(o[d],1),o[d].m(a,null))}for(X(),d=s.length;d<o.length;d+=1)u(d);Z()}},i(c){if(!r){for(let f=0;f<s.length;f+=1)h(o[f]);r=!0}},o(c){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)_(o[f]);r=!1},d(c){c&&E(e),$e(o,c)}}}function Ol(l){let e,t,n,i,a,r;t=new Yt({props:{condition:l[7]}});function s(){return l[6](l[7])}return{c(){e=v("button"),B(t.$$.fragment),n=L(),m(e,"class","blank-button svelte-buirl9"),J(e,"highlighted",l[0].includes(l[7]))},m(o,u){M(o,e,u),D(t,e,null),p(e,n),i=!0,a||(r=V(e,"click",s),a=!0)},p(o,u){l=o,(!i||u&1)&&J(e,"highlighted",l[0].includes(l[7]))},i(o){i||(h(t.$$.fragment,o),i=!0)},o(o){_(t.$$.fragment,o),i=!1},d(o){o&&E(e),T(t),a=!1,r()}}}function go(l){let e,t,n=l[1]&&Al(l);return{c(){n&&n.c(),e=we()},m(i,a){n&&n.m(i,a),M(i,e,a),t=!0},p(i,[a]){i[1]?n?(n.p(i,a),a&2&&h(n,1)):(n=Al(i),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(X(),_(n,1,1,()=>{n=null}),Z())},i(i){t||(h(n),t=!0)},o(i){_(n),t=!1},d(i){n&&n.d(i),i&&E(e)}}}function _o(l,e,t){let{conditions:n}=e,{name:i=""}=e,{isOpen:a=!1}=e,{creature:r}=e,{index:s=0}=e;const o=c=>{n.includes(c)?t(0,n=n.filter(f=>f!==c)):(t(0,n=[...n,c]),Rr(r,c,s)),t(1,a=!1)},u=c=>o(c);return l.$$set=c=>{"conditions"in c&&t(0,n=c.conditions),"name"in c&&t(2,i=c.name),"isOpen"in c&&t(1,a=c.isOpen),"creature"in c&&t(4,r=c.creature),"index"in c&&t(5,s=c.index)},[n,a,i,o,r,s,u]}class qr extends j{constructor(e){super(),x(this,e,_o,go,q,{conditions:0,name:2,isOpen:1,creature:4,index:5})}}function Dl(l,e,t){const n=l.slice();return n[21]=e[t],n[22]=e,n[23]=t,n}function Tl(l,e,t){const n=l.slice();return n[24]=e[t],n}function Bl(l){let e,t,n=Array(l[4]),i=[];for(let r=0;r<n.length;r+=1)i[r]=Rl(Dl(l,n,r));const a=r=>_(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=we()},m(r,s){for(let o=0;o<i.length;o+=1)i[o].m(r,s);M(r,e,s),t=!0},p(r,s){if(s&8191){n=Array(r[4]);let o;for(o=0;o<n.length;o+=1){const u=Dl(r,n,o);i[o]?(i[o].p(u,s),h(i[o],1)):(i[o]=Rl(u),i[o].c(),h(i[o],1),i[o].m(e.parentNode,e))}for(X(),o=n.length;o<i.length;o+=1)a(o);Z()}},i(r){if(!t){for(let s=0;s<n.length;s+=1)h(i[s]);t=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)_(i[s]);t=!1},d(r){$e(i,r),r&&E(e)}}}function Hl(l){let e,t,n=l[0][l[23]],i=[];for(let r=0;r<n.length;r+=1)i[r]=zl(Tl(l,n,r));const a=r=>_(i[r],1,1,()=>{i[r]=null});return{c(){e=v("div");for(let r=0;r<i.length;r+=1)i[r].c();m(e,"class","conditions")},m(r,s){M(r,e,s);for(let o=0;o<i.length;o+=1)i[o].m(e,null);t=!0},p(r,s){if(s&257){n=r[0][r[23]];let o;for(o=0;o<n.length;o+=1){const u=Tl(r,n,o);i[o]?(i[o].p(u,s),h(i[o],1)):(i[o]=zl(u),i[o].c(),h(i[o],1),i[o].m(e,null))}for(X(),o=n.length;o<i.length;o+=1)a(o);Z()}},i(r){if(!t){for(let s=0;s<n.length;s+=1)h(i[s]);t=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)_(i[s]);t=!1},d(r){r&&E(e),$e(i,r)}}}function zl(l){let e,t,n,i,a,r;t=new Yt({props:{condition:l[24],width:"2rem"}});function s(){return l[20](l[24],l[23])}return{c(){e=v("button"),B(t.$$.fragment),n=L(),m(e,"class","blank-button")},m(o,u){M(o,e,u),D(t,e,null),p(e,n),i=!0,a||(r=V(e,"click",s),a=!0)},p(o,u){l=o;const c={};u&1&&(c.condition=l[24]),t.$set(c)},i(o){i||(h(t.$$.fragment,o),i=!0)},o(o){_(t.$$.fragment,o),i=!1},d(o){o&&E(e),T(t),a=!1,r()}}}function Rl(l){let e,t,n,i,a,r,s=l[23]+1+"",o,u,c,f,d,g,k,C,y,w,S;function $(A){l[16](A,l[23])}let I={creature:l[3],index:l[1],isOpen:l[9]&&l[23]===l[1],name:`${l[7]} #${l[23]+1}`};l[0][l[23]]!==void 0&&(I.conditions=l[0][l[23]]),t=new qr({props:I}),Q.push(()=>ne(t,"conditions",$));function b(){return l[17](l[23])}function O(){return l[18](l[23])}function R(){return l[19](l[23])}g=new il({props:{max:l[5],current:l[6][l[23]]}});let H=l[0].length===l[4]&&l[0][l[23]].length>0&&Hl(l);return{c(){e=v("div"),B(t.$$.fragment),i=L(),a=v("div"),r=re("#"),o=re(s),u=L(),c=v("input"),d=L(),B(g.$$.fragment),k=L(),H&&H.c(),C=L(),m(a,"class","minion-number svelte-1omeca7"),J(a,"selected-minion-number",l[2]&&l[23]===l[1]),J(a,"unselected-minion-number",l[2]&&l[23]!==l[1]),m(c,"type","text"),m(c,"class","minion-input svelte-1omeca7"),c.readOnly=l[10],c.value=f=`${l[7]} #${l[23]+1}`,J(c,"non-index-minion-input",l[2]),J(c,"selected-minion-input",l[2]&&l[23]===l[1]),J(c,"locked",l[10]),m(e,"class","relative")},m(A,z){M(A,e,z),D(t,e,null),p(e,i),p(e,a),p(a,r),p(a,o),p(e,u),p(e,c),p(e,d),D(g,e,null),p(e,k),H&&H.m(e,null),p(e,C),y=!0,w||(S=[V(a,"click",b),V(a,"contextmenu",Ot(O)),V(c,"click",R)],w=!0)},p(A,z){l=A;const K={};z&8&&(K.creature=l[3]),z&2&&(K.index=l[1]),z&514&&(K.isOpen=l[9]&&l[23]===l[1]),z&128&&(K.name=`${l[7]} #${l[23]+1}`),!n&&z&1&&(n=!0,K.conditions=l[0][l[23]],te(()=>n=!1)),t.$set(K),(!y||z&6)&&J(a,"selected-minion-number",l[2]&&l[23]===l[1]),(!y||z&6)&&J(a,"unselected-minion-number",l[2]&&l[23]!==l[1]),(!y||z&1024)&&(c.readOnly=l[10]),(!y||z&128&&f!==(f=`${l[7]} #${l[23]+1}`)&&c.value!==f)&&(c.value=f),(!y||z&4)&&J(c,"non-index-minion-input",l[2]),(!y||z&6)&&J(c,"selected-minion-input",l[2]&&l[23]===l[1]),(!y||z&1024)&&J(c,"locked",l[10]);const se={};z&32&&(se.max=l[5]),z&64&&(se.current=l[6][l[23]]),g.$set(se),l[0].length===l[4]&&l[0][l[23]].length>0?H?(H.p(l,z),z&17&&h(H,1)):(H=Hl(l),H.c(),h(H,1),H.m(e,C)):H&&(X(),_(H,1,1,()=>{H=null}),Z())},i(A){y||(h(t.$$.fragment,A),h(g.$$.fragment,A),h(H),y=!0)},o(A){_(t.$$.fragment,A),_(g.$$.fragment,A),_(H),y=!1},d(A){A&&E(e),T(t),T(g),H&&H.d(),w=!1,be(S)}}}function vo(l){let e,t,n=l[4]&&Bl(l);return{c(){n&&n.c(),e=we()},m(i,a){n&&n.m(i,a),M(i,e,a),t=!0},p(i,[a]){i[4]?n?(n.p(i,a),a&16&&h(n,1)):(n=Bl(i),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(X(),_(n,1,1,()=>{n=null}),Z())},i(i){t||(h(n),t=!0)},o(i){_(n),t=!1},d(i){n&&n.d(i),i&&E(e)}}}function bo(l,e,t){let n,i,a;ie(l,st,H=>t(15,i=H)),ie(l,Pe,H=>t(10,a=H));let{creature:r}=e,{quantity:s}=e,{hpMax:o}=e,{hpCurrent:u}=e,{name:c}=e,{conditions:f=[]}=e,{parentIndex:d=0}=e,{selectedIndex:g=0}=e,{isSelected:k=!1}=e,{removeCondition:C=()=>{}}=e,y=!1;const w=H=>{t(1,g=H),t(2,k=!0)},S=H=>{y?t(14,y=!1):(ce(st,i=d,i),t(1,g=H),t(14,y=!0))};function $(H,A){l.$$.not_equal(f[A],H)&&(f[A]=H,t(0,f))}const I=H=>w(H),b=H=>S(H),O=H=>w(H),R=(H,A)=>C(H,A);return l.$$set=H=>{"creature"in H&&t(3,r=H.creature),"quantity"in H&&t(4,s=H.quantity),"hpMax"in H&&t(5,o=H.hpMax),"hpCurrent"in H&&t(6,u=H.hpCurrent),"name"in H&&t(7,c=H.name),"conditions"in H&&t(0,f=H.conditions),"parentIndex"in H&&t(13,d=H.parentIndex),"selectedIndex"in H&&t(1,g=H.selectedIndex),"isSelected"in H&&t(2,k=H.isSelected),"removeCondition"in H&&t(8,C=H.removeCondition)},l.$$.update=()=>{l.$$.dirty&57344&&t(9,n=y&&i===d)},[f,g,k,r,s,o,u,c,C,n,a,w,S,d,y,i,$,I,b,O,R]}class Wr extends j{constructor(e){super(),x(this,e,bo,vo,q,{creature:3,quantity:4,hpMax:5,hpCurrent:6,name:7,conditions:0,parentIndex:13,selectedIndex:1,isSelected:2,removeCondition:8})}}function ko(l){let e,t;return{c(){e=ue("svg"),t=ue("path"),m(t,"d","M70.352 241.993c-1.037-.28-2.645-.891-3.572-1.359-1.782-.898-4.588-2.718-4.853-3.146-.253-.41 4.069-2.349 6.905-3.098 2.282-.603 3.291-.707 7.995-.818l5.382-.127-1.883-1.022c-2.114-1.148-4.65-2.814-6.238-4.101l-1.06-.86-2.38 1.175c-1.308.646-3.089 1.302-3.956 1.458-3.874.697-7.942-.79-11.603-4.244-1.76-1.66-4.15-4.686-4.15-5.254 0-.387 3.593-.678 5.598-.454 3.542.396 7.51 1.643 11.273 3.543.899.453 1.699.825 1.777.825.078 0-.806-1.146-1.966-2.546s-2.679-3.422-3.376-4.494c-1.26-1.937-1.273-1.947-2.194-1.754-.51.107-1.955.19-3.213.182-2.088-.01-2.46-.097-4.246-.98-2.373-1.172-4.682-3.464-6.155-6.107-1.123-2.015-2.6-6.28-2.286-6.602.112-.114 1.15.091 2.307.457 2.96.935 6.212 3.164 9.73 6.668 1.587 1.58 2.815 2.694 2.729 2.476-.086-.219-.701-1.733-1.366-3.366-.666-1.632-1.46-3.9-1.764-5.038l-.554-2.07-1.56-.296c-4.235-.804-7.195-3.896-8.562-8.942-.509-1.88-.88-8.07-.484-8.07.485 0 2.315 1.482 3.614 2.926 1.617 1.799 3.263 4.599 4.85 8.25.679 1.562 1.272 2.802 1.32 2.756.046-.047-.034-.67-.178-1.386-.145-.715-.342-3.358-.439-5.872l-.176-4.571-.886-.421c-.488-.231-1.47-1.06-2.185-1.841-2.09-2.287-2.917-5.62-2.409-9.709.264-2.125 1.35-6.381 1.724-6.753.289-.287 1.119.914 1.694 2.452.735 1.962 1.29 4.92 1.737 9.238.367 3.542.672 4.928.674 3.057 0-1.311.717-5.274 1.483-8.212l.664-2.546-.787-1.24c-1.631-2.573-1.728-5.674-.292-9.397 1.257-3.26 4.164-7.653 4.803-7.258.486.3-.04 3.716-1.396 9.076-.716 2.827-1.295 5.267-1.288 5.424.007.157.366-.43.797-1.303.916-1.857.856-1.576-.283 1.323-3.166 8.052-4.19 19.127-2.58 27.914l.315 1.72.185-2.655c.347-4.964 1.666-8.413 4.096-10.712 1.376-1.301 2.796-2.112 3.7-2.112.386 0 .417.234.257 1.919-.495 5.185-1.83 8.569-4.359 11.043-.86.84-2.05 1.803-2.646 2.137-.595.335-1.082.736-1.082.891.001.565 1.295 5.093 1.97 6.897.807 2.154 2.573 5.996 2.698 5.87.047-.047-.089-.911-.302-1.92-1.078-5.085.085-9.89 3.068-12.68 1.2-1.123 3.008-2.215 3.256-1.967.062.063.239 1.245.392 2.627.3 2.713.078 5.24-.657 7.472-.505 1.535-2.568 4.705-4.043 6.21-.6.613-1.091 1.236-1.091 1.384 0 .432 2.062 3.697 3.52 5.571 1.871 2.41 4.207 5.061 4.34 4.928.062-.061-.254-.837-.701-1.723-2.177-4.312-2.088-9.086.236-12.709.847-1.32 2.967-3.46 3.428-3.46.138 0 .486.627.773 1.393 1.878 5.02 1.458 9.585-1.408 15.3l-1.17 2.335 1.378 1.21c2.233 1.96 8.177 5.691 9.068 5.691.09 0-.382-.608-1.05-1.35-.668-.744-1.655-2.243-2.193-3.332-.851-1.721-.994-2.282-1.09-4.297-.08-1.675.014-2.751.34-3.88.516-1.785 2.072-4.884 2.77-5.515.438-.397.516-.366 1.131.441 1.046 1.373 2.03 3.494 2.454 5.294.638 2.707.495 9.468-.273 12.848-.113.498.028.675.795.995 1.564 1.655 1.604.902 1.283 3.345l-1.16 1.592c-1.57 2.157-3.135 3.479-5.5 4.648-1.863.92-2.155.984-4.781 1.048-2.1.051-3.268-.058-4.683-.44zm71.868-2.144c-2.827-.588-6.118-2.803-8.4-5.654l-.826-1.031-2.464.816c-.786-.548-1.125-.73-1.54-2.368v-3.796c0-5.63.533-8.852 1.924-11.64.709-1.419 2.009-3.042 2.437-3.042.459 0 2.382 3.986 2.793 5.789.414 1.815.193 5.633-.407 7.043-.248.582-.915 1.743-1.484 2.58-.568.836-.97 1.52-.893 1.52.628 0 5.786-2.92 7.575-4.288l.963-.737-1.032-2.663c-1.738-4.48-2.145-8.298-1.256-11.758.347-1.348 1.564-4.101 1.814-4.101.467 0 2.936 2.973 3.645 4.39 1.61 3.217 1.749 6.025.478 9.678l-.662 1.903 1.596-1.57c.878-.862 2.435-2.665 3.46-4.005l1.863-2.436-1.359-1.797c-2.652-3.51-3.719-6.417-3.724-10.154-.003-2.175.412-5.186.771-5.596.242-.277 2.667 1.412 3.672 2.557 2.01 2.29 2.826 5.046 2.64 8.917-.125 2.583-.12 2.609.335 1.859.727-1.195 2.22-4.726 3.02-7.14l.729-2.204-.624-.43c-.343-.236-1.315-1.084-2.16-1.884-2.824-2.677-4.593-7.633-4.363-12.226l.078-1.56 1.598.758c2.698 1.278 4.66 4.026 5.54 7.757.217.92.398 2.09.403 2.6.004.509.104 1.078.223 1.264.265.418 1.025-4.6 1.253-8.276l.164-2.646-1.548-.787c-3.695-1.88-5.765-5.228-7.897-12.773-.409-1.445 2.677-.229 4.714 1.858 1.5 1.536 2.778 3.734 3.775 6.486l.643 1.777-.147-2.117c-.144-2.06-.924-6.444-1.488-8.358-.248-.842-.424-.986-1.555-1.276-2.27-.582-4.469-2.52-6.78-5.976-1.755-2.627-3.345-5.432-3.174-5.602.088-.088.712-.006 1.386.184 2.497.699 5.621 3.663 7.873 7.47 1.34 2.264 1.213 1.512-.323-1.932-.712-1.594-1.24-2.898-1.174-2.898.1 0 1.251 2.405 2.405 5.027.185.42.297.505.309.231.01-.236-.649-2.38-1.464-4.762-2.594-7.586-2.997-8.885-3.247-10.462-.134-.85-.196-1.595-.136-1.657.188-.197 1.688 1.376 3.007 3.156 1.412 1.905 2.635 4.205 3.306 6.215.885 2.652.38 6.709-.95 7.64-.481.338-.477.404.157 2.266 1.85 5.44 2.784 11.333 2.784 17.563 0 7.892-1.356 14.748-4.226 21.365-.564 1.301-.981 2.366-.927 2.366.055 0 1.219-1.4 2.587-3.11 4.096-5.12 6.86-7.64 10.073-9.186 2.05-.986 3.077-1.175 3.077-.566 0 .91-1.432 5.238-2.315 6.999-2.61 5.2-7.424 7.994-12.377 7.183-.87-.143-1.59-.26-1.603-.26-.013-.001-.642 1.04-1.399 2.313-1.584 2.667-3.894 5.828-5.538 7.582-.627.669-1.063 1.215-.97 1.215.093 0 1.439-.766 2.99-1.702 3.603-2.172 7.343-3.972 9.702-4.67 2.417-.713 7.805-1.035 7.805-.465 0 .65-2.543 4.29-4.152 5.942-4.723 4.847-10.288 5.867-15.86 2.908l-1.669-.886-1.793 1.561c-2.025 1.763-5.717 4.36-7.441 5.233-.633.32-1.095.638-1.027.706.068.068 2.074-.132 4.457-.444 3.266-.427 5.117-.532 7.51-.426 3.43.153 7.38 1.006 9.383 2.029l1.127.574-.757.797c-1.394 1.465-5.09 3.712-7.438 4.52-2.493.86-5.439 1.144-7.475.72zm17.727-42.21c0-1.155 3.748-10.636 5.15-13.028.947-1.616 3.559-4.55 4.05-4.55.26 0 .59 2.44.59 4.37 0 2.04-.803 5.793-1.612 7.536-1.381 2.978-4.14 5.263-6.998 5.797-.907.169-1.18.14-1.18-.125zM56.76 182.352c0-.895 1.435-4.918 2.463-6.905 1.739-3.36 4.938-6.208 6.995-6.228.328-.003.596.032.596.08 0 .047-.282.91-.627 1.918-1.526 4.463-3.144 7.456-4.898 9.058-1.887 1.724-4.53 2.936-4.53 2.077zm104.06-6.459c.144-6.842.374-8.752 1.323-10.98.233-.545.533-.992.668-.992.308 0 1.132 1.91 1.94 4.498.517 1.654.62 2.558.62 5.424 0 3.232-.045 3.53-.74 4.948-.693 1.409-3.052 3.915-3.686 3.915-.176 0-.219-2.306-.124-6.813zm-99.956-9.525c1.395-2.546 3.386-5.152 5.117-6.698 1.678-1.498 4.449-2.982 5.318-2.849.52.08.373.38-1.582 3.212-2.858 4.142-4.907 6.304-6.935 7.317-.885.443-1.899.804-2.253.804h-.643zm-.136-1.486c0-.286 1.315-2.813 1.464-2.813.073 0-.181.625-.565 1.389-.738 1.47-.899 1.724-.899 1.424zm93.018-3.265c-.143-.377-.113-.407.148-.148.181.18.263.393.181.475-.081.081-.23-.066-.329-.327zm-91.166-.342c.156-.29.343-.529.416-.529.073 0 .005.238-.151.53-.156.29-.343.528-.416.528-.072 0-.004-.238.151-.529zm1.984-4.805c-.333-2.669 1.24-5.804 4.468-8.904 1.589-1.525 5.695-4.394 5.94-4.15.174.174-.627 1.322-2.863 4.1-2.768 3.442-4.068 5.24-5.612 7.769-.723 1.184-1.414 2.257-1.535 2.382-.12.126-.3-.413-.398-1.197zm83.558.444c-1.685-.843-3.466-2.314-8.915-7.363l-1.088-1.009 1.172.16c1.415.192 4.3 1.668 6.334 3.24 1.681 1.298 5.855 5.346 5.855 5.677 0 .499-1.64.155-3.358-.705zm-80.78-1.932c0-.345 2.655-2.812 4.732-4.398 2.293-1.75 6.33-3.82 7.837-4.017l1.058-.138-.905.742-3.572 2.936c-3.306 2.72-5.15 3.963-6.81 4.594-1.35.513-2.34.632-2.34.281zm81.945-.669c-.323-.842-3.786-4.858-7.26-8.418-2.076-2.13-3.776-3.947-3.776-4.039 0-.091.863.265 1.918.794 5.542 2.774 9.724 7.393 9.724 10.74 0 1.202-.315 1.682-.606.924zM77 145.496c2.89-2.555 7.676-4.587 12.965-5.503 3.308-.572 3.604-.482.793.242-3.612.93-6.75 2.152-10.98 4.273-3.476 1.744-3.737 1.836-2.778.988zm59.165-1.158c-4.05-2.072-9.207-3.985-11.804-4.378-.728-.11-1.188-.246-1.023-.302.61-.208 5.57.758 7.89 1.535 2.96.992 6.573 2.873 8.112 4.224.638.56 1.1 1.016 1.028 1.012-.073-.004-1.964-.945-4.203-2.09z"),pe(t,"stroke-width","1"),m(t,"transform","translate(-46.108 -128.557)"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","100%"),m(e,"height","100%"),m(e,"viewBox","0 0 124.951 124.951")},m(n,i){M(n,e,i),p(e,t)},p:G,i:G,o:G,d(n){n&&E(e)}}}class rl extends j{constructor(e){super(),x(this,e,null,ko,q,{})}}function yo(l){let e,t,n,i,a,r,s,o,u;function c(d){l[6](d)}let f={isHidden:!l[3],onValueChange:l[2]};return l[0]!==void 0&&(f.value=l[0]),a=new nl({props:f}),Q.push(()=>ne(a,"value",c)),{c(){e=v("div"),t=v("input"),i=L(),B(a.$$.fragment),m(t,"type","number"),m(t,"class",n=Ie(l[4].class)+" svelte-ldjbuo"),t.hidden=l[1],m(e,"class","value-container"),J(e,"hidden",l[1])},m(d,g){M(d,e,g),p(e,t),Oe(t,l[0]),p(e,i),D(a,e,null),s=!0,o||(u=[V(t,"input",l[5]),V(e,"mouseenter",l[7]),V(e,"mouseleave",l[8])],o=!0)},p(d,[g]){(!s||g&16&&n!==(n=Ie(d[4].class)+" svelte-ldjbuo"))&&m(t,"class",n),(!s||g&2)&&(t.hidden=d[1]),g&1&&lt(t.value)!==d[0]&&Oe(t,d[0]);const k={};g&8&&(k.isHidden=!d[3]),g&4&&(k.onValueChange=d[2]),!r&&g&1&&(r=!0,k.value=d[0],te(()=>r=!1)),a.$set(k),(!s||g&2)&&J(e,"hidden",d[1])},i(d){s||(h(a.$$.fragment,d),s=!0)},o(d){_(a.$$.fragment,d),s=!1},d(d){d&&E(e),T(a),o=!1,be(u)}}}function wo(l,e,t){let{value:n=0}=e,{isHidden:i=!1}=e,{onValueChange:a=()=>{}}=e,r=!1;function s(){n=lt(this.value),t(0,n)}function o(f){n=f,t(0,n)}const u=()=>t(3,r=!0),c=()=>t(3,r=!1);return l.$$set=f=>{t(4,e=ge(ge({},e),ve(f))),"value"in f&&t(0,n=f.value),"isHidden"in f&&t(1,i=f.isHidden),"onValueChange"in f&&t(2,a=f.onValueChange)},e=ve(e),[n,i,a,r,e,s,o,u,c]}class Kt extends j{constructor(e){super(),x(this,e,wo,yo,q,{value:0,isHidden:1,onValueChange:2})}}function Co(l){let e,t,n,i,a,r,s;n=new rl({});function o(c){l[2](c)}let u={extraClasses:"blank-input gold"};return l[0]!==void 0&&(u.value=l[0]),a=new Kt({props:u}),Q.push(()=>ne(a,"value",o)),{c(){e=v("div"),t=v("div"),B(n.$$.fragment),i=L(),B(a.$$.fragment),m(t,"class","svg-fit"),m(e,"class","legendary svg-fit-container svelte-11m9dsv")},m(c,f){M(c,e,f),p(e,t),D(n,t,null),p(e,i),D(a,e,null),s=!0},p(c,[f]){const d={};!r&&f&1&&(r=!0,d.value=c[0],te(()=>r=!1)),a.$set(d)},i(c){s||(h(n.$$.fragment,c),h(a.$$.fragment,c),s=!0)},o(c){_(n.$$.fragment,c),_(a.$$.fragment,c),s=!1},d(c){c&&E(e),T(n),T(a)}}}function $o(l,e,t){let{valueMax:n}=e,{valueCurrent:i}=e;const a=s=>{t(1,i=s)};function r(s){n=s,t(0,n)}return l.$$set=s=>{"valueMax"in s&&t(0,n=s.valueMax),"valueCurrent"in s&&t(1,i=s.valueCurrent)},l.$$.update=()=>{l.$$.dirty&1&&a(n)},[n,i,r]}class Eo extends j{constructor(e){super(),x(this,e,$o,Co,q,{valueMax:0,valueCurrent:1})}}const Vr=[{name:"Aarakocra",ac:12,hp:13,dex:14},{name:"Aboleth",ac:17,hp:135,dex:9},{name:"Abominable Yeti",ac:15,hp:137,dex:10},{name:"Acolyte",ac:10,hp:9,dex:10},{name:"Adult Black Dragon",ac:19,hp:195,dex:14},{name:"Adult Blue Dracolich",ac:19,hp:225,dex:10},{name:"Adult Blue Dragon",ac:19,hp:225,dex:10},{name:"Adult Brass Dragon",ac:18,hp:172,dex:10},{name:"Adult Bronze Dragon",ac:19,hp:212,dex:10},{name:"Adult Copper Dragon",ac:18,hp:184,dex:12},{name:"Adult Gold Dragon",ac:19,hp:256,dex:14},{name:"Adult Green Dragon",ac:19,hp:207,dex:12},{name:"Adult Red Dragon",ac:19,hp:256,dex:10},{name:"Adult Silver Dragon",ac:19,hp:243,dex:10},{name:"Adult White Dragon",ac:18,hp:200,dex:10},{name:"Aerisi Kalinoth",ac:13,hp:66,dex:16},{name:"Ahmaergo",ac:18,hp:143,dex:15},{name:"Air Elemental",ac:15,hp:90,dex:20},{name:"Air Elemental Myrmidon",ac:18,hp:117,dex:14},{name:"Allosaurus",ac:13,hp:51,dex:13},{name:"Ambush Drake",ac:13,hp:22,dex:15},{name:"Ammalia Cassalanter",ac:12,hp:45,dex:14},{name:"Ancient Black Dragon",ac:22,hp:367,dex:14},{name:"Ancient Blue Dragon",ac:22,hp:481,dex:10},{name:"Ancient Brass Dragon",ac:20,hp:297,dex:10},{name:"Ancient Bronze Dragon",ac:22,hp:444,dex:10},{name:"Ancient Copper Dragon",ac:21,hp:350,dex:12},{name:"Ancient Gold Dragon",ac:22,hp:546,dex:14},{name:"Ancient Green Dragon",ac:21,hp:385,dex:12},{name:"Ancient Red Dragon",ac:22,hp:546,dex:10},{name:"Ancient Silver Dragon",ac:22,hp:487,dex:10},{name:"Ancient White Dragon",ac:20,hp:333,dex:10},{name:"Androsphinx",ac:17,hp:199,dex:10},{name:"Animated Armor",ac:18,hp:33,dex:11},{name:"Ankheg",ac:14,hp:39,dex:11},{name:"Ankylosaurus",ac:15,hp:68,dex:11},{name:"Ape",ac:12,hp:19,dex:14},{name:"Apprentice Wizard",ac:10,hp:9,dex:10},{name:"Aquatic Elf",ac:13,hp:16,dex:16},{name:"Arcanaloth",ac:17,hp:104,dex:12},{name:"Archdruid",ac:16,hp:132,dex:14},{name:"Archmage",ac:12,hp:99,dex:14},{name:"Assassin",ac:15,hp:78,dex:16},{name:"Awakened Shrub",ac:9,hp:10,dex:8},{name:"Awakened Tree",ac:13,hp:59,dex:6},{name:"Axe Beak",ac:11,hp:19,dex:12},{name:"Azbara Jos",ac:13,hp:39,dex:16},{name:"Azer",ac:17,hp:39,dex:12},{name:"Baboon",ac:12,hp:3,dex:14},{name:"Badger",ac:10,hp:3,dex:11},{name:"Balloon Grenadier",ac:14,hp:33,dex:16},{name:"Balor",ac:19,hp:262,dex:15},{name:"Bandit",ac:12,hp:11,dex:12},{name:"Bandit Captain",ac:15,hp:65,dex:16},{name:"Banshee",ac:12,hp:58,dex:14},{name:"Barbed Devil",ac:15,hp:110,dex:17},{name:"Bard",ac:15,hp:44,dex:14},{name:"Barlgura",ac:15,hp:68,dex:15},{name:"Barnibus Blastwind",ac:10,hp:24,dex:10},{name:"Basilisk",ac:15,hp:52,dex:8},{name:"Bastian Thermandar",ac:12,hp:78,dex:14},{name:"Bat",ac:12,hp:1,dex:15},{name:"Bearded Devil",ac:13,hp:52,dex:15},{name:"Behir",ac:17,hp:168,dex:16},{name:"Beholder",ac:18,hp:180,dex:14},{name:"Beholder Zombie",ac:15,hp:93,dex:8},{name:"Berserker",ac:13,hp:67,dex:12},{name:"Black Bear",ac:11,hp:19,dex:10},{name:"Black Dragon Wyrmling",ac:17,hp:33,dex:14},{name:"Black Earth Guard",ac:18,hp:39,dex:11},{name:"Black Earth Priest",ac:17,hp:45,dex:11},{name:"Black Pudding",ac:7,hp:85,dex:5},{name:"Black Viper",ac:16,hp:84,dex:18},{name:"Blagothkus",ac:17,hp:138,dex:13},{name:"Blink Dog",ac:13,hp:22,dex:17},{name:"Blood Hawk",ac:12,hp:7,dex:14},{name:"Blue Dragon Wyrmling",ac:17,hp:52,dex:10},{name:"Blue Slaad",ac:15,hp:123,dex:15},{name:"Boar",ac:11,hp:11,dex:11},{name:"Boar Pit Fighter",ac:15,hp:58,dex:16},{name:"Bodyguard",ac:15,hp:65,dex:16},{name:"Bone Devil",ac:19,hp:142,dex:16},{name:"Bone Naga",ac:15,hp:58,dex:16},{name:"Bore Worm",ac:18,hp:247,dex:7},{name:"Brass Dragon Wyrmling",ac:16,hp:16,dex:10},{name:"Breex Vandermast",ac:16,hp:71,dex:14},{name:"Bronze Dragon Wyrmling",ac:17,hp:32,dex:10},{name:"Brown Bear",ac:11,hp:34,dex:10},{name:"Bugbear",ac:16,hp:27,dex:14},{name:"Bugbear Chief",ac:17,hp:65,dex:14},{name:"Bulette",ac:17,hp:94,dex:11},{name:"Bullywug",ac:15,hp:11,dex:12},{name:"Burrowshark",ac:18,hp:82,dex:12},{name:"Cambion",ac:19,hp:82,dex:18},{name:"Camel",ac:9,hp:15,dex:8},{name:"Captain Othelstan",ac:19,hp:93,dex:10},{name:"Carrion Crawler",ac:13,hp:51,dex:13},{name:"Cat",ac:12,hp:2,dex:15},{name:"Centaur",ac:12,hp:45,dex:14},{name:"Chain Devil",ac:16,hp:85,dex:15},{name:"Champion",ac:18,hp:143,dex:15},{name:"Chasme",ac:15,hp:84,dex:15},{name:"Chimera",ac:14,hp:114,dex:11},{name:"Chuul",ac:16,hp:93,dex:10},{name:"Clay Golem",ac:14,hp:133,dex:9},{name:"Cloak of Mulmaster",ac:12,hp:22,dex:14},{name:"Cloaker",ac:14,hp:78,dex:15},{name:"Cloud Giant",ac:14,hp:200,dex:10},{name:"Cockatrice",ac:11,hp:27,dex:12},{name:"Commoner",ac:10,hp:4,dex:10},{name:"Constrictor Snake",ac:12,hp:13,dex:14},{name:"Copper Dragon Wyrmling",ac:16,hp:22,dex:12},{name:"Couatl",ac:19,hp:97,dex:20},{name:"Crab",ac:11,hp:2,dex:11},{name:"Crawling Claw",ac:12,hp:2,dex:14},{name:"Crocodile",ac:12,hp:19,dex:10},{name:"Crushing Wave Priest",ac:13,hp:52,dex:11},{name:"Crushing Wave Reaver",ac:14,hp:22,dex:14},{name:"Cult Assassin",ac:15,hp:32,dex:16},{name:"Cult Fanatic",ac:13,hp:33,dex:14},{name:"Cultist",ac:12,hp:9,dex:12},{name:"Cyclops",ac:14,hp:138,dex:11},{name:"Dao",ac:18,hp:187,dex:12},{name:"Dark Tide Knight",ac:13,hp:58,dex:16},{name:"Darkmantle",ac:11,hp:22,dex:12},{name:"Davil Starsong",ac:15,hp:82,dex:14},{name:"Death Dog",ac:12,hp:39,dex:14},{name:"Death Knight",ac:20,hp:180,dex:11},{name:"Death Slaad",ac:18,hp:170,dex:15},{name:"Death Tyrant",ac:19,hp:187,dex:14},{name:"Deep Gnome (Svirfneblin)",ac:15,hp:16,dex:14},{name:"Deer",ac:13,hp:4,dex:16},{name:"Demilich",ac:20,hp:80,dex:20},{name:"Derro",ac:13,hp:13,dex:14},{name:"Derro Savant",ac:13,hp:49,dex:14},{name:"Deva",ac:17,hp:136,dex:18},{name:"Dire Wolf",ac:14,hp:37,dex:15},{name:"Displacer Beast",ac:13,hp:85,dex:15},{name:"Djinni",ac:17,hp:161,dex:15},{name:"Doppelganger",ac:14,hp:52,dex:18},{name:"Doril Cire, Fire Cultist",ac:13,hp:11,dex:14},{name:"Draft Horse",ac:10,hp:19,dex:10},{name:"Dragon Turtle",ac:20,hp:341,dex:10},{name:"Dragonclaw",ac:14,hp:16,dex:16},{name:"Dragonfang",ac:15,hp:78,dex:16},{name:"Dragonsoul",ac:16,hp:110,dex:18},{name:"Dragonwing",ac:14,hp:33,dex:16},{name:"Dralmorrer Borngray",ac:16,hp:52,dex:14},{name:"Drannin Splithelm",ac:18,hp:93,dex:10},{name:"Dretch",ac:11,hp:18,dex:11},{name:"Drider",ac:19,hp:123,dex:16},{name:"Drow",ac:15,hp:13,dex:14},{name:"Drow Elite Warrior",ac:18,hp:71,dex:18},{name:"Drow Gunslinger",ac:18,hp:84,dex:18},{name:"Drow Mage",ac:12,hp:45,dex:14},{name:"Drow Priestess of Lolth",ac:16,hp:71,dex:14},{name:"Drow Spore Servant",ac:15,hp:13,dex:14},{name:"Druid",ac:11,hp:27,dex:12},{name:"Dryad",ac:11,hp:22,dex:12},{name:"Duergar",ac:16,hp:26,dex:11},{name:"Duergar Kavalrachni",ac:16,hp:26,dex:11},{name:"Duergar Spore Servant",ac:16,hp:26,dex:11},{name:"Duodrone",ac:15,hp:11,dex:13},{name:"Durnan",ac:16,hp:144,dex:15},{name:"Dust Mephit",ac:12,hp:17,dex:14},{name:"Eagle",ac:12,hp:3,dex:15},{name:"Earth Elemental",ac:17,hp:126,dex:8},{name:"Earth Elemental Myrmidon",ac:18,hp:127,dex:10},{name:"Efreeti",ac:17,hp:200,dex:12},{name:"Elemental Anchor",ac:14,hp:33,dex:16},{name:"Elephant",ac:12,hp:76,dex:9},{name:"Elizar Dryflagon",ac:14,hp:71,dex:15},{name:"Elk",ac:10,hp:13,dex:10},{name:"Empyrean",ac:22,hp:313,dex:21},{name:"Erinyes",ac:18,hp:153,dex:16},{name:"Eternal Flame Guardian",ac:17,hp:45,dex:13},{name:"Eternal Flame Priest",ac:12,hp:52,dex:15},{name:"Ettercap",ac:13,hp:44,dex:15},{name:"Ettin",ac:12,hp:85,dex:8},{name:"Evil Mage",ac:12,hp:22,dex:14},{name:"Evil Sorcerer",ac:12,hp:22,dex:14},{name:"Faerie Dragon (older)",ac:15,hp:14,dex:20},{name:"Faerie Dragon (younger)",ac:15,hp:14,dex:20},{name:"Farvnik the Venomous",ac:17,hp:58,dex:12},{name:"Fathomer",ac:10,hp:52,dex:11},{name:"Feathergale Knight",ac:16,hp:33,dex:14},{name:"Female Steeder",ac:14,hp:30,dex:16},{name:"Fire Elemental",ac:13,hp:102,dex:17},{name:"Fire Elemental Myrmidon",ac:18,hp:117,dex:18},{name:"Fire Giant",ac:18,hp:162,dex:9},{name:"Fire Giant Whelp",ac:17,hp:126,dex:9},{name:"Fire Snake",ac:14,hp:22,dex:14},{name:"Flameskull",ac:13,hp:40,dex:17},{name:"Flamewrath",ac:12,hp:105,dex:14},{name:"Flesh Golem",ac:9,hp:93,dex:9},{name:"Flumph",ac:12,hp:7,dex:15},{name:"Flying Snake",ac:14,hp:5,dex:18},{name:"Flying Sword",ac:17,hp:17,dex:15},{name:"Fomorian",ac:14,hp:149,dex:10},{name:"Frog",ac:11,hp:1,dex:13},{name:"Frost Giant",ac:15,hp:138,dex:9},{name:"Frulam Mondath",ac:16,hp:44,dex:10},{name:"Galeb Duhr",ac:16,hp:85,dex:14},{name:"Gar Shatterkeel",ac:16,hp:112,dex:15},{name:"Gargoyle",ac:15,hp:52,dex:11},{name:"Gas Spore",ac:5,hp:1,dex:1},{name:"Gazer",ac:13,hp:13,dex:17},{name:"Gelatinous Cube",ac:6,hp:84,dex:3},{name:"Ghald",ac:15,hp:102,dex:17},{name:"Ghast",ac:13,hp:36,dex:17},{name:"Ghost",ac:11,hp:45,dex:13},{name:"Ghoul",ac:12,hp:22,dex:15},{name:"Giant Ape",ac:12,hp:157,dex:14},{name:"Giant Badger",ac:10,hp:13,dex:10},{name:"Giant Bat",ac:13,hp:22,dex:16},{name:"Giant Boar",ac:12,hp:42,dex:10},{name:"Giant Centipede",ac:13,hp:4,dex:14},{name:"Giant Constrictor Snake",ac:12,hp:60,dex:14},{name:"Giant Crab",ac:15,hp:13,dex:15},{name:"Giant Crocodile",ac:14,hp:85,dex:9},{name:"Giant Eagle",ac:13,hp:26,dex:17},{name:"Giant Elk",ac:14,hp:42,dex:16},{name:"Giant Fire Beetle",ac:13,hp:4,dex:10},{name:"Giant Fly",ac:11,hp:19,dex:13},{name:"Giant Frog",ac:11,hp:18,dex:13},{name:"Giant Goat",ac:11,hp:19,dex:11},{name:"Giant Hyena",ac:12,hp:45,dex:14},{name:"Giant Lizard",ac:12,hp:19,dex:12},{name:"Giant Octopus",ac:11,hp:52,dex:13},{name:"Giant Owl",ac:12,hp:19,dex:15},{name:"Giant Poisonous Snake",ac:14,hp:11,dex:18},{name:"Giant Rat",ac:12,hp:7,dex:15},{name:"Giant Scorpion",ac:15,hp:52,dex:13},{name:"Giant Sea Horse",ac:13,hp:16,dex:15},{name:"Giant Shark",ac:13,hp:126,dex:11},{name:"Giant Spider",ac:14,hp:26,dex:16},{name:"Giant Toad",ac:11,hp:39,dex:13},{name:"Giant Vulture",ac:10,hp:22,dex:10},{name:"Giant Wasp",ac:12,hp:13,dex:14},{name:"Giant Weasel",ac:13,hp:9,dex:16},{name:"Giant Wolf Spider",ac:13,hp:11,dex:16},{name:"Gibbering Mouther",ac:9,hp:67,dex:8},{name:"Githyanki Gish",ac:17,hp:123,dex:15},{name:"Githyanki Knight",ac:18,hp:91,dex:14},{name:"Githyanki Warrior",ac:17,hp:49,dex:14},{name:"Githzerai Monk",ac:14,hp:38,dex:15},{name:"Githzerai Zerth",ac:17,hp:84,dex:18},{name:"Glabrezu",ac:17,hp:157,dex:15},{name:"Gladiator",ac:16,hp:112,dex:15},{name:"Gnoll",ac:15,hp:22,dex:12},{name:"Gnoll Fang of Teenoghu",ac:14,hp:65,dex:15},{name:"Gnoll Pack Lord",ac:15,hp:49,dex:14},{name:"Goat",ac:10,hp:4,dex:10},{name:"Goblin",ac:15,hp:7,dex:14},{name:"Goblin Boss",ac:17,hp:21,dex:14},{name:"Gold Dragon Wyrmling",ac:17,hp:60,dex:14},{name:"Gorgon",ac:19,hp:114,dex:11},{name:"Goristro",ac:19,hp:310,dex:11},{name:"Gray Ooze",ac:8,hp:22,dex:6},{name:"Gray Slaad",ac:18,hp:127,dex:17},{name:"Green Dragon Wyrmling",ac:17,hp:38,dex:12},{name:"Green Hag",ac:17,hp:82,dex:12},{name:"Green Slaad",ac:16,hp:127,dex:15},{name:"Grell",ac:12,hp:55,dex:14},{name:"Grick",ac:14,hp:27,dex:14},{name:"Grick Alpha",ac:18,hp:75,dex:16},{name:"Griffon",ac:12,hp:59,dex:15},{name:"Griffon Cavalry Rider",ac:17,hp:58,dex:15},{name:"Grimlock",ac:11,hp:11,dex:12},{name:"Grimshackle Brothers, Halfling Bandits",ac:12,hp:9,dex:13},{name:"Guard",ac:16,hp:11,dex:12},{name:"Guard Drake",ac:14,hp:52,dex:11},{name:"Guardian Naga",ac:18,hp:127,dex:18},{name:"Guild Mage",ac:11,hp:22,dex:14},{name:"Gynosphinx",ac:17,hp:136,dex:15},{name:"Halaster Blackcloak",ac:14,hp:246,dex:18},{name:"Half-Dragon Ettin",ac:12,hp:85,dex:8},{name:"Half-Dragon Troll",ac:15,hp:84,dex:13},{name:"Half-Ogre",ac:12,hp:30,dex:10},{name:"Half-Red Dragon Veteran",ac:18,hp:65,dex:13},{name:"Harpy",ac:11,hp:38,dex:13},{name:"Hawk",ac:13,hp:1,dex:16},{name:"Hell Hound",ac:15,hp:45,dex:12},{name:"Hellenrae",ac:16,hp:78,dex:18},{name:"Helmed Horror",ac:20,hp:60,dex:13},{name:"Hezrou",ac:16,hp:136,dex:17},{name:"Hill Giant",ac:13,hp:105,dex:8},{name:"Hippogriff",ac:11,hp:19,dex:13},{name:"Hlam",ac:22,hp:137,dex:24},{name:"Hobgoblin",ac:18,hp:11,dex:12},{name:"Hobgoblin Captain",ac:17,hp:39,dex:14},{name:"Hobgoblin Warlord",ac:20,hp:97,dex:14},{name:"Homunculus",ac:13,hp:5,dex:15},{name:"Hook Horror",ac:15,hp:75,dex:10},{name:"Hook Horror Spore Servant",ac:15,hp:75,dex:10},{name:"Horned Devil",ac:18,hp:178,dex:17},{name:"Howling Hatred Initiate",ac:13,hp:9,dex:15},{name:"Howling Hatred Priest",ac:15,hp:45,dex:16},{name:"Hrabbaz",ac:12,hp:112,dex:15},{name:"Hunter Shark",ac:12,hp:45,dex:13},{name:"Hurricane",ac:14,hp:33,dex:16},{name:"Hydra",ac:15,hp:172,dex:12},{name:"Hyena",ac:11,hp:5,dex:13},{name:"Ice Devil",ac:18,hp:180,dex:14},{name:"Ice Mephit",ac:11,hp:21,dex:13},{name:"Ice Toad",ac:12,hp:32,dex:10},{name:"Imix",ac:17,hp:325,dex:24},{name:"Imp",ac:13,hp:10,dex:17},{name:"Intellect Devourer",ac:12,hp:21,dex:14},{name:"Invisible Stalker",ac:14,hp:104,dex:19},{name:"Iron Golem",ac:20,hp:210,dex:9},{name:"Istrid Horn",ac:18,hp:117,dex:10},{name:"Ixitxachitl",ac:15,hp:18,dex:16},{name:"Ixitxachitl Cleric",ac:15,hp:18,dex:16},{name:"Jackal",ac:12,hp:3,dex:15},{name:"Jackalwere",ac:12,hp:18,dex:15},{name:"Jalester Silvermane",ac:18,hp:71,dex:14},{name:"Jamna Gleamsilver",ac:15,hp:22,dex:17},{name:"Jarlaxle Baenre",ac:24,hp:123,dex:22},{name:"Jeralla, Sorcerer",ac:10,hp:21,dex:10},{name:"Karsev the Drowner",ac:18,hp:33,dex:10},{name:"Kenku",ac:13,hp:13,dex:16},{name:"Keresta Delvingstone",ac:16,hp:144,dex:18},{name:"Killer Whale",ac:12,hp:90,dex:10},{name:"Knight",ac:18,hp:52,dex:11},{name:"Kobold",ac:12,hp:5,dex:15},{name:"Kraken",ac:18,hp:472,dex:11},{name:"Kuo-toa",ac:13,hp:18,dex:10},{name:"Kuo-toa Archpriest",ac:13,hp:97,dex:14},{name:"Kuo-toa Monitor",ac:13,hp:65,dex:10},{name:"Kuo-toa Whip",ac:11,hp:65,dex:10},{name:"Lacedon",ac:12,hp:22,dex:15},{name:"Laeral Silverhand",ac:18,hp:228,dex:17},{name:"Lamia",ac:13,hp:97,dex:13},{name:"Langdedrosa Cyanwrath",ac:17,hp:57,dex:13},{name:"Larva",ac:9,hp:9,dex:9},{name:"Lava Child",ac:11,hp:60,dex:13},{name:"Lemure",ac:7,hp:13,dex:5},{name:"Lich",ac:17,hp:135,dex:16},{name:"Lion",ac:12,hp:26,dex:15},{name:"Little Wing",ac:15,hp:52,dex:16},{name:"Living Unseen Servant",ac:10,hp:4,dex:10},{name:"Lizard",ac:10,hp:2,dex:11},{name:"Lizardfolk",ac:15,hp:22,dex:10},{name:"Lizardfolk King/Queen",ac:15,hp:78,dex:12},{name:"Lizardfolk Shaman",ac:13,hp:27,dex:10},{name:"Mage",ac:12,hp:40,dex:14},{name:"Magma Mephit",ac:11,hp:22,dex:12},{name:"Magmin",ac:14,hp:9,dex:15},{name:"Male Steeder",ac:12,hp:13,dex:12},{name:"Mammoth",ac:13,hp:126,dex:9},{name:"Manes",ac:9,hp:9,dex:9},{name:"Manshoon",ac:19,hp:126,dex:14},{name:"Manticore",ac:14,hp:68,dex:16},{name:"Marid",ac:17,hp:229,dex:12},{name:"Marilith",ac:18,hp:189,dex:20},{name:"Marlos Urnrayle",ac:15,hp:136,dex:11},{name:"Martial Arts Adept",ac:16,hp:60,dex:17},{name:"Mastiff",ac:12,hp:5,dex:14},{name:"Medusa",ac:15,hp:127,dex:15},{name:"Meira Faerenduil (Ghost)",ac:16,hp:91,dex:16},{name:"Meloon Wardragon",ac:18,hp:143,dex:15},{name:"Merfolk",ac:11,hp:11,dex:13},{name:"Merrow",ac:13,hp:45,dex:10},{name:"Mezzoloth",ac:18,hp:75,dex:11},{name:"Mimic",ac:12,hp:58,dex:12},{name:"Mind Flayer",ac:15,hp:71,dex:12},{name:"Mind Flayer Arcanist",ac:15,hp:71,dex:12},{name:"Miner",ac:12,hp:11,dex:12},{name:"Minotaur",ac:14,hp:76,dex:11},{name:"Minotaur Skeleton",ac:12,hp:67,dex:11},{name:"Miraj Vizann",ac:10,hp:82,dex:10},{name:"Mirt",ac:16,hp:153,dex:18},{name:"Monodrone",ac:15,hp:5,dex:13},{name:"Mormesk the Wraith",ac:13,hp:45,dex:16},{name:"Mud Mephit",ac:11,hp:27,dex:12},{name:"Muiral",ac:16,hp:195,dex:11},{name:"Mule",ac:10,hp:11,dex:10},{name:"Mummy",ac:11,hp:58,dex:8},{name:"Mummy Lord",ac:17,hp:97,dex:10},{name:"Musanna",ac:13,hp:27,dex:12},{name:"Myconid Adult",ac:12,hp:22,dex:10},{name:"Myconid Sovereign",ac:13,hp:60,dex:10},{name:"Myconid Sprout",ac:10,hp:7,dex:10},{name:"Naergoth Bladelord",ac:18,hp:135,dex:12},{name:"Nalfeshnee",ac:18,hp:184,dex:10},{name:"Needle Blight",ac:12,hp:11,dex:12},{name:"Neothelid",ac:16,hp:325,dex:7},{name:"Neronvain",ac:17,hp:117,dex:17},{name:"Nezznar the Black Spider",ac:11,hp:27,dex:13},{name:"Night Hag",ac:17,hp:112,dex:15},{name:"Nightmare",ac:13,hp:68,dex:15},{name:"Nimblewright",ac:18,hp:45,dex:18},{name:"Noble",ac:15,hp:9,dex:12},{name:"Nothic",ac:15,hp:45,dex:16},{name:"Nycaloth",ac:18,hp:123,dex:11},{name:"Ochre Jelly",ac:8,hp:45,dex:6},{name:"Octopus",ac:12,hp:3,dex:15},{name:"Ogre",ac:11,hp:59,dex:8},{name:"Ogre Zombie",ac:8,hp:85,dex:6},{name:"Ogr\xE9moch",ac:20,hp:526,dex:11},{name:"Olhydra",ac:18,hp:324,dex:22},{name:"One-Eyed Shiver",ac:12,hp:49,dex:14},{name:"Oni",ac:16,hp:110,dex:11},{name:"Orc",ac:13,hp:15,dex:12},{name:"Orc Eye of Gruumsh",ac:16,hp:45,dex:12},{name:"Orc War Chief",ac:16,hp:93,dex:12},{name:"Oreioth",ac:11,hp:39,dex:13},{name:"Orog",ac:18,hp:42,dex:12},{name:"Otyugh",ac:14,hp:114,dex:11},{name:"Owl",ac:11,hp:1,dex:13},{name:"Owlbear",ac:13,hp:59,dex:12},{name:"Panther",ac:12,hp:13,dex:15},{name:"Pegasus",ac:12,hp:59,dex:15},{name:"Pentadrone",ac:16,hp:32,dex:14},{name:"Peryton",ac:13,hp:33,dex:12},{name:"Pharblex Spattergoo",ac:15,hp:59,dex:12},{name:"Phase Spider",ac:13,hp:32,dex:15},{name:"Piercer",ac:15,hp:22,dex:13},{name:"Pit Fiend",ac:19,hp:300,dex:14},{name:"Pixie",ac:15,hp:1,dex:20},{name:"Planetar",ac:19,hp:200,dex:20},{name:"Plesiosaurus",ac:13,hp:68,dex:15},{name:"Poisonous Snake",ac:13,hp:2,dex:16},{name:"Polar Bear",ac:12,hp:42,dex:10},{name:"Poltergeist",ac:12,hp:22,dex:14},{name:"Pony",ac:10,hp:11,dex:10},{name:"Priest",ac:13,hp:27,dex:10},{name:"Pseudodragon",ac:13,hp:7,dex:15},{name:"Psychic Gray Ooze",ac:8,hp:22,dex:6},{name:"Pteranodon",ac:13,hp:13,dex:15},{name:"Purple Worm",ac:18,hp:247,dex:7},{name:"Quadrone",ac:16,hp:22,dex:14},{name:"Quaggoth",ac:13,hp:45,dex:12},{name:"Quaggoth Spore Servant",ac:13,hp:45,dex:12},{name:"Quaggoth Thonot",ac:13,hp:45,dex:12},{name:"Quasit",ac:13,hp:7,dex:17},{name:"Quipper",ac:13,hp:1,dex:16},{name:"Rakshasa",ac:16,hp:110,dex:17},{name:"Rat",ac:10,hp:1,dex:11},{name:"Rath Modar",ac:13,hp:71,dex:16},{name:"Raven",ac:12,hp:1,dex:14},{name:"Razerblast",ac:17,hp:112,dex:11},{name:"Red Dragon Wyrmling",ac:17,hp:75,dex:10},{name:"Red Plume Cavalry Officer",ac:17,hp:32,dex:11},{name:"Red Plume Patrol",ac:16,hp:27,dex:10},{name:"Red Slaad",ac:14,hp:93,dex:12},{name:"Redbrand Ruffian",ac:14,hp:16,dex:14},{name:"Reef Shark",ac:12,hp:22,dex:13},{name:"Remallia Haventree",ac:12,hp:66,dex:14},{name:"Remorhaz",ac:17,hp:195,dex:13},{name:"Remorhaz Hatchling",ac:12,hp:45,dex:13},{name:"Revenant",ac:13,hp:136,dex:14},{name:"Rezmir",ac:13,hp:90,dex:16},{name:"Rhinoceros",ac:11,hp:45,dex:8},{name:"Riding Horse",ac:10,hp:13,dex:10},{name:"Roc",ac:15,hp:248,dex:10},{name:"Roper",ac:20,hp:93,dex:8},{name:"Roth\xE9 Zombie",ac:8,hp:22,dex:6},{name:"Rug of Smothering",ac:12,hp:33,dex:14},{name:"Rust Monster",ac:14,hp:27,dex:12},{name:"Saber-Toothed Tiger",ac:12,hp:52,dex:14},{name:"Sacred Stone Monk",ac:14,hp:22,dex:15},{name:"Sahuagin",ac:12,hp:22,dex:11},{name:"Sahuagin Baron",ac:16,hp:76,dex:15},{name:"Sahuagin Priestess",ac:12,hp:33,dex:11},{name:"Salamander",ac:15,hp:90,dex:14},{name:"Satyr",ac:14,hp:31,dex:16},{name:"Scaladar",ac:19,hp:94,dex:10},{name:"Scarecrow",ac:11,hp:36,dex:13},{name:"Scorpion",ac:11,hp:1,dex:11},{name:"Scout",ac:13,hp:16,dex:14},{name:"Sea Hag",ac:14,hp:52,dex:13},{name:"Sea Horse",ac:11,hp:1,dex:12},{name:"Sergeant Kalugin",ac:15,hp:52,dex:12},{name:"Severin",ac:16,hp:150,dex:13},{name:"Shadow",ac:12,hp:16,dex:14},{name:"Shadow Assassin",ac:14,hp:78,dex:19},{name:"Shadow Demon",ac:13,hp:66,dex:17},{name:"Shambling Mound",ac:15,hp:136,dex:8},{name:"Shard of Ogr\xE9moch",ac:11,hp:22,dex:8},{name:"Shield Guardian",ac:17,hp:142,dex:8},{name:"Shoalar Quanderil",ac:10,hp:60,dex:12},{name:"Shrieker",ac:5,hp:13,dex:1},{name:"Sildar Hallwinter",ac:16,hp:27,dex:10},{name:"Silver Dragon Wyrmling",ac:17,hp:45,dex:10},{name:"Skeemo Weirdbottle",ac:12,hp:72,dex:14},{name:"Skeleton",ac:13,hp:13,dex:14},{name:"Skyweaver",ac:12,hp:44,dex:14},{name:"Slaad Tadpole",ac:12,hp:10,dex:15},{name:"Smoke Mephit",ac:12,hp:22,dex:14},{name:"Solar",ac:21,hp:243,dex:22},{name:"Spectator",ac:14,hp:39,dex:14},{name:"Specter",ac:12,hp:22,dex:14},{name:"Spellcaster Vampire",ac:16,hp:144,dex:18},{name:"Spider",ac:12,hp:1,dex:14},{name:"Spined Devil",ac:13,hp:22,dex:15},{name:"Spirit Naga",ac:15,hp:75,dex:17},{name:"Sprite",ac:15,hp:2,dex:18},{name:"Spy",ac:12,hp:27,dex:15},{name:"Steam Mephit",ac:10,hp:21,dex:11},{name:"Stirge",ac:14,hp:2,dex:16},{name:"Stone Dwarf",ac:15,hp:67,dex:16},{name:"Stone Giant",ac:17,hp:126,dex:15},{name:"Stone Giant Shaman",ac:17,hp:126,dex:15},{name:"Stone Golem",ac:17,hp:178,dex:9},{name:"Stonemelder",ac:17,hp:75,dex:10},{name:"Storm Giant",ac:16,hp:230,dex:14},{name:"Stormgale, Cult Leader",ac:12,hp:66,dex:14},{name:"Succubus/Incubus",ac:15,hp:66,dex:17},{name:"Swarm of Bats",ac:12,hp:22,dex:15},{name:"Swarm of Beetles",ac:12,hp:22,dex:13},{name:"Swarm of Insects",ac:12,hp:22,dex:13},{name:"Swarm of Poisonous Snakes",ac:14,hp:36,dex:18},{name:"Swarm of Quippers",ac:13,hp:28,dex:16},{name:"Swarm of Rats",ac:10,hp:24,dex:11},{name:"Swarm of Ravens",ac:12,hp:24,dex:14},{name:"Swarm of Wasps",ac:12,hp:22,dex:13},{name:"Swashbuckler",ac:17,hp:66,dex:18},{name:"Talis the White",ac:18,hp:58,dex:12},{name:"Tarrasque",ac:25,hp:676,dex:11},{name:"Tashlyn Yafeera",ac:18,hp:149,dex:15},{name:"Three Crones",ac:12,hp:9,dex:10},{name:"Thri-kreen",ac:15,hp:33,dex:15},{name:"Thug",ac:11,hp:32,dex:11},{name:"Thurl Merosska",ac:16,hp:71,dex:14},{name:"Tiamat",ac:25,hp:615,dex:10},{name:"Tiger",ac:12,hp:37,dex:15},{name:"Treant",ac:16,hp:138,dex:8},{name:"Tribal Warrior",ac:12,hp:11,dex:11},{name:"Triceratops",ac:13,hp:95,dex:9},{name:"Tridrone",ac:15,hp:16,dex:13},{name:"Troglodyte",ac:11,hp:13,dex:10},{name:"Troll",ac:15,hp:84,dex:13},{name:"Twig Blight",ac:13,hp:4,dex:13},{name:"Tyrannosaurus Rex",ac:13,hp:136,dex:10},{name:"Ulitharid",ac:15,hp:127,dex:12},{name:"Ultroloth",ac:19,hp:153,dex:16},{name:"Umber Hulk",ac:18,hp:93,dex:13},{name:"Unicorn",ac:12,hp:67,dex:14},{name:"Vajra Safahr",ac:14,hp:126,dex:14},{name:"Vampire",ac:16,hp:144,dex:18},{name:"Vampire Spawn",ac:15,hp:82,dex:16},{name:"Vampiric Ixitxachitl",ac:16,hp:44,dex:18},{name:"Vampiric Ixitxachitl Cleric",ac:16,hp:44,dex:18},{name:"Vanifer",ac:15,hp:112,dex:16},{name:"Veteran",ac:17,hp:58,dex:13},{name:"Victoro Cassalanter",ac:15,hp:97,dex:13},{name:"Vine Blight",ac:12,hp:26,dex:8},{name:"Violet Fungus",ac:5,hp:18,dex:1},{name:"Volothamp \u201CVolo\u201D Geddarm",ac:11,hp:31,dex:12},{name:"Vrock",ac:15,hp:104,dex:15},{name:"Vulture",ac:10,hp:5,dex:10},{name:"Walking Statue of Waterdeep",ac:17,hp:314,dex:8},{name:"Warhorse",ac:11,hp:19,dex:12},{name:"Warhorse Skeleton",ac:13,hp:22,dex:12},{name:"Warrior Vampire",ac:18,hp:144,dex:18},{name:"Water Elemental",ac:14,hp:114,dex:14},{name:"Water Elemental Myrmidon",ac:18,hp:127,dex:14},{name:"Water Weird",ac:13,hp:58,dex:16},{name:"Weasel",ac:13,hp:1,dex:16},{name:"Werebat",ac:13,hp:24,dex:17},{name:"Werebear",ac:11,hp:135,dex:10},{name:"Wereboar",ac:11,hp:78,dex:10},{name:"Wererat",ac:12,hp:33,dex:15},{name:"Weretiger",ac:12,hp:120,dex:15},{name:"Werewolf",ac:12,hp:58,dex:13},{name:"White Dragon Wyrmling",ac:16,hp:32,dex:10},{name:"Wiggan Nettlebee",ac:11,hp:36,dex:12},{name:"Wight",ac:14,hp:45,dex:14},{name:"Will-o'-Wisp",ac:19,hp:22,dex:28},{name:"Windharrow",ac:15,hp:55,dex:16},{name:"Winged Kobold",ac:13,hp:7,dex:16},{name:"Winter Wolf",ac:13,hp:75,dex:13},{name:"Wolf",ac:13,hp:11,dex:15},{name:"Worg",ac:13,hp:26,dex:13},{name:"Wraith",ac:13,hp:67,dex:16},{name:"Wyvern",ac:13,hp:110,dex:10},{name:"Xaxan Thavish",ac:12,hp:22,dex:14},{name:"Xorn",ac:19,hp:73,dex:10},{name:"Yan-C-Bin",ac:22,hp:283,dex:24},{name:"Yeti",ac:12,hp:51,dex:13},{name:"Yochlol",ac:15,hp:136,dex:14},{name:"Young Black Dragon",ac:18,hp:127,dex:14},{name:"Young Blue Dragon",ac:18,hp:152,dex:10},{name:"Young Brass Dragon",ac:17,hp:110,dex:10},{name:"Young Bronze Dragon",ac:18,hp:142,dex:10},{name:"Young Copper Dragon",ac:17,hp:119,dex:12},{name:"Young Gold Dragon",ac:18,hp:178,dex:14},{name:"Young Green Dragon",ac:18,hp:136,dex:12},{name:"Young Purple Worm",ac:14,hp:93,dex:13},{name:"Young Red Dragon",ac:18,hp:178,dex:10},{name:"Young Red Shadow Dragon",ac:18,hp:178,dex:10},{name:"Young Remorhaz",ac:14,hp:93,dex:13},{name:"Young Silver Dragon",ac:18,hp:168,dex:10},{name:"Young White Dragon",ac:17,hp:133,dex:10},{name:"Yuan-Ti Abomination",ac:15,hp:127,dex:16},{name:"Yuan-Ti Malison",ac:12,hp:66,dex:14},{name:"Yuan-Ti Pureblood",ac:11,hp:40,dex:12},{name:"Ziraj the Hunter",ac:17,hp:153,dex:18},{name:"Zombie",ac:8,hp:22,dex:6},{name:"Zorak Lightdrinker",ac:18,hp:144,dex:18}],Mo=Vr.map(l=>l.name);function Pl(l,e,t){const n=l.slice();return n[5]=e[t],n[7]=t,n}function Gl(l){let e,t=l[5]+"",n,i,a,r;function s(){return l[3](l[7])}function o(){return l[4](l[5])}return{c(){e=v("li"),n=re(t),i=L(),m(e,"class","svelte-170fgs5"),J(e,"highlighted",l[7]===l[0])},m(u,c){M(u,e,c),p(e,n),p(e,i),a||(r=[V(e,"mouseenter",s),V(e,"click",o)],a=!0)},p(u,c){l=u,c&2&&t!==(t=l[5]+"")&&ye(n,t),c&1&&J(e,"highlighted",l[7]===l[0])},d(u){u&&E(e),a=!1,be(r)}}}function So(l){let e,t=l[1],n=[];for(let i=0;i<t.length;i+=1)n[i]=Gl(Pl(l,t,i));return{c(){e=v("ul");for(let i=0;i<n.length;i+=1)n[i].c();m(e,"class","svelte-170fgs5")},m(i,a){M(i,e,a);for(let r=0;r<n.length;r+=1)n[r].m(e,null)},p(i,[a]){if(a&7){t=i[1];let r;for(r=0;r<t.length;r+=1){const s=Pl(i,t,r);n[r]?n[r].p(s,a):(n[r]=Gl(s),n[r].c(),n[r].m(e,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},i:G,o:G,d(i){i&&E(e),$e(n,i)}}}function Lo(l,e,t){let{list:n}=e,{highlightedIndex:i=0}=e,{onLiClick:a}=e;const r=o=>t(0,i=o),s=o=>a(o);return l.$$set=o=>{"list"in o&&t(1,n=o.list),"highlightedIndex"in o&&t(0,i=o.highlightedIndex),"onLiClick"in o&&t(2,a=o.onLiClick)},[i,n,a,r,s]}class Io extends j{constructor(e){super(),x(this,e,Lo,So,q,{list:1,highlightedIndex:0,onLiClick:2})}}function Ao(l){let e,t,n,i;return{c(){e=v("input"),m(e,"class",t=Ie(l[10].inputClass)+" svelte-18ppiqh"),m(e,"tabindex",1),m(e,"placeholder",l[4])},m(a,r){M(a,e,r),Oe(e,l[0]),l[21](e),n||(i=[V(e,"input",l[20]),V(e,"click",l[22]),V(e,"focusin",function(){De(l[2])&&l[2].apply(this,arguments)}),V(e,"keydown",l[23])],n=!0)},p(a,r){l=a,r&1024&&t!==(t=Ie(l[10].inputClass)+" svelte-18ppiqh")&&m(e,"class",t),r&16&&m(e,"placeholder",l[4]),r&1&&e.value!==l[0]&&Oe(e,l[0])},i:G,o:G,d(a){a&&E(e),l[21](null),n=!1,be(i)}}}function Oo(l){let e,t,n,i,a,r,s,o;const u=l[15].default,c=St(u,l,l[14],null);return{c(){e=v("div"),t=v("input"),i=L(),c&&c.c(),m(t,"type","text"),m(t,"class",n=Ie(l[10].inputClass)+" svelte-18ppiqh"),m(t,"tabindex",1),m(t,"placeholder",l[4]),m(e,"class",a=Ie(l[10].divClass)+" svelte-18ppiqh")},m(f,d){M(f,e,d),p(e,t),Oe(t,l[0]),l[17](t),p(e,i),c&&c.m(e,null),r=!0,s||(o=[V(t,"input",l[16]),V(t,"click",l[18]),V(t,"focusin",function(){De(l[2])&&l[2].apply(this,arguments)}),V(t,"keydown",l[19])],s=!0)},p(f,d){l=f,(!r||d&1024&&n!==(n=Ie(l[10].inputClass)+" svelte-18ppiqh"))&&m(t,"class",n),(!r||d&16)&&m(t,"placeholder",l[4]),d&1&&t.value!==l[0]&&Oe(t,l[0]),c&&c.p&&(!r||d&16384)&&It(c,u,l,l[14],r?Lt(u,l[14],d,null):At(l[14]),null),(!r||d&1024&&a!==(a=Ie(l[10].divClass)+" svelte-18ppiqh"))&&m(e,"class",a)},i(f){r||(h(c,f),r=!0)},o(f){_(c,f),r=!1},d(f){f&&E(e),l[17](null),c&&c.d(f),s=!1,be(o)}}}function Nl(l){let e,t,n,i;function a(s){l[24](s)}let r={list:l[6],onLiClick:l[8]};return l[5]!==void 0&&(r.highlightedIndex=l[5]),t=new Io({props:r}),Q.push(()=>ne(t,"highlightedIndex",a)),{c(){e=v("div"),B(t.$$.fragment),m(e,"class","filter-list svelte-18ppiqh")},m(s,o){M(s,e,o),D(t,e,null),i=!0},p(s,o){const u={};o&64&&(u.list=s[6]),!n&&o&32&&(n=!0,u.highlightedIndex=s[5],te(()=>n=!1)),t.$set(u)},i(s){i||(h(t.$$.fragment,s),i=!0)},o(s){_(t.$$.fragment,s),i=!1},d(s){s&&E(e),T(t)}}}function Do(l){let e,t,n,i,a;const r=[Oo,Ao],s=[];function o(c,f){return c[10].divClass?0:1}e=o(l),t=s[e]=r[e](l);let u=l[7]&&l[3]&&l[6].length>0&&Nl(l);return{c(){t.c(),n=L(),u&&u.c(),i=we()},m(c,f){s[e].m(c,f),M(c,n,f),u&&u.m(c,f),M(c,i,f),a=!0},p(c,[f]){let d=e;e=o(c),e===d?s[e].p(c,f):(X(),_(s[d],1,1,()=>{s[d]=null}),Z(),t=s[e],t?t.p(c,f):(t=s[e]=r[e](c),t.c()),h(t,1),t.m(n.parentNode,n)),c[7]&&c[3]&&c[6].length>0?u?(u.p(c,f),f&200&&h(u,1)):(u=Nl(c),u.c(),h(u,1),u.m(i.parentNode,i)):u&&(X(),_(u,1,1,()=>{u=null}),Z())},i(c){a||(h(t),h(u),a=!0)},o(c){_(t),_(u),a=!1},d(c){s[e].d(c),c&&E(n),u&&u.d(c),c&&E(i)}}}function To(l,e,t){let n,{$$slots:i={},$$scope:a}=e,{list:r}=e,{exclude:s=[]}=e,{submit:o}=e,{value:u=""}=e,{onFocusIn:c=()=>{}}=e,{listFocusCondition:f=!1}=e,{input:d}=e,{inputPlaceholder:g=""}=e,k=!1,C=0;const y=N=>{o(N),t(7,k=!1)},w=()=>{t(5,C=Math.max(C-1,0))},S=()=>{t(5,C=Math.min(C+1,r.length-1))},$=N=>{N.preventDefault(),N.stopPropagation()},I=N=>{var P,F;switch(N.key){case"ArrowUp":w(),t(7,k=!0);break;case"ArrowDown":k&&S(),t(7,k=!0);break;case"Enter":k&&n.length>0&&t(0,u=(P=n[C])!=null?P:""),u&&y(u),$(N);break;case"Tab":u&&n.length>0?(t(0,u=(F=n[C])!=null?F:""),u&&y(u)):t(7,k=!1),t(7,k=!1),$(N);break;case"Backspace":u||t(7,k=!1);break;case"Escape":t(7,k=!1),$(N);break}};function b(){u=this.value,t(0,u)}function O(N){Q[N?"unshift":"push"](()=>{d=N,t(1,d)})}const R=()=>t(7,k=!0),H=N=>I(N);function A(){u=this.value,t(0,u)}function z(N){Q[N?"unshift":"push"](()=>{d=N,t(1,d)})}const K=()=>t(7,k=!0),se=N=>I(N);function W(N){C=N,t(5,C),t(6,n),t(11,r),t(0,u),t(12,s)}return l.$$set=N=>{t(10,e=ge(ge({},e),ve(N))),"list"in N&&t(11,r=N.list),"exclude"in N&&t(12,s=N.exclude),"submit"in N&&t(13,o=N.submit),"value"in N&&t(0,u=N.value),"onFocusIn"in N&&t(2,c=N.onFocusIn),"listFocusCondition"in N&&t(3,f=N.listFocusCondition),"input"in N&&t(1,d=N.input),"inputPlaceholder"in N&&t(4,g=N.inputPlaceholder),"$$scope"in N&&t(14,a=N.$$scope)},l.$$.update=()=>{l.$$.dirty&6145&&t(6,n=r.filter(N=>N.toLowerCase().startsWith(u.toLowerCase())&&!s.includes(N))),l.$$.dirty&96&&C>=n.length-1&&t(5,C=0)},e=ve(e),[u,d,c,f,g,C,n,k,y,I,e,r,s,o,a,i,b,O,R,H,A,z,K,se,W]}class xr extends j{constructor(e){super(),x(this,e,To,Do,q,{list:11,exclude:12,submit:13,value:0,onFocusIn:2,listFocusCondition:3,input:1,inputPlaceholder:4})}}function Fl(l){let e,t;return e=new il({props:{max:l[0].hpMax,current:l[0].hpCurrent}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const a={};i&1&&(a.max=n[0].hpMax),i&1&&(a.current=n[0].hpCurrent),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function ql(l){let e,t,n,i,a,r;function s(d){l[13](d)}function o(d){l[14](d)}function u(d){l[15](d)}function c(d){l[16](d)}let f={creature:l[0]};return l[0].name!==void 0&&(f.name=l[0].name),l[0].quantity!==void 0&&(f.quantity=l[0].quantity),l[0].hpMax!==void 0&&(f.hpMax=l[0].hpMax),l[0].hpCurrent!==void 0&&(f.hpCurrent=l[0].hpCurrent),e=new Wr({props:f}),Q.push(()=>ne(e,"name",s)),Q.push(()=>ne(e,"quantity",o)),Q.push(()=>ne(e,"hpMax",u)),Q.push(()=>ne(e,"hpCurrent",c)),{c(){B(e.$$.fragment)},m(d,g){D(e,d,g),r=!0},p(d,g){const k={};g&1&&(k.creature=d[0]),!t&&g&1&&(t=!0,k.name=d[0].name,te(()=>t=!1)),!n&&g&1&&(n=!0,k.quantity=d[0].quantity,te(()=>n=!1)),!i&&g&1&&(i=!0,k.hpMax=d[0].hpMax,te(()=>i=!1)),!a&&g&1&&(a=!0,k.hpCurrent=d[0].hpCurrent,te(()=>a=!1)),e.$set(k)},i(d){r||(h(e.$$.fragment,d),r=!0)},o(d){_(e.$$.fragment,d),r=!1},d(d){T(e,d)}}}function Wl(l){let e,t,n,i;function a(o){l[17](o)}function r(o){l[18](o)}let s={};return l[0].laMax!==void 0&&(s.valueMax=l[0].laMax),l[0].laCurrent!==void 0&&(s.valueCurrent=l[0].laCurrent),e=new Eo({props:s}),Q.push(()=>ne(e,"valueMax",a)),Q.push(()=>ne(e,"valueCurrent",r)),{c(){B(e.$$.fragment)},m(o,u){D(e,o,u),i=!0},p(o,u){const c={};!t&&u&1&&(t=!0,c.valueMax=o[0].laMax,te(()=>t=!1)),!n&&u&1&&(n=!0,c.valueCurrent=o[0].laCurrent,te(()=>n=!1)),e.$set(c)},i(o){i||(h(e.$$.fragment,o),i=!0)},o(o){_(e.$$.fragment,o),i=!1},d(o){T(e,o)}}}function Vl(l){let e,t;return e=new $n({props:{add:l[6],remove:l[7],vertical:!0}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:G,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Bo(l){let e,t,n,i,a,r,s,o,u,c,f,d,g;function k(b){l[10](b)}function C(b){l[11](b)}let y={list:Mo,key:"name",submit:l[8],inputPlaceholder:l[4]?l[0].playerClass:"Creature",listFocusCondition:!l[4]};l[0].name!==void 0&&(y.value=l[0].name),l[2]!==void 0&&(y.input=l[2]),n=new xr({props:y}),Q.push(()=>ne(n,"value",k)),Q.push(()=>ne(n,"input",C));let w=!l[5]&&Fl(l);u=new tt({props:{onClick:l[12],isinverted:l[5]}});let S=l[5]&&ql(l),$=l[3]&&Wl(l),I=l[5]&&Vl(l);return{c(){e=v("div"),t=v("div"),B(n.$$.fragment),r=L(),w&&w.c(),s=L(),o=v("div"),B(u.$$.fragment),c=L(),S&&S.c(),f=L(),$&&$.c(),d=L(),I&&I.c(),m(o,"class","xbutton svelte-12ctbt0"),m(t,"class","name-input-container svelte-12ctbt0"),m(e,"class","entity-area svelte-12ctbt0"),J(e,"minion-grid",l[5]),J(e,"boss-grid",l[3])},m(b,O){M(b,e,O),p(e,t),D(n,t,null),p(t,r),w&&w.m(t,null),p(t,s),p(t,o),D(u,o,null),p(t,c),S&&S.m(t,null),p(e,f),$&&$.m(e,null),p(e,d),I&&I.m(e,null),g=!0},p(b,[O]){const R={};O&17&&(R.inputPlaceholder=b[4]?b[0].playerClass:"Creature"),O&16&&(R.listFocusCondition=!b[4]),!i&&O&1&&(i=!0,R.value=b[0].name,te(()=>i=!1)),!a&&O&4&&(a=!0,R.input=b[2],te(()=>a=!1)),n.$set(R),b[5]?w&&(X(),_(w,1,1,()=>{w=null}),Z()):w?(w.p(b,O),O&32&&h(w,1)):(w=Fl(b),w.c(),h(w,1),w.m(t,s));const H={};O&3&&(H.onClick=b[12]),O&32&&(H.isinverted=b[5]),u.$set(H),b[5]?S?(S.p(b,O),O&32&&h(S,1)):(S=ql(b),S.c(),h(S,1),S.m(t,null)):S&&(X(),_(S,1,1,()=>{S=null}),Z()),b[3]?$?($.p(b,O),O&8&&h($,1)):($=Wl(b),$.c(),h($,1),$.m(e,d)):$&&(X(),_($,1,1,()=>{$=null}),Z()),b[5]?I?(I.p(b,O),O&32&&h(I,1)):(I=Vl(b),I.c(),h(I,1),I.m(e,null)):I&&(X(),_(I,1,1,()=>{I=null}),Z()),(!g||O&32)&&J(e,"minion-grid",b[5]),(!g||O&8)&&J(e,"boss-grid",b[3])},i(b){g||(h(n.$$.fragment,b),h(w),h(u.$$.fragment,b),h(S),h($),h(I),g=!0)},o(b){_(n.$$.fragment,b),_(w),_(u.$$.fragment,b),_(S),_($),_(I),g=!1},d(b){b&&E(e),T(n),w&&w.d(),T(u),S&&S.d(),$&&$.d(),I&&I.d()}}}function Ho(l,e,t){let n,i,a,r;ie(l,he,R=>t(9,r=R));let{removeCreature:s}=e,{creature:o}=e,u;const c=()=>{t(0,o.quantity++,o),t(0,o.hpCurrent=[...o.hpCurrent,o.hpMax],o),t(0,o.conditions=[...o.conditions,[]],o)},f=()=>{t(0,o.quantity=Math.max(1,o.quantity-1),o),t(0,o.hpCurrent=o.hpCurrent.slice(0,-1),o),t(0,o.conditions=o.conditions.slice(0,-1),o)},d=R=>{t(0,o.name=R.name,o),t(0,o.ac=R.ac,o),t(0,o.hpMax=R.hp,o),o.hpCurrent.fill(R.hp),t(0,o.bonus=Math.floor((R.dex-10)/2),o),u&&u.blur()},g=R=>{const H=Vr.find(A=>A.name===R);H&&d(H)};function k(R){l.$$.not_equal(o.name,R)&&(o.name=R,t(0,o))}function C(R){u=R,t(2,u)}const y=()=>s(o);function w(R){l.$$.not_equal(o.name,R)&&(o.name=R,t(0,o))}function S(R){l.$$.not_equal(o.quantity,R)&&(o.quantity=R,t(0,o))}function $(R){l.$$.not_equal(o.hpMax,R)&&(o.hpMax=R,t(0,o))}function I(R){l.$$.not_equal(o.hpCurrent,R)&&(o.hpCurrent=R,t(0,o))}function b(R){l.$$.not_equal(o.laMax,R)&&(o.laMax=R,t(0,o))}function O(R){l.$$.not_equal(o.laCurrent,R)&&(o.laCurrent=R,t(0,o))}return l.$$set=R=>{"removeCreature"in R&&t(1,s=R.removeCreature),"creature"in R&&t(0,o=R.creature)},l.$$.update=()=>{l.$$.dirty&1&&t(5,n=o.type===le.Minion),l.$$.dirty&1&&t(4,i=o.type===le.Player),l.$$.dirty&1&&t(3,a=o.type===le.Boss),l.$$.dirty&513&&jt(r)},[o,s,u,a,i,n,c,f,g,r,k,C,y,w,S,$,I,b,O]}class zo extends j{constructor(e){super(),x(this,e,Ho,Bo,q,{removeCreature:1,creature:0})}}function Ro(l){let e,t,n,i,a,r,s,o,u;function c(d){l[7](d)}let f={isHidden:!l[2]};return l[0]!==void 0&&(f.value=l[0]),a=new nl({props:f}),Q.push(()=>ne(a,"value",c)),{c(){e=v("div"),t=v("input"),i=L(),B(a.$$.fragment),m(t,"class",n=l[4].class),m(t,"type","text"),t.hidden=l[1],m(e,"class","value-container"),J(e,"hidden",l[1])},m(d,g){M(d,e,g),p(e,t),Oe(t,l[3]),p(e,i),D(a,e,null),s=!0,o||(u=[V(t,"input",l[6]),V(e,"mouseenter",l[8]),V(e,"mouseleave",l[9])],o=!0)},p(d,[g]){(!s||g&16&&n!==(n=d[4].class))&&m(t,"class",n),(!s||g&2)&&(t.hidden=d[1]),g&8&&t.value!==d[3]&&Oe(t,d[3]);const k={};g&4&&(k.isHidden=!d[2]),!r&&g&1&&(r=!0,k.value=d[0],te(()=>r=!1)),a.$set(k),(!s||g&2)&&J(e,"hidden",d[1])},i(d){s||(h(a.$$.fragment,d),s=!0)},o(d){_(a.$$.fragment,d),s=!1},d(d){d&&E(e),T(a),o=!1,be(u)}}}function Po(l,e,t){let n,{value:i=0}=e,{showPlus:a=!1}=e,{isHidden:r=!1}=e,s=!1;function o(){n=this.value,t(3,n),t(5,a),t(0,i)}function u(d){i=d,t(0,i)}const c=()=>t(2,s=!0),f=()=>t(2,s=!1);return l.$$set=d=>{t(4,e=ge(ge({},e),ve(d))),"value"in d&&t(0,i=d.value),"showPlus"in d&&t(5,a=d.showPlus),"isHidden"in d&&t(1,r=d.isHidden)},l.$$.update=()=>{l.$$.dirty&33&&t(3,n=a&&i>0?"+"+i:i)},e=ve(e),[i,r,s,n,e,a,o,u,c,f]}class jr extends j{constructor(e){super(),x(this,e,Po,Ro,q,{value:0,showPlus:5,isHidden:1})}}function Go(l){let e,t,n;function i(r){l[4](r)}let a={isHidden:l[1]};return l[0]!==void 0&&(a.value=l[0]),e=new Kt({props:a}),Q.push(()=>ne(e,"value",i)),{c(){B(e.$$.fragment)},m(r,s){D(e,r,s),n=!0},p(r,[s]){const o={};s&2&&(o.isHidden=r[1]),!t&&s&1&&(t=!0,o.value=r[0],te(()=>t=!1)),e.$set(o)},i(r){n||(h(e.$$.fragment,r),n=!0)},o(r){_(e.$$.fragment,r),n=!1},d(r){T(e,r)}}}function No(l,e,t){let{entity:n}=e,{setHpCurrent:i}=e,{value:a}=e,{isHidden:r=!1}=e,s=n.hpMax;const o=c=>{s!==c&&(s=c,i(s))};function u(c){a=c,t(0,a)}return l.$$set=c=>{"entity"in c&&t(2,n=c.entity),"setHpCurrent"in c&&t(3,i=c.setHpCurrent),"value"in c&&t(0,a=c.value),"isHidden"in c&&t(1,r=c.isHidden)},l.$$.update=()=>{l.$$.dirty&1&&o(a)},[a,r,n,i,u]}class Fo extends j{constructor(e){super(),x(this,e,No,Go,q,{entity:2,setHpCurrent:3,value:0,isHidden:1})}}function qo(l){let e,t,n,i;return{c(){e=ue("svg"),t=ue("use"),m(t,"href",n=`icons/classes.svg#${l[0].toLowerCase()}`),m(e,"class",i=`${l[2].class} relative`),m(e,"width",l[1]),m(e,"height",l[1])},m(a,r){M(a,e,r),p(e,t)},p(a,[r]){r&1&&n!==(n=`icons/classes.svg#${a[0].toLowerCase()}`)&&m(t,"href",n),r&4&&i!==(i=`${a[2].class} relative`)&&m(e,"class",i),r&2&&m(e,"width",a[1]),r&2&&m(e,"height",a[1])},i:G,o:G,d(a){a&&E(e)}}}function Wo(l,e,t){let{playerClass:n}=e,{width:i="100%"}=e;return l.$$set=a=>{t(2,e=ge(ge({},e),ve(a))),"playerClass"in a&&t(0,n=a.playerClass),"width"in a&&t(1,i=a.width)},e=ve(e),[n,i,e]}class Ur extends j{constructor(e){super(),x(this,e,Wo,qo,q,{playerClass:0,width:1})}}function xl(l,e,t){const n=l.slice();return n[4]=e[t],n}function jl(l){let e,t,n=dn,i=[];for(let r=0;r<n.length;r+=1)i[r]=Ul(xl(l,n,r));const a=r=>_(i[r],1,1,()=>{i[r]=null});return{c(){e=v("div");for(let r=0;r<i.length;r+=1)i[r].c();m(e,"class","icon-grid svelte-1yu9syw")},m(r,s){M(r,e,s);for(let o=0;o<i.length;o+=1)i[o].m(e,null);t=!0},p(r,s){if(s&2){n=dn;let o;for(o=0;o<n.length;o+=1){const u=xl(r,n,o);i[o]?(i[o].p(u,s),h(i[o],1)):(i[o]=Ul(u),i[o].c(),h(i[o],1),i[o].m(e,null))}for(X(),o=n.length;o<i.length;o+=1)a(o);Z()}},i(r){if(!t){for(let s=0;s<n.length;s+=1)h(i[s]);t=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)_(i[s]);t=!1},d(r){r&&E(e),$e(i,r)}}}function Vo(l){let e,t;return e=new Ur({props:{playerClass:l[4],width:"2rem"}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:G,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Ul(l){let e,t,n,i,a,r;t=new Me({props:{text:l[4],type:"info",$$slots:{default:[Vo]},$$scope:{ctx:l}}});function s(){return l[3](l[4])}return{c(){e=v("button"),B(t.$$.fragment),n=L(),m(e,"class","blank-button svelte-1yu9syw")},m(o,u){M(o,e,u),D(t,e,null),p(e,n),i=!0,a||(r=V(e,"click",s),a=!0)},p(o,u){l=o;const c={};u&128&&(c.$$scope={dirty:u,ctx:l}),t.$set(c)},i(o){i||(h(t.$$.fragment,o),i=!0)},o(o){_(t.$$.fragment,o),i=!1},d(o){o&&E(e),T(t),a=!1,r()}}}function xo(l){let e,t,n=l[0]&&jl(l);return{c(){n&&n.c(),e=we()},m(i,a){n&&n.m(i,a),M(i,e,a),t=!0},p(i,[a]){i[0]?n?(n.p(i,a),a&1&&h(n,1)):(n=jl(i),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(X(),_(n,1,1,()=>{n=null}),Z())},i(i){t||(h(n),t=!0)},o(i){_(n),t=!1},d(i){n&&n.d(i),i&&E(e)}}}function jo(l,e,t){let{playerClass:n}=e,{isOpen:i=!1}=e;const a=s=>{t(2,n=s),t(0,i=!1)},r=s=>a(s);return l.$$set=s=>{"playerClass"in s&&t(2,n=s.playerClass),"isOpen"in s&&t(0,i=s.isOpen)},[i,a,n,r]}class Uo extends j{constructor(e){super(),x(this,e,jo,xo,q,{playerClass:2,isOpen:0})}}function Yl(l){let e,t,n;return{c(){e=ue("svg"),t=ue("use"),m(t,"href",n=`icons/classes.svg#${l[0].toLowerCase()}`),m(e,"class","relative"),m(e,"width","100%"),m(e,"height","100%")},m(i,a){M(i,e,a),p(e,t)},p(i,a){a&1&&n!==(n=`icons/classes.svg#${i[0].toLowerCase()}`)&&m(t,"href",n)},d(i){i&&E(e)}}}function Kl(l){let e,t,n,i;function a(o){l[7](o)}function r(o){l[8](o)}let s={};return l[0]!==void 0&&(s.playerClass=l[0]),l[1]!==void 0&&(s.isOpen=l[1]),e=new Uo({props:s}),Q.push(()=>ne(e,"playerClass",a)),Q.push(()=>ne(e,"isOpen",r)),{c(){B(e.$$.fragment)},m(o,u){D(e,o,u),i=!0},p(o,u){const c={};!t&&u&1&&(t=!0,c.playerClass=o[0],te(()=>t=!1)),!n&&u&2&&(n=!0,c.isOpen=o[1],te(()=>n=!1)),e.$set(c)},i(o){i||(h(e.$$.fragment,o),i=!0)},o(o){_(e.$$.fragment,o),i=!1},d(o){T(e,o)}}}function Yo(l){let e,t,n,i,a,r,s,o=l[0]&&Yl(l),u=l[1]&&l[5]===l[2]&&Kl(l);return{c(){e=v("button"),o&&o.c(),n=L(),u&&u.c(),i=we(),m(e,"class",t=`entity-type-button svg-fit-container ${l[6].class}`)},m(c,f){M(c,e,f),o&&o.m(e,null),M(c,n,f),u&&u.m(c,f),M(c,i,f),a=!0,r||(s=[V(e,"click",function(){De(l[3])&&l[3].apply(this,arguments)}),V(e,"contextmenu",Ot(function(){De(l[4])&&l[4].apply(this,arguments)}))],r=!0)},p(c,[f]){l=c,l[0]?o?o.p(l,f):(o=Yl(l),o.c(),o.m(e,null)):o&&(o.d(1),o=null),(!a||f&64&&t!==(t=`entity-type-button svg-fit-container ${l[6].class}`))&&m(e,"class",t),l[1]&&l[5]===l[2]?u?(u.p(l,f),f&38&&h(u,1)):(u=Kl(l),u.c(),h(u,1),u.m(i.parentNode,i)):u&&(X(),_(u,1,1,()=>{u=null}),Z())},i(c){a||(h(u),a=!0)},o(c){_(u),a=!1},d(c){c&&E(e),o&&o.d(),c&&E(n),u&&u.d(c),c&&E(i),r=!1,be(s)}}}function Ko(l,e,t){let n;ie(l,st,f=>t(5,n=f));let{icon:i}=e,{isIconGridOpen:a=!1}=e,{index:r=0}=e,{onClick:s=()=>{}}=e,{onRightClick:o=()=>{}}=e;function u(f){i=f,t(0,i)}function c(f){a=f,t(1,a)}return l.$$set=f=>{t(6,e=ge(ge({},e),ve(f))),"icon"in f&&t(0,i=f.icon),"isIconGridOpen"in f&&t(1,a=f.isIconGridOpen),"index"in f&&t(2,r=f.index),"onClick"in f&&t(3,s=f.onClick),"onRightClick"in f&&t(4,o=f.onRightClick)},e=ve(e),[i,a,r,s,o,n,e,u,c]}class al extends j{constructor(e){super(),x(this,e,Ko,Yo,q,{icon:0,isIconGridOpen:1,index:2,onClick:3,onRightClick:4})}}function Jo(l){let e,t,n;return{c(){e=ue("svg"),t=ue("path"),m(t,"d","M39.555 115.763c-7.567-2.488-13.792-4.544-13.833-4.57-.042-.024-.243-1.638-.45-3.586-.901-8.563-2.102-15.134-4.9-26.824-2.138-8.935-3.014-13.53-3.453-18.124-.31-3.249-.197-7.32.26-9.324l.226-.989-1.492-.839C9.572 47.945 5.596 42.784 3.835 35.831c-1.746-6.898-.87-14.32 2.507-21.225C9.434 8.282 13.656 3.877 19.502.876c2.37-1.216 2.66-1.182 1.719.2-2.266 3.334-4.214 7.87-4.96 11.55-.65 3.21-.444 7.422.492 10.075 1.64 4.648 5.502 8.524 11.22 11.262l1.91.915 2.455-1.624c6.67-4.41 15.776-7.68 25.209-9.053 2.317-.338 2.974-.338 5.292 0 9.447 1.378 18.538 4.643 25.208 9.053l2.454 1.622 2.336-1.173c6.442-3.235 10.198-7.694 11.385-13.515l.484-2.376.53 1.72c.29.945.623 2.315.74 3.042.2 1.245.223 1.276.4.53.104-.437.206-2.104.226-3.705l.037-2.91.944 1.72c.52.946 1.172 2.315 1.45 3.042l.508 1.323-.098-1.918c-.055-1.055-.053-1.918.003-1.918s.376.625.712 1.39l.61 1.388.532-1.588.53-1.587.727 2.25c.4 1.236.786 2.426.86 2.645.088.262.346-.007.76-.794l.628-1.19.046 1.322.045 1.323.278-.992c.35-1.252.639-1.26.87-.028.175.934.19.945.503.363.299-.56.333-.51.484.69.609 4.833.432 8.335-.625 12.403-1.1 4.237-4.123 9.21-7.187 11.827-1.322 1.13-3.663 2.714-5.45 3.692-.757.413-.79.495-.57 1.455.464 2.03.58 6.086.267 9.352-.433 4.535-1.305 9.106-3.457 18.124-2.82 11.81-4.012 18.314-4.872 26.56-.22 2.092-.432 3.83-.473 3.862-.122.094-27.898 9.133-28.064 9.133-.083 0 .716-1.816 1.776-4.035 2.396-5.02 3.983-9.08 4.83-12.357.719-2.785.71-4.73-.037-7.95-1.273-5.49-2.611-25.929-1.697-25.929.165 0 1.326.348 2.58.774 5.337 1.811 9.498 1.198 12.887-1.9 1.618-1.479 3.989-4.888 5.02-7.219.795-1.8.852-1.703-1.802-3.057-5.022-2.562-11.532-1.992-21.603 1.893-5.955 2.296-5.994 2.32-5.912 3.37.083 1.04 1.486 3.903 3.312 6.754l1.326 2.07-.185 4.412c-.101 2.427-.46 6.985-.796 10.13l-.611 5.718-2.734 3.218c-2.582 3.038-2.76 3.192-3.17 2.75-.24-.259-1.48-1.7-2.76-3.205L54.7 93.04l-.616-5.732c-.338-3.152-.698-7.716-.8-10.14l-.182-4.41 1.327-2.074c1.828-2.852 3.23-5.715 3.313-6.757.083-1.05.044-1.073-5.911-3.37-10.072-3.884-16.581-4.454-21.603-1.892-2.654 1.354-2.597 1.258-1.801 3.057 1.698 3.842 5.095 7.884 7.673 9.131 2.762 1.337 7.073 1.276 10.639-.15.938-.375 1.878-.616 2.09-.535.3.115.383.733.382 2.867-.003 6.682-.985 17.82-2.024 22.961-.784 3.88-.73 5.575.287 9.058.949 3.247 2.286 6.568 4.529 11.25 1.064 2.218 1.793 4.023 1.622 4.008-.171-.014-6.503-2.06-14.07-4.549z"),pe(t,"stroke-width","1"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","100%"),m(e,"height","100%"),m(e,"viewBox","0 0 120.337 120.338"),m(e,"class",n=l[0].class)},m(i,a){M(i,e,a),p(e,t)},p(i,[a]){a&1&&n!==(n=i[0].class)&&m(e,"class",n)},i:G,o:G,d(i){i&&E(e)}}}function Xo(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),ve(n)))},e=ve(e),[e]}class Bt extends j{constructor(e){super(),x(this,e,Xo,Jo,q,{})}}function Zo(l){let e,t,n;return{c(){e=ue("svg"),t=ue("path"),m(t,"d","M31.237 55.064c-1.136-.037-1.414-.077-2.273-.33-1.64-.484-1.917-.615-3.265-1.544-1.341-.924-2.113-1.762-3.046-3.31-.492-.815-.672-1.26-1.064-2.631-.58-2.028-.893-2.936-1.29-3.755-.213-.437-.274-.524-.682-.965-.247-.266-.488-.52-.537-.563a3.306 3.306 0 0 1-.507-.678 2.954 2.954 0 0 1-.165-.508c-.106-.443-.169-.595-.403-.973-.248-.4-.458-.838-.458-.955 0-.167.133-.366.866-1.298.107-.136.195-.264.195-.284 0-.02-.044-.065-.097-.1-.154-.1-.561-.077-1.055.062-.559.157-.687.227-.886.485-.187.243-.389.36-.548.32-.117-.028-1.593-.856-1.933-1.083-.431-.288-.63-.6-.94-1.47-.198-.556-.241-.644-.59-1.215a24.109 24.109 0 0 1-.607-1.082 16.221 16.221 0 0 0-.667-1.141c-.708-1.075-2.263-3.032-5.617-7.07-1.659-1.998-1.738-2.094-2.405-2.927a98.886 98.886 0 0 1-2.399-3.143c-.75-1.02-.779-1.066-.722-1.135.037-.044.025-.1-.056-.26-.057-.111-.095-.211-.085-.221.01-.01.146.093.302.23.843.737 1.073.928 1.413 1.17.206.147.538.366.738.487.2.122.643.403.984.626 1.04.682 1.588 1 2.815 1.63a71.5 71.5 0 0 1 3.34 1.807c2.092 1.208 2.136 1.226 5.42 2.247 1.461.454 1.916.642 2.57 1.06l.298.19.57.027.57.027.412-.256c.794-.495.807-.51.802-1.048-.004-.448-.06-.613-.338-1.017-.406-.587-.554-1.145-.467-1.766.062-.442.15-.694.473-1.362.466-.962.464-.954.487-2.28.018-1.034.03-1.19.123-1.644.122-.59.342-1.277.588-1.831.667-1.505 1.977-3.203 2.967-3.848 1.269-.825 3.855-1.712 6.521-2.235.945-.185 1.375-.218 2.848-.215 1.745.003 1.917.028 3.28.482 1.53.51 2.676.982 3.31 1.362.433.26.895.606 1.699 1.274.432.359 1.077.887 1.433 1.173 1.672 1.34 2.106 1.917 2.419 3.203.128.527.355 2.093.413 2.85.067.874.027 1.994-.096 2.71-.137.8-.144.893-.18 2.279l-.03 1.238-.18.452c-.264.664-.289.787-.205 1.006.092.24.24.329.552.329.276 0 .41-.06.732-.321.577-.472 1.452-.824 3.784-1.524a79.9 79.9 0 0 0 1.472-.452c.67-.238 1.772-.817 3.615-1.898a63.203 63.203 0 0 1 2.2-1.166c.896-.457 1.842-.964 2.101-1.126.26-.163.799-.504 1.198-.758l1.14-.723c.425-.268 1.02-.737 1.806-1.42.249-.216.466-.393.482-.393.016 0-.025.097-.091.215-.079.138-.113.242-.097.293.032.1-.007.172-.365.67-1.577 2.194-2.29 3.124-3.737 4.869-6.074 7.326-6.057 7.306-6.572 8.114-.633.994-.79 1.25-.996 1.61l-.54.944c-.498.865-.678 1.23-.793 1.61-.184.61-.495 1.12-.832 1.366-.183.133-1.57.902-1.947 1.08-.17.08-.2.083-.318.033a.86.86 0 0 1-.264-.22c-.29-.361-.401-.471-.597-.593-.438-.273-.611-.39-.772-.525-.091-.077-.189-.14-.216-.14-.066 0-.153.104-.252.3l-.082.164.1.244c.054.134.108.353.12.487.03.314-.04.478-.396.927-.351.443-.43.584-.598 1.066l-.233.662c-.05.14-.117.424-.15.629-.109.674-.115.687-1.001 2.349-.424.793-.708 1.269-1.524 2.55-1.257 1.977-1.607 2.564-2.228 3.733-.72 1.355-1.27 2.163-1.86 2.73-.388.372-.763.55-2.622 1.245-.346.13-.802.306-1.014.393a5.677 5.677 0 0 1-1.46.394c-.379.043-.476.043-1.808 0z"),pe(t,"stroke-width","1"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","100%"),m(e,"height","100%"),m(e,"viewBox","0 0 64.386 64.386"),m(e,"class",n=l[0].class)},m(i,a){M(i,e,a),p(e,t)},p(i,[a]){a&1&&n!==(n=i[0].class)&&m(e,"class",n)},i:G,o:G,d(i){i&&E(e)}}}function Qo(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),ve(n)))},e=ve(e),[e]}class Jt extends j{constructor(e){super(),x(this,e,Qo,Zo,q,{})}}function es(l){let e,t,n;return{c(){e=ue("svg"),t=ue("path"),m(t,"d","M14.552 39.877c-2.837-1.746-5.264-3.278-5.391-3.403-.132-.13.01-.62.33-1.14.466-.752.563-1.323.563-3.312v-2.403l-1.212-1.005c-1.193-.99-4.415-4.594-4.253-4.757.046-.046.646.108 1.334.342.687.234 1.304.372 1.37.305.067-.067-.743-.645-1.8-1.286-1.823-1.107-1.978-1.28-3.05-3.39-.62-1.222-1.078-2.272-1.016-2.334.061-.061 1.013.515 2.115 1.28 1.101.767 2.051 1.34 2.111 1.278.06-.064-.999-1.116-2.352-2.338l-2.462-2.22-.298-1.748c-.483-2.827-.533-3.203-.424-3.203.057 0 1.245 1.248 2.64 2.774 1.394 1.526 2.535 2.678 2.535 2.559 0-.12-1.19-1.804-2.646-3.746L0 8.6V5.285C0 3.377.098 2.077.232 2.22c.127.139 2.348 3.824 4.935 8.19 2.587 4.365 4.877 8.175 5.089 8.466.409.562.404.49-.101-1.6-.21-.872 1.832-3.67 4.966-6.8 4.023-4.02 3.93-4.072 3.93 2.182 0 2.765.1 5.027.223 5.027s.42-.217.661-.483c.375-.414.438-1.197.438-5.396 0-4.368-.05-4.93-.447-5.084-.343-.13-.09-.386 1.071-1.086.836-.503 1.567-.915 1.625-.915.058 0 .79.412 1.625.915 1.162.7 1.414.955 1.071 1.086-.398.153-.447.718-.447 5.13 0 4.467.048 5 .484 5.396.266.24.564.437.661.437.098 0 .178-2.262.178-5.027 0-6.254-.094-6.202 3.93-2.183 3.25 3.248 5.178 5.923 4.949 6.867-.081.334-.218.935-.305 1.336-.086.4 2.16-3.116 4.99-7.813 2.831-4.697 5.223-8.616 5.317-8.71.093-.092.166 1.31.163 3.117l-.006 3.285-2.64 3.566c-1.452 1.96-2.64 3.66-2.64 3.778 0 .117 1.101-1.03 2.448-2.55 1.346-1.521 2.516-2.775 2.6-2.787.174-.025.076.997-.315 3.29-.268 1.569-.312 1.63-2.735 3.838-1.355 1.233-2.417 2.293-2.36 2.355.056.062 1.003-.515 2.102-1.283 1.1-.768 2.053-1.343 2.118-1.277.065.065-.39 1.118-1.01 2.34-1.07 2.11-1.226 2.283-3.05 3.39-1.056.64-1.866 1.22-1.8 1.286.067.067.684-.07 1.371-.305.688-.234 1.283-.393 1.322-.353.143.143-2.968 3.625-4.197 4.696l-1.256 1.096v2.425c.001 1.982.101 2.588.547 3.32.3.492.449.99.33 1.107-.249.244-10.618 6.596-10.768 6.596-.054 0-.175-2.827-.269-6.283-.093-3.457-.241-7.505-.328-8.996l-.159-2.712h2.495c2.448 0 2.511-.016 3.358-.844.87-.851 1.398-1.7 1.735-2.794l.184-.596h-3.458c-3.153 0-3.457-.042-3.457-.476 0-.262-.14-.616-.31-.786-.237-.237-.54.063-1.287 1.278-.537.873-1.04 1.652-1.12 1.73-.078.08-.609-.636-1.18-1.59-.795-1.327-1.11-1.66-1.348-1.42-.171.17-.311.526-.311.788 0 .434-.304.476-3.44.476-2.577 0-3.439.083-3.437.33.005.619 1.544 3.022 2.218 3.464.502.329 1.28.44 3.09.44h2.417l-.154 2.05c-.084 1.128-.23 5.176-.323 8.996-.093 3.82-.244 6.938-.336 6.928-.092-.01-2.49-1.446-5.327-3.192z"),pe(t,"stroke-width","1"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","100%"),m(e,"height","100%"),m(e,"viewBox","0 0 45.238 45.238"),m(e,"class",n=l[0].class)},m(i,a){M(i,e,a),p(e,t)},p(i,[a]){a&1&&n!==(n=i[0].class)&&m(e,"class",n)},i:G,o:G,d(i){i&&E(e)}}}function ts(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),ve(n)))},e=ve(e),[e]}class Ln extends j{constructor(e){super(),x(this,e,ts,es,q,{})}}function ns(l){let e,t,n;return{c(){e=ue("svg"),t=ue("path"),m(t,"d","M120.68 52.823c-.142 0-.54.36-.886.802-1.185 1.516-1.244 10.905-.088 14.147.456 1.28 1.085 2.64 2.632 5.688 1.554 3.063 4.711 6.668 10.658 12.17 4.187 3.876 8.259 8.33 7.907 8.65-.312.284-2.195-.21-3.866-1.016-1.431-.69-5.434-3.365-5.907-3.948-.244-.301-2.159-1.302-2.493-1.303-.172 0-.488.296-.7.658-.347.589-.303.8.407 1.99.437.73 1.243 2.54 1.79 4.022 1.3 3.515 1.399 6.242.276 7.644-1.688 2.108-1.675 2.528.154 4.74 1.503 1.815 2.645 4.07 2.695 5.314.025.639-.224 1.314-.755 2.045-.436.6-.793 1.23-.793 1.4 0 .17 1.111 1.36 2.47 2.643 1.357 1.283 2.468 2.5 2.468 2.703 0 .204.279.693.619 1.087 1.52 1.76-1.064 1.29-5.299-.965-3.304-1.758-4.463-2.154-5.225-1.782-.824.401-.807.45 1.354 3.822 1.383 2.157 1.198 3.898-.572 5.404-.414.353-.753.793-.753.98 0 .186.61.763 1.356 1.282 1.965 1.366 2.273 1.87 2.183 3.576l-.077 1.458 1.9 1.168c1.045.643 1.915 1.297 1.934 1.455.087.745-.137 1.386-.633 1.81-.34.292-.47.638-.35.926.384.91 1.819 2.642 3.043 3.673.685.577 1.59 1.52 2.012 2.094 1.09 1.485 2.509 2.723 3.818 3.332.762.353 1.075.651.964.915-.37.877 2.286 3.3 5.606 5.116 1.54.842 1.327.995-.373.267-2.212-.947-2.777-.22-1.624 2.093.866 1.74.76 2.497-.48 3.402-1.319.964-1.205 1.42.875 3.482.826.818 1.68 1.88 1.897 2.358.365.802.345.92-.252 1.499-.821.796-.61 1.492.738 2.428.938.652.997.783.925 2.05-.069 1.188-.005 1.364.512 1.432.336.044.926.584 1.373 1.258l.784 1.182-1.04.867c-1.245 1.04-1.554 2.556-.997 4.906.195.825.482 2.035.64 2.69.684 2.858 1.918 4.345 6.098 7.347 2.363 1.696 4.715 3.982 6.532 6.348 2.191 2.855 2.964 3.504 4.158 3.495.558-.004 2.9.018 2.99.018v.001H171.388c.09-.001 2.432-.023 2.989-.02 1.195.01 1.967-.64 4.16-3.494 1.816-2.366 4.167-4.652 6.53-6.348 4.18-3.002 5.415-4.49 6.1-7.347l.64-2.69c.556-2.35.247-3.866-1-4.906l-1.038-.867.783-1.182c.447-.674 1.037-1.214 1.373-1.258.518-.068.582-.244.514-1.431-.073-1.268-.015-1.4.924-2.051 1.347-.936 1.558-1.632.738-2.428-.598-.58-.617-.697-.253-1.499.218-.478 1.071-1.54 1.897-2.358 2.08-2.062 2.194-2.518.874-3.482-1.238-.905-1.345-1.663-.479-3.402 1.153-2.313.589-3.04-1.624-2.093-1.7.728-1.913.575-.372-.267 3.32-1.815 5.975-4.239 5.605-5.116-.11-.264.203-.562.964-.915 1.31-.609 2.729-1.847 3.818-3.332.421-.574 1.327-1.517 2.012-2.094 1.224-1.03 2.66-2.763 3.042-3.673.122-.288-.008-.634-.348-.926-.496-.424-.72-1.065-.633-1.81.018-.158.888-.812 1.933-1.455l1.9-1.168-.077-1.458c-.09-1.705.219-2.21 2.183-3.576.746-.52 1.356-1.096 1.356-1.282 0-.187-.339-.627-.753-.98-1.77-1.506-1.954-3.247-.572-5.404 2.161-3.373 2.178-3.42 1.354-3.822-.761-.372-1.921.024-5.225 1.782-4.235 2.255-6.819 2.725-5.298.965.34-.394.618-.883.618-1.087 0-.203 1.11-1.42 2.469-2.703 1.358-1.283 2.469-2.472 2.469-2.642 0-.17-.357-.8-.793-1.4-.53-.732-.78-1.407-.754-2.046.05-1.245 1.192-3.499 2.694-5.315 1.83-2.21 1.842-2.63.154-4.74-1.123-1.4-1.024-4.128.276-7.643.547-1.481 1.353-3.291 1.79-4.023.71-1.188.754-1.4.408-1.989-.213-.362-.529-.658-.701-.658-.334.001-2.249 1.002-2.493 1.303-.473.583-4.476 3.258-5.907 3.948-1.67.806-3.553 1.3-3.866 1.016-.351-.32 3.72-4.774 7.908-8.65 5.946-5.502 9.104-9.107 10.658-12.17 1.546-3.048 2.176-4.408 2.632-5.688 1.155-3.242 1.096-12.63-.089-14.147-.345-.441-.743-.802-.885-.802-.672 0-1.328 2.374-1.869 6.77-.425 3.453-1.784 6.404-4.422 9.598-3.523 4.266-6.258 6.15-14.18 9.769-1.755.802-3.52 1.66-3.92 1.907-.402.247-1.71 1.022-2.908 1.723-3.988 2.331-7.276 5.774-9.729 10.182l-.722 1.298-1.964-1.773c-1.08-.975-2.279-1.951-2.664-2.17-2.988-1.69-4.26-2.818-5.254-4.661-1.383-2.565-2.585-4.385-2.983-4.452-.025-.012-.05-.01-.085 0-.398.068-1.6 1.888-2.983 4.452-.994 1.843-2.266 2.972-5.254 4.662-.385.218-1.584 1.194-2.664 2.169l-1.964 1.773-.722-1.298c-2.452-4.408-5.741-7.85-9.73-10.182-1.197-.7-2.505-1.476-2.906-1.723-.4-.247-2.166-1.105-3.922-1.907-7.92-3.619-10.655-5.503-14.178-9.769-2.638-3.194-3.998-6.145-4.423-9.598-.541-4.396-1.196-6.77-1.869-6.77zm27.3 73.291c6.156 4.442 9.053 5.47 16.729 19.883 0 0-6.494-.905-11.749-4.766-2.603-1.914-4.98-15.117-4.98-15.117zm46.713 0s-2.376 13.203-4.98 15.117c-5.254 3.861-11.748 4.766-11.748 4.766 7.676-14.413 10.572-15.44 16.728-19.883z"),pe(t,"stroke-width","1"),m(t,"transform","translate(-95.925 -52.823)"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","100%"),m(e,"height","100%"),m(e,"viewBox","0 0 150.823 150.823"),m(e,"class",n=l[0].class)},m(i,a){M(i,e,a),p(e,t)},p(i,[a]){a&1&&n!==(n=i[0].class)&&m(e,"class",n)},i:G,o:G,d(i){i&&E(e)}}}function ls(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),ve(n)))},e=ve(e),[e]}class In extends j{constructor(e){super(),x(this,e,ls,ns,q,{})}}function is(l){let e,t;return e=new In({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function rs(l){let e,t;return e=new Jt({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function as(l){let e,t;return e=new Ln({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function os(l){let e,t;return e=new Bt({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function ss(l){let e,t,n,i,a,r;const s=[os,as,rs,is],o=[];function u(c,f){return c[0]===le.Enemy?0:c[0]===le.Player?1:c[0]===le.Minion?2:c[0]===le.Boss?3:-1}return~(t=u(l))&&(n=o[t]=s[t](l)),{c(){e=v("button"),n&&n.c(),m(e,"class","entity-type-button svelte-1apjalx")},m(c,f){M(c,e,f),~t&&o[t].m(e,null),i=!0,a||(r=V(e,"click",l[1]),a=!0)},p(c,[f]){let d=t;t=u(c),t!==d&&(n&&(X(),_(o[d],1,1,()=>{o[d]=null}),Z()),~t?(n=o[t],n||(n=o[t]=s[t](c),n.c()),h(n,1),n.m(e,null)):n=null)},i(c){i||(h(n),i=!0)},o(c){_(n),i=!1},d(c){c&&E(e),~t&&o[t].d(),a=!1,r()}}}function us(l,e,t){let{type:n}=e,{allowedTypes:i}=e,a=0;const r=()=>{a=(a+1)%i.length,t(0,n=i[a])};return l.$$set=s=>{"type"in s&&t(0,n=s.type),"allowedTypes"in s&&t(2,i=s.allowedTypes)},[n,r,i]}class Yr extends j{constructor(e){super(),x(this,e,us,ss,q,{type:0,allowedTypes:2})}}function cs(l){let e,t,n;function i(r){l[11](r)}let a={allowedTypes:[le.Enemy,le.Minion,le.Boss]};return l[0].type!==void 0&&(a.type=l[0].type),e=new Yr({props:a}),Q.push(()=>ne(e,"type",i)),{c(){B(e.$$.fragment)},m(r,s){D(e,r,s),n=!0},p(r,s){const o={};!t&&s&1&&(t=!0,o.type=r[0].type,te(()=>t=!1)),e.$set(o)},i(r){n||(h(e.$$.fragment,r),n=!0)},o(r){_(e.$$.fragment,r),n=!1},d(r){T(e,r)}}}function fs(l){let e,t,n,i;function a(o){l[9](o)}function r(o){l[10](o)}let s={index:l[1],class:"gold",onClick:l[5],onRightClick:l[6]};return l[0].playerClass!==void 0&&(s.icon=l[0].playerClass),l[3]!==void 0&&(s.isIconGridOpen=l[3]),e=new al({props:s}),Q.push(()=>ne(e,"icon",a)),Q.push(()=>ne(e,"isIconGridOpen",r)),{c(){B(e.$$.fragment)},m(o,u){D(e,o,u),i=!0},p(o,u){const c={};u&2&&(c.index=o[1]),!t&&u&1&&(t=!0,c.icon=o[0].playerClass,te(()=>t=!1)),!n&&u&8&&(n=!0,c.isIconGridOpen=o[3],te(()=>n=!1)),e.$set(c)},i(o){i||(h(e.$$.fragment,o),i=!0)},o(o){_(e.$$.fragment,o),i=!1},d(o){T(e,o)}}}function ds(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y,w,S,$,I,b,O,R,H,A,z,K,se;const W=[fs,cs],N=[];function P(de,Be){return de[0].type===le.Player?0:1}n=P(l),i=N[n]=W[n](l);function F(de){l[12](de)}let U={removeCreature:l[2]};l[0]!==void 0&&(U.creature=l[0]),s=new zo({props:U}),Q.push(()=>ne(s,"creature",F));function fe(de){l[13](de)}let Y={setHpCurrent:l[4],entity:l[0]};l[0].hpMax!==void 0&&(Y.value=l[0].hpMax),f=new Fo({props:Y}),Q.push(()=>ne(f,"value",fe));function me(de){l[14](de)}let Te={};l[0].ac!==void 0&&(Te.value=l[0].ac),C=new Kt({props:Te}),Q.push(()=>ne(C,"value",me));function Se(de){l[15](de)}let ee={showPlus:!0};l[0].bonus!==void 0&&(ee.value=l[0].bonus),$=new jr({props:ee}),Q.push(()=>ne($,"value",Se));function Ce(de){l[16](de)}let Ye={bonus:l[0].bonus};return l[0].initiative!==void 0&&(Ye.initiative=l[0].initiative),R=new Sn({props:Ye}),Q.push(()=>ne(R,"initiative",Ce)),K=new Mn({props:{onClick:l[17]}}),{c(){e=v("tr"),t=v("td"),i.c(),a=L(),r=v("td"),B(s.$$.fragment),u=L(),c=v("td"),B(f.$$.fragment),g=L(),k=v("td"),B(C.$$.fragment),w=L(),S=v("td"),B($.$$.fragment),b=L(),O=v("td"),B(R.$$.fragment),A=L(),z=v("td"),B(K.$$.fragment),m(t,"class","flex-col")},m(de,Be){M(de,e,Be),p(e,t),N[n].m(t,null),p(e,a),p(e,r),D(s,r,null),p(e,u),p(e,c),D(f,c,null),p(e,g),p(e,k),D(C,k,null),p(e,w),p(e,S),D($,S,null),p(e,b),p(e,O),D(R,O,null),p(e,A),p(e,z),D(K,z,null),se=!0},p(de,[Be]){let We=n;n=P(de),n===We?N[n].p(de,Be):(X(),_(N[We],1,1,()=>{N[We]=null}),Z(),i=N[n],i?i.p(de,Be):(i=N[n]=W[n](de),i.c()),h(i,1),i.m(t,null));const Je={};Be&4&&(Je.removeCreature=de[2]),!o&&Be&1&&(o=!0,Je.creature=de[0],te(()=>o=!1)),s.$set(Je);const at={};Be&1&&(at.entity=de[0]),!d&&Be&1&&(d=!0,at.value=de[0].hpMax,te(()=>d=!1)),f.$set(at);const mt={};!y&&Be&1&&(y=!0,mt.value=de[0].ac,te(()=>y=!1)),C.$set(mt);const pt={};!I&&Be&1&&(I=!0,pt.value=de[0].bonus,te(()=>I=!1)),$.$set(pt);const Ge={};Be&1&&(Ge.bonus=de[0].bonus),!H&&Be&1&&(H=!0,Ge.initiative=de[0].initiative,te(()=>H=!1)),R.$set(Ge);const ae={};Be&1&&(ae.onClick=de[17]),K.$set(ae)},i(de){se||(h(i),h(s.$$.fragment,de),h(f.$$.fragment,de),h(C.$$.fragment,de),h($.$$.fragment,de),h(R.$$.fragment,de),h(K.$$.fragment,de),se=!0)},o(de){_(i),_(s.$$.fragment,de),_(f.$$.fragment,de),_(C.$$.fragment,de),_($.$$.fragment,de),_(R.$$.fragment,de),_(K.$$.fragment,de),se=!1},d(de){de&&E(e),N[n].d(),T(s),T(f),T(C),T($),T(R),T(K)}}}function ms(l,e,t){let n,i;ie(l,st,b=>t(7,n=b)),ie(l,he,b=>t(8,i=b));let{creature:a}=e,{index:r}=e,s=!1,{removeCreature:o}=e;const u=b=>a.hpCurrent.fill(b),c=()=>{t(3,s=!s),ce(st,n=r,n)},f=()=>{t(3,s=!1),a.type===le.Player&&t(0,a.playerClass=a.playerClass==="Artificer"?"Barbarian":a.playerClass==="Barbarian"?"Bard":a.playerClass==="Bard"?"Cleric":a.playerClass==="Cleric"?"Druid":a.playerClass==="Druid"?"Fighter":a.playerClass==="Fighter"?"Monk":a.playerClass==="Monk"?"Paladin":a.playerClass==="Paladin"?"Ranger":a.playerClass==="Ranger"?"Rogue":a.playerClass==="Rogue"?"Sorcerer":a.playerClass==="Sorcerer"?"Warlock":a.playerClass==="Warlock"?"Wizard":"Artificer",a)};function d(b){l.$$.not_equal(a.playerClass,b)&&(a.playerClass=b,t(0,a))}function g(b){s=b,t(3,s),t(7,n),t(1,r)}function k(b){l.$$.not_equal(a.type,b)&&(a.type=b,t(0,a))}function C(b){a=b,t(0,a)}function y(b){l.$$.not_equal(a.hpMax,b)&&(a.hpMax=b,t(0,a))}function w(b){l.$$.not_equal(a.ac,b)&&(a.ac=b,t(0,a))}function S(b){l.$$.not_equal(a.bonus,b)&&(a.bonus=b,t(0,a))}function $(b){l.$$.not_equal(a.initiative,b)&&(a.initiative=b,t(0,a))}const I=()=>t(0,a.initiative=tl(20),a);return l.$$set=b=>{"creature"in b&&t(0,a=b.creature),"index"in b&&t(1,r=b.index),"removeCreature"in b&&t(2,o=b.removeCreature)},l.$$.update=()=>{l.$$.dirty&257&&jt(i),l.$$.dirty&130&&n!==r&&t(3,s=!1)},[a,r,o,s,u,c,f,n,i,d,g,k,C,y,w,S,$,I]}class Kr extends j{constructor(e){super(),x(this,e,ms,ds,q,{creature:0,index:1,removeCreature:2})}}const ol=[le.Player,le.Enemy,le.Minion,le.Boss],Jr=[le.Enemy,le.Minion,le.Boss];function Jl(l,e,t){const n=l.slice();return n[8]=e[t],n[10]=t,n}function Xl(l){let e;return{c(){e=v("th"),m(e,"class","fn-col")},m(t,n){M(t,e,n)},d(t){t&&E(e)}}}function Zl(l){let e,t;function n(){return l[7](l[8])}return e=new Kr({props:{creature:l[8],removeCreature:n,index:l[10]}}),{c(){B(e.$$.fragment)},m(i,a){D(e,i,a),t=!0},p(i,a){l=i;const r={};a&1&&(r.creature=l[8]),a&1&&(r.removeCreature=n),e.$set(r)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){_(e.$$.fragment,i),t=!1},d(i){T(e,i)}}}function ps(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y,w,S,$,I,b,O,R,H,A,z,K,se;e=new $n({props:{add:l[2],remove:l[3]}}),d=new dt({}),S=new ll({}),H=new Tt({});let W=!l[1]&&Xl(),N=l[0],P=[];for(let U=0;U<N.length;U+=1)P[U]=Zl(Jl(l,N,U));const F=U=>_(P[U],1,1,()=>{P[U]=null});return{c(){B(e.$$.fragment),t=L(),n=v("table"),i=v("thead"),a=v("th"),r=L(),s=v("th"),s.textContent="Name",o=L(),u=v("th"),c=v("div"),f=v("div"),B(d.$$.fragment),g=L(),k=v("span"),k.textContent="max",C=L(),y=v("th"),w=v("div"),B(S.$$.fragment),$=L(),I=v("th"),I.textContent=`Init.\r
            Bonus`,b=L(),O=v("th"),R=v("div"),B(H.$$.fragment),A=L(),W&&W.c(),z=L(),K=v("tbody");for(let U=0;U<P.length;U+=1)P[U].c();m(a,"class","value-col"),m(f,"class","svg-fit"),m(k,"class","icon-text svelte-xaxft5"),m(c,"class","icon-header svg-fit-container"),m(u,"class","value-col"),m(w,"class","icon-header svg-fit-container"),m(y,"class","value-col"),m(I,"class","value-col"),m(R,"class","icon-header svg-fit-containe"),m(O,"class","value-col"),m(i,"class","secondary")},m(U,fe){D(e,U,fe),M(U,t,fe),M(U,n,fe),p(n,i),p(i,a),p(i,r),p(i,s),p(i,o),p(i,u),p(u,c),p(c,f),D(d,f,null),p(c,g),p(c,k),p(i,C),p(i,y),p(y,w),D(S,w,null),p(i,$),p(i,I),p(i,b),p(i,O),p(O,R),D(H,R,null),p(i,A),W&&W.m(i,null),p(n,z),p(n,K);for(let Y=0;Y<P.length;Y+=1)P[Y].m(K,null);se=!0},p(U,[fe]){if(U[1]?W&&(W.d(1),W=null):W||(W=Xl(),W.c(),W.m(i,null)),fe&17){N=U[0];let Y;for(Y=0;Y<N.length;Y+=1){const me=Jl(U,N,Y);P[Y]?(P[Y].p(me,fe),h(P[Y],1)):(P[Y]=Zl(me),P[Y].c(),h(P[Y],1),P[Y].m(K,null))}for(X(),Y=N.length;Y<P.length;Y+=1)F(Y);Z()}},i(U){if(!se){h(e.$$.fragment,U),h(d.$$.fragment,U),h(S.$$.fragment,U),h(H.$$.fragment,U);for(let fe=0;fe<N.length;fe+=1)h(P[fe]);se=!0}},o(U){_(e.$$.fragment,U),_(d.$$.fragment,U),_(S.$$.fragment,U),_(H.$$.fragment,U),P=P.filter(Boolean);for(let fe=0;fe<P.length;fe+=1)_(P[fe]);se=!1},d(U){T(e,U),U&&E(t),U&&E(n),T(d),T(S),T(H),W&&W.d(),$e(P,U)}}}function hs(l,e,t){let n,i,a;ie(l,he,f=>t(6,i=f)),ie(l,Pe,f=>t(1,a=f));let{typeFilter:r}=e;const s=()=>{r.includes(le.Player)?ce(he,i=[...i,new Ze(le.Player)],i):r.includes(le.Enemy)&&ce(he,i=[...i,new Ze(le.Enemy)],i)},o=()=>{const f=n[n.length-1];u(f)},u=f=>{ce(he,i=i.filter(d=>d!==f),i),jt(i)},c=f=>u(f);return l.$$set=f=>{"typeFilter"in f&&t(5,r=f.typeFilter)},l.$$.update=()=>{l.$$.dirty&96&&t(0,n=i.filter(f=>ol.includes(f.type)&&r.includes(f.type)))},[n,a,s,o,u,r,i,c]}class gn extends j{constructor(e){super(),x(this,e,hs,ps,q,{typeFilter:5})}}var gs={prefix:"fas",iconName:"paintbrush",icon:[576,512,[128396,"paint-brush"],"f1fc","M339.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L568.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S517.7-4.4 499.1 9.6L262.4 187.2c-24 18-38.2 46.1-38.4 76.1L339.3 367.1zm-19.6 25.4l-116-104.4C143.9 290.3 96 339.6 96 400c0 3.9 .2 7.8 .6 11.6C98.4 429.1 86.4 448 68.8 448H64c-17.7 0-32 14.3-32 32s14.3 32 32 32H208c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"]},_s=gs,vs={prefix:"fas",iconName:"computer-mouse",icon:[384,512,[128433,"mouse"],"f8cc","M0 192H176V0H160C71.6 0 0 71.6 0 160v32zm0 32V352c0 88.4 71.6 160 160 160h64c88.4 0 160-71.6 160-160V224H192 0zm384-32V160C384 71.6 312.4 0 224 0H208V192H384z"]},bs=vs,ks={prefix:"fas",iconName:"question",icon:[320,512,[10067,10068,61736],"3f","M80 160c0-35.3 28.7-64 64-64h32c35.3 0 64 28.7 64 64v3.6c0 21.8-11.1 42.1-29.4 53.8l-42.2 27.1c-25.2 16.2-40.4 44.1-40.4 74V320c0 17.7 14.3 32 32 32s32-14.3 32-32v-1.4c0-8.2 4.2-15.8 11-20.2l42.2-27.1c36.6-23.6 58.8-64.1 58.8-107.7V160c0-70.7-57.3-128-128-128H144C73.3 32 16 89.3 16 160c0 17.7 14.3 32 32 32s32-14.3 32-32zm80 320a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]},ys={prefix:"fas",iconName:"arrow-up-right-from-square",icon:[512,512,["external-link"],"f08e","M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32H320zM80 32C35.8 32 0 67.8 0 112V432c0 44.2 35.8 80 80 80H400c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32V432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16H192c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z"]},ws={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V173.3c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32H64zm0 96c0-17.7 14.3-32 32-32H288c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V128zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},Cs=ws,$s={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M125.7 160H176c17.7 0 32 14.3 32 32s-14.3 32-32 32H48c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32s32 14.3 32 32v51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"]},Es=$s,qn={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},Ms={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},Ql={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},Ss={prefix:"fas",iconName:"gears",icon:[640,512,["cogs"],"f085","M308.5 135.3c7.1-6.3 9.9-16.2 6.2-25c-2.3-5.3-4.8-10.5-7.6-15.5L304 89.4c-3-5-6.3-9.9-9.8-14.6c-5.7-7.6-15.7-10.1-24.7-7.1l-28.2 9.3c-10.7-8.8-23-16-36.2-20.9L199 27.1c-1.9-9.3-9.1-16.7-18.5-17.8C173.9 8.4 167.2 8 160.4 8h-.7c-6.8 0-13.5 .4-20.1 1.2c-9.4 1.1-16.6 8.6-18.5 17.8L115 56.1c-13.3 5-25.5 12.1-36.2 20.9L50.5 67.8c-9-3-19-.5-24.7 7.1c-3.5 4.7-6.8 9.6-9.9 14.6l-3 5.3c-2.8 5-5.3 10.2-7.6 15.6c-3.7 8.7-.9 18.6 6.2 25l22.2 19.8C32.6 161.9 32 168.9 32 176s.6 14.1 1.7 20.9L11.5 216.7c-7.1 6.3-9.9 16.2-6.2 25c2.3 5.3 4.8 10.5 7.6 15.6l3 5.2c3 5.1 6.3 9.9 9.9 14.6c5.7 7.6 15.7 10.1 24.7 7.1l28.2-9.3c10.7 8.8 23 16 36.2 20.9l6.1 29.1c1.9 9.3 9.1 16.7 18.5 17.8c6.7 .8 13.5 1.2 20.4 1.2s13.7-.4 20.4-1.2c9.4-1.1 16.6-8.6 18.5-17.8l6.1-29.1c13.3-5 25.5-12.1 36.2-20.9l28.2 9.3c9 3 19 .5 24.7-7.1c3.5-4.7 6.8-9.5 9.8-14.6l3.1-5.4c2.8-5 5.3-10.2 7.6-15.5c3.7-8.7 .9-18.6-6.2-25l-22.2-19.8c1.1-6.8 1.7-13.8 1.7-20.9s-.6-14.1-1.7-20.9l22.2-19.8zM112 176a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM504.7 500.5c6.3 7.1 16.2 9.9 25 6.2c5.3-2.3 10.5-4.8 15.5-7.6l5.4-3.1c5-3 9.9-6.3 14.6-9.8c7.6-5.7 10.1-15.7 7.1-24.7l-9.3-28.2c8.8-10.7 16-23 20.9-36.2l29.1-6.1c9.3-1.9 16.7-9.1 17.8-18.5c.8-6.7 1.2-13.5 1.2-20.4s-.4-13.7-1.2-20.4c-1.1-9.4-8.6-16.6-17.8-18.5L583.9 307c-5-13.3-12.1-25.5-20.9-36.2l9.3-28.2c3-9 .5-19-7.1-24.7c-4.7-3.5-9.6-6.8-14.6-9.9l-5.3-3c-5-2.8-10.2-5.3-15.6-7.6c-8.7-3.7-18.6-.9-25 6.2l-19.8 22.2c-6.8-1.1-13.8-1.7-20.9-1.7s-14.1 .6-20.9 1.7l-19.8-22.2c-6.3-7.1-16.2-9.9-25-6.2c-5.3 2.3-10.5 4.8-15.6 7.6l-5.2 3c-5.1 3-9.9 6.3-14.6 9.9c-7.6 5.7-10.1 15.7-7.1 24.7l9.3 28.2c-8.8 10.7-16 23-20.9 36.2L315.1 313c-9.3 1.9-16.7 9.1-17.8 18.5c-.8 6.7-1.2 13.5-1.2 20.4s.4 13.7 1.2 20.4c1.1 9.4 8.6 16.6 17.8 18.5l29.1 6.1c5 13.3 12.1 25.5 20.9 36.2l-9.3 28.2c-3 9-.5 19 7.1 24.7c4.7 3.5 9.5 6.8 14.6 9.8l5.4 3.1c5 2.8 10.2 5.3 15.5 7.6c8.7 3.7 18.6 .9 25-6.2l19.8-22.2c6.8 1.1 13.8 1.7 20.9 1.7s14.1-.6 20.9-1.7l19.8 22.2zM464 304a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]};const Ls={icon:bs,description:"Add modifier"};function Is(l){let e,t;return{c(){e=ue("svg"),t=ue("path"),m(t,"d","M43.146 1.13 50.7 28.38 37.066 51.033l13.967 29.338-3.974 7.61 3.755 6.035c9.774-6.876 17.558-15.409 23.16-25.414 4.684-8.36 7.972-17.883 8.985-26.02.483-3.873.87-22.089.535-25.209l-.18-1.684-5.21-.591C60.883 13.14 53.189 10.243 44.717 2.533c-.6-.545-1.1-.987-1.57-1.402zm-3.392.632c-.298.266-.53.468-.858.767C30.34 10.334 22.498 13.226 4.45 15.234l-4.15.461-.182 1.694c-.322 3 .071 21.566.531 25.199.931 7.33 3.361 14.946 7.264 22.754 6.708 13.42 16.713 23.99 30.852 32.596 1.6.974 2.954 1.779 3.006 1.787.21.03 4.837-2.84 7.709-4.78.441-.298.874-.605 1.308-.91l-5.28-5.91 3.151-7.729-4.785-7.83-12.562 5.426-4.043 11.385 2.07-12.457 13.312-7.15-8.556-19.172L48.21 28.623 39.754 1.762z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","100%"),m(e,"height","100%"),m(e,"viewBox","0 0 83.619 99.724")},m(n,i){M(n,e,i),p(e,t)},p:G,i:G,o:G,d(n){n&&E(e)}}}class As extends j{constructor(e){super(),x(this,e,null,Is,q,{})}}function Os(l){let e,t;return e=new ll({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Ds(l){let e,t;return e=new As({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Ts(l){let e,t,n,i,a,r,s=l[0]+l[1]+"",o,u,c,f;const d=[Ds,Os],g=[];function k(C,y){return C[4]?0:1}return n=k(l),i=g[n]=d[n](l),{c(){e=v("button"),t=v("div"),i.c(),a=L(),r=v("div"),o=re(s),m(t,"class","svg-fit"),m(r,"class","value svelte-qs31jj"),m(e,"class","ac svg-fit-container svelte-qs31jj"),J(e,"enchanted",l[3]),J(e,"cursed",l[4])},m(C,y){M(C,e,y),p(e,t),g[n].m(t,null),p(e,a),p(e,r),p(r,o),u=!0,c||(f=[V(e,"click",l[5]),V(e,"contextmenu",Ot(l[6]))],c=!0)},p(C,y){let w=n;n=k(C),n!==w&&(X(),_(g[w],1,1,()=>{g[w]=null}),Z(),i=g[n],i||(i=g[n]=d[n](C),i.c()),h(i,1),i.m(t,null)),(!u||y&3)&&s!==(s=C[0]+C[1]+"")&&ye(o,s),(!u||y&8)&&J(e,"enchanted",C[3]),(!u||y&16)&&J(e,"cursed",C[4])},i(C){u||(h(i),u=!0)},o(C){_(i),u=!1},d(C){C&&E(e),g[n].d(),c=!1,be(f)}}}function ei(l){let e,t,n,i,a,r,s,o;function u(f){l[7](f)}let c={showPlus:!0,class:"enchanted-input"};return l[1]!==void 0&&(c.value=l[1]),i=new jr({props:c}),Q.push(()=>ne(i,"value",u)),{c(){e=v("div"),t=v("div"),t.textContent="mod",n=L(),B(i.$$.fragment),m(t,"class","bonus-text svelte-qs31jj"),m(e,"class","bonus-popup svelte-qs31jj")},m(f,d){M(f,e,d),p(e,t),p(e,n),D(i,e,null),o=!0},p(f,d){const g={};!a&&d&2&&(a=!0,g.value=f[1],te(()=>a=!1)),i.$set(g)},i(f){o||(h(i.$$.fragment,f),Ae(()=>{s&&s.end(1),r=Ue(e,vl,{}),r.start()}),o=!0)},o(f){_(i.$$.fragment,f),r&&r.invalidate(),s=Sr(e,vl,{}),o=!1},d(f){f&&E(e),T(i),f&&s&&s.end()}}}function Bs(l){let e,t,n,i;e=new Me({props:{text:"Armor Class",type:"help",controls:[Ls],$$slots:{default:[Ts]},$$scope:{ctx:l}}});let a=l[2]&&ei(l);return{c(){B(e.$$.fragment),t=L(),a&&a.c(),n=we()},m(r,s){D(e,r,s),M(r,t,s),a&&a.m(r,s),M(r,n,s),i=!0},p(r,[s]){const o={};s&543&&(o.$$scope={dirty:s,ctx:r}),e.$set(o),r[2]?a?(a.p(r,s),s&4&&h(a,1)):(a=ei(r),a.c(),h(a,1),a.m(n.parentNode,n)):a&&(X(),_(a,1,1,()=>{a=null}),Z())},i(r){i||(h(e.$$.fragment,r),h(a),i=!0)},o(r){_(e.$$.fragment,r),_(a),i=!1},d(r){T(e,r),r&&E(t),a&&a.d(r),r&&E(n)}}}function Hs(l,e,t){let n,i,{value:a}=e,r=!1,s=0;const o=()=>{r?t(2,r=!1):t(3,n=s!==0?!0:!n)},u=async()=>{setTimeout(()=>t(2,r=!1),3500)},c=()=>t(2,r=!r);function f(d){s=d,t(1,s)}return l.$$set=d=>{"value"in d&&t(0,a=d.value)},l.$$.update=()=>{l.$$.dirty&2&&t(3,n=s>0),l.$$.dirty&2&&t(4,i=s<0),l.$$.dirty&2&&u()},[a,s,r,n,i,o,c,f]}class Xr extends j{constructor(e){super(),x(this,e,Hs,Bs,q,{value:0})}}function zs(l){let e,t,n,i,a,r,s,o,u;return n=new rl({}),{c(){e=v("button"),t=v("div"),B(n.$$.fragment),i=L(),a=v("div"),r=re(l[0]),m(t,"class","svg-fit"),m(a,"class","value svelte-1uc8knl"),m(e,"class","legendary svg-fit-container svelte-1uc8knl"),J(e,"spent",l[0]===0)},m(c,f){M(c,e,f),p(e,t),D(n,t,null),p(e,i),p(e,a),p(a,r),s=!0,o||(u=[V(e,"click",l[1]),V(e,"contextmenu",Ot(l[3]))],o=!0)},p(c,f){(!s||f&1)&&ye(r,c[0]),(!s||f&1)&&J(e,"spent",c[0]===0)},i(c){s||(h(n.$$.fragment,c),s=!0)},o(c){_(n.$$.fragment,c),s=!1},d(c){c&&E(e),T(n),o=!1,be(u)}}}function Rs(l){let e,t;return e=new Me({props:{text:"use legendary action",type:"help",$$slots:{default:[zs]},$$scope:{ctx:l}}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,[i]){const a={};i&17&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Ps(l,e,t){let{value:n}=e,{logUsage:i}=e;const a=()=>{t(0,n=Math.max(n-1,0)),i()},r=()=>t(0,n++,n);return l.$$set=s=>{"value"in s&&t(0,n=s.value),"logUsage"in s&&t(2,i=s.logUsage)},[n,a,i,r]}class Gs extends j{constructor(e){super(),x(this,e,Ps,Rs,q,{value:0,logUsage:2})}}function ti(l,e,t){const n=l.slice();return n[18]=e[t],n}function Ns(l){let e,t,n,i;e=new il({props:{max:l[0].hpMax,current:l[0].hpCurrent[0]}});let a=l[0].conditions[0].length>0&&ni(l);return{c(){B(e.$$.fragment),t=L(),a&&a.c(),n=we()},m(r,s){D(e,r,s),M(r,t,s),a&&a.m(r,s),M(r,n,s),i=!0},p(r,s){const o={};s&1&&(o.max=r[0].hpMax),s&1&&(o.current=r[0].hpCurrent[0]),e.$set(o),r[0].conditions[0].length>0?a?(a.p(r,s),s&1&&h(a,1)):(a=ni(r),a.c(),h(a,1),a.m(n.parentNode,n)):a&&(X(),_(a,1,1,()=>{a=null}),Z())},i(r){i||(h(e.$$.fragment,r),h(a),i=!0)},o(r){_(e.$$.fragment,r),_(a),i=!1},d(r){T(e,r),r&&E(t),a&&a.d(r),r&&E(n)}}}function Fs(l){let e,t,n,i,a,r;function s(d){l[12](d)}function o(d){l[13](d)}function u(d){l[14](d)}function c(d){l[15](d)}let f={creature:l[0],removeCondition:l[9],parentIndex:l[4],hpMax:l[0].hpMax,hpCurrent:l[0].hpCurrent,conditions:l[0].conditions};return l[2]!==void 0&&(f.selectedIndex=l[2]),l[1]!==void 0&&(f.isSelected=l[1]),l[0].name!==void 0&&(f.name=l[0].name),l[0].quantity!==void 0&&(f.quantity=l[0].quantity),e=new Wr({props:f}),Q.push(()=>ne(e,"selectedIndex",s)),Q.push(()=>ne(e,"isSelected",o)),Q.push(()=>ne(e,"name",u)),Q.push(()=>ne(e,"quantity",c)),{c(){B(e.$$.fragment)},m(d,g){D(e,d,g),r=!0},p(d,g){const k={};g&1&&(k.creature=d[0]),g&16&&(k.parentIndex=d[4]),g&1&&(k.hpMax=d[0].hpMax),g&1&&(k.hpCurrent=d[0].hpCurrent),g&1&&(k.conditions=d[0].conditions),!t&&g&4&&(t=!0,k.selectedIndex=d[2],te(()=>t=!1)),!n&&g&2&&(n=!0,k.isSelected=d[1],te(()=>n=!1)),!i&&g&1&&(i=!0,k.name=d[0].name,te(()=>i=!1)),!a&&g&1&&(a=!0,k.quantity=d[0].quantity,te(()=>a=!1)),e.$set(k)},i(d){r||(h(e.$$.fragment,d),r=!0)},o(d){_(e.$$.fragment,d),r=!1},d(d){T(e,d)}}}function ni(l){let e,t,n=l[0].conditions[0],i=[];for(let r=0;r<n.length;r+=1)i[r]=li(ti(l,n,r));const a=r=>_(i[r],1,1,()=>{i[r]=null});return{c(){e=v("div");for(let r=0;r<i.length;r+=1)i[r].c();m(e,"class","conditions")},m(r,s){M(r,e,s);for(let o=0;o<i.length;o+=1)i[o].m(e,null);t=!0},p(r,s){if(s&513){n=r[0].conditions[0];let o;for(o=0;o<n.length;o+=1){const u=ti(r,n,o);i[o]?(i[o].p(u,s),h(i[o],1)):(i[o]=li(u),i[o].c(),h(i[o],1),i[o].m(e,null))}for(X(),o=n.length;o<i.length;o+=1)a(o);Z()}},i(r){if(!t){for(let s=0;s<n.length;s+=1)h(i[s]);t=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)_(i[s]);t=!1},d(r){r&&E(e),$e(i,r)}}}function li(l){let e,t,n,i,a,r;t=new Yt({props:{condition:l[18],width:"2rem"}});function s(){return l[16](l[18])}return{c(){e=v("button"),B(t.$$.fragment),n=L(),m(e,"class","blank-button")},m(o,u){M(o,e,u),D(t,e,null),p(e,n),i=!0,a||(r=V(e,"click",s),a=!0)},p(o,u){l=o;const c={};u&1&&(c.condition=l[18]),t.$set(c)},i(o){i||(h(t.$$.fragment,o),i=!0)},o(o){_(t.$$.fragment,o),i=!1},d(o){o&&E(e),T(t),a=!1,r()}}}function qs(l){let e,t,n;function i(r){l[17](r)}let a={logUsage:l[8]};return l[0].laCurrent!==void 0&&(a.value=l[0].laCurrent),e=new Gs({props:a}),Q.push(()=>ne(e,"value",i)),{c(){B(e.$$.fragment)},m(r,s){D(e,r,s),n=!0},p(r,s){const o={};!t&&s&1&&(t=!0,o.value=r[0].laCurrent,te(()=>t=!1)),e.$set(o)},i(r){n||(h(e.$$.fragment,r),n=!0)},o(r){_(e.$$.fragment,r),n=!1},d(r){T(e,r)}}}function Ws(l){let e,t,n,i,a,r,s,o,u,c,f;const d=[Fs,Ns],g=[];function k(y,w){return y[5]?0:1}r=k(l),s=g[r]=d[r](l);let C=l[7]&&qs(l);return{c(){e=v("div"),t=v("div"),n=v("input"),a=L(),s.c(),o=L(),C&&C.c(),m(n,"type","text"),n.readOnly=!0,m(n,"placeholder",i=l[6]?l[0].playerClass:"Creature"),m(n,"class","svelte-1p4w3p4"),J(n,"active",l[3]),J(n,"minion-main-name",l[0].type===le.Minion),m(t,"class","name-input-container svelte-1p4w3p4"),m(e,"class","entity-area svelte-1p4w3p4"),J(e,"boss-grid",l[7])},m(y,w){M(y,e,w),p(e,t),p(t,n),Oe(n,l[0].name),p(t,a),g[r].m(t,null),p(e,o),C&&C.m(e,null),u=!0,c||(f=[V(n,"input",l[10]),V(n,"click",l[11])],c=!0)},p(y,[w]){(!u||w&1&&i!==(i=y[6]?y[0].playerClass:"Creature"))&&m(n,"placeholder",i),w&1&&n.value!==y[0].name&&Oe(n,y[0].name),(!u||w&8)&&J(n,"active",y[3]),(!u||w&1)&&J(n,"minion-main-name",y[0].type===le.Minion),s.p(y,w),y[7]&&C.p(y,w)},i(y){u||(h(s),h(C),u=!0)},o(y){_(s),_(C),u=!1},d(y){y&&E(e),g[r].d(),C&&C.d(),c=!1,be(f)}}}function Vs(l,e,t){let{creature:n}=e,{isActive:i=!1}=e,{isSelected:a=!1}=e,{index:r=0}=e,{selectedIndex:s=0}=e;const o=n.type===le.Minion,u=n.type===le.Player,c=n.type===le.Boss,f=()=>{c&&_a(n,1)},d=(b,O)=>{t(0,n.conditions[O]=n.conditions[O].filter(R=>R!==b),n)};function g(){n.name=this.value,t(0,n)}const k=()=>t(1,a=!0);function C(b){s=b,t(2,s)}function y(b){a=b,t(1,a)}function w(b){l.$$.not_equal(n.name,b)&&(n.name=b,t(0,n))}function S(b){l.$$.not_equal(n.quantity,b)&&(n.quantity=b,t(0,n))}const $=b=>d(b,0);function I(b){l.$$.not_equal(n.laCurrent,b)&&(n.laCurrent=b,t(0,n))}return l.$$set=b=>{"creature"in b&&t(0,n=b.creature),"isActive"in b&&t(3,i=b.isActive),"isSelected"in b&&t(1,a=b.isSelected),"index"in b&&t(4,r=b.index),"selectedIndex"in b&&t(2,s=b.selectedIndex)},[n,a,s,i,r,o,u,c,f,d,g,k,C,y,w,S,$,I]}class Zr extends j{constructor(e){super(),x(this,e,Vs,Ws,q,{creature:0,isActive:3,isSelected:1,index:4,selectedIndex:2})}}function xs(l){let e,t;return{c(){e=ue("svg"),t=ue("path"),m(t,"d","M55.127 66.325c-1.979-.255-3.64-1.426-4.53-3.194a6.238 6.238 0 0 1-.504-1.437c-.07-.319-.078-.473-.1-2.05-.026-1.874-.025-1.858-.253-2.29-.226-.426-.75-.824-1.203-.91-.1-.02-.7-.043-1.335-.052-1.24-.02-1.616-.056-2.165-.215-1.499-.434-2.782-1.554-3.366-2.938a4.812 4.812 0 0 1-.408-2.037c.003-.827.142-1.437.516-2.246.611-1.327.684-2.385.258-3.775-.716-2.336-.95-5.035-.655-7.555.428-3.657 1.937-7.095 4.366-9.94.431-.506 1.61-1.67 2.124-2.097 2.22-1.845 4.681-3.11 7.375-3.79 1.639-.413 2.81-.555 4.6-.555 1.206 0 1.61.025 2.584.158 3.434.47 6.637 1.898 9.39 4.187.515.427 1.694 1.59 2.125 2.097 3.25 3.807 4.819 8.616 4.436 13.592a19.317 19.317 0 0 1-.725 3.903c-.175.572-.238.914-.26 1.42-.034.803.114 1.478.518 2.355.373.809.513 1.419.516 2.246.001.58-.054.978-.204 1.472-.486 1.603-1.69 2.848-3.301 3.417-.658.232-1.377.313-2.797.313-.632 0-.876.013-1.03.053-.609.159-1.11.651-1.314 1.291-.052.166-.063.409-.084 1.896-.023 1.577-.03 1.731-.1 2.05-.553 2.516-2.522 4.316-5.067 4.632-.353.044-9.066.043-9.407-.001zm3.841-7.158c.365-.119.399-.124.879-.124.486 0 .51.004.896.131.341.113.441.131.723.133.205.002.411-.02.55-.056.27-.07 1-.384 1.264-.543.412-.248.8-.778.926-1.268.074-.289.074-.75 0-1.035-.074-.285-2.126-5.058-2.275-5.292a2.146 2.146 0 0 0-1.044-.854l-.265-.107h-.74c-.69-.001-.759.005-.994.082a2.34 2.34 0 0 0-.795.47c-.234.21-.427.546-.753 1.307-.17.398-.644 1.5-1.052 2.447-.408.947-.768 1.823-.8 1.947a2.432 2.432 0 0 0 0 1.035c.122.473.489.988.881 1.24.194.124.883.439 1.169.533.454.15.872.137 1.43-.046zm-7.976-6.91c1.006-.232 1.77-.651 2.483-1.363.77-.77 1.387-1.806 1.847-3.1.752-2.117.675-4.038-.207-5.16-1.107-1.408-3.711-1.47-6.466-.157-.838.4-1.516.869-2.103 1.455-.747.746-1.164 1.506-1.384 2.526-.107.496-.107 1.439 0 1.925.45 2.06 1.984 3.543 4.038 3.907.34.06 1.477.04 1.792-.033zm19.486.031a4.942 4.942 0 0 0 3.891-3.302c.186-.556.237-.886.238-1.557 0-.511-.013-.682-.075-.971a5.194 5.194 0 0 0-.758-1.803c-.237-.36-.942-1.072-1.345-1.358-1.693-1.2-3.958-1.91-5.578-1.746-1.812.183-2.79 1.177-2.973 3.02-.128 1.29.291 3.07 1.076 4.563.998 1.902 2.305 2.909 4.127 3.183.234.035 1.115.017 1.397-.029z"),pe(t,"stroke-width","1"),m(t,"transform","translate(-33.39 -17.343)"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","100%"),m(e,"height","100%"),m(e,"viewBox","0 0 52.917 52.917")},m(n,i){M(n,e,i),p(e,t)},p:G,i:G,o:G,d(n){n&&E(e)}}}class Xt extends j{constructor(e){super(),x(this,e,null,xs,q,{})}}function ii(l){let e,t,n,i;return t=new Xt({}),{c(){e=v("div"),B(t.$$.fragment),m(e,"class","skull"),m(e,"style",n=`--i: ${l[1]+1}`)},m(a,r){M(a,e,r),D(t,e,null),i=!0},p(a,r){(!i||r&2&&n!==(n=`--i: ${a[1]+1}`))&&m(e,"style",n)},i(a){i||(h(t.$$.fragment,a),i=!0)},o(a){_(t.$$.fragment,a),i=!1},d(a){a&&E(e),T(t)}}}function js(l){let e,t,n,i,a,r,s;function o(f){l[8](f)}let u={class:l[2],onValueChange:l[3]};l[0]!==void 0&&(u.value=l[0]),t=new Kt({props:u}),Q.push(()=>ne(t,"value",o));let c=l[0]<=0&&ii(l);return{c(){e=v("div"),B(t.$$.fragment),i=L(),a=v("div"),r=L(),c&&c.c(),m(a,"class","healthbar-height-spacer"),m(e,"class","relative")},m(f,d){M(f,e,d),D(t,e,null),p(e,i),p(e,a),p(e,r),c&&c.m(e,null),s=!0},p(f,[d]){const g={};d&4&&(g.class=f[2]),!n&&d&1&&(n=!0,g.value=f[0],te(()=>n=!1)),t.$set(g),f[0]<=0?c?(c.p(f,d),d&1&&h(c,1)):(c=ii(f),c.c(),h(c,1),c.m(e,null)):c&&(X(),_(c,1,1,()=>{c=null}),Z())},i(f){s||(h(t.$$.fragment,f),h(c),s=!0)},o(f){_(t.$$.fragment,f),_(c),s=!1},d(f){f&&E(e),T(t),c&&c.d()}}}function Us(l,e,t){let n,i,a,{hp:r}=e,{hpMax:s}=e,{minion_index:o}=e,{logHealthChange:u=()=>{}}=e;const c=d=>{u(d,o)};function f(d){r=d,t(0,r)}return l.$$set=d=>{"hp"in d&&t(0,r=d.hp),"hpMax"in d&&t(4,s=d.hpMax),"minion_index"in d&&t(1,o=d.minion_index),"logHealthChange"in d&&t(5,u=d.logHealthChange)},l.$$.update=()=>{l.$$.dirty&1&&t(6,n=r<=0),l.$$.dirty&81&&t(7,i=r<s/2&&!n),l.$$.dirty&192&&t(2,a=i?"minion-input bloodied":n?"dead":"minion-hp-input")},[r,o,a,c,s,u,n,i,f]}class Ys extends j{constructor(e){super(),x(this,e,Us,js,q,{hp:0,hpMax:4,minion_index:1,logHealthChange:5})}}function ri(l,e,t){const n=l.slice();return n[7]=e[t],n[8]=e,n[9]=t,n}function Ks(l){let e,t,n=Array(l[0].quantity),i=[];for(let r=0;r<n.length;r+=1)i[r]=ai(ri(l,n,r));const a=r=>_(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=we()},m(r,s){for(let o=0;o<i.length;o+=1)i[o].m(r,s);M(r,e,s),t=!0},p(r,s){if(s&17){n=Array(r[0].quantity);let o;for(o=0;o<n.length;o+=1){const u=ri(r,n,o);i[o]?(i[o].p(u,s),h(i[o],1)):(i[o]=ai(u),i[o].c(),h(i[o],1),i[o].m(e.parentNode,e))}for(X(),o=n.length;o<i.length;o+=1)a(o);Z()}},i(r){if(!t){for(let s=0;s<n.length;s+=1)h(i[s]);t=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)_(i[s]);t=!1},d(r){$e(i,r),r&&E(e)}}}function Js(l){let e,t,n;return t=new Xt({}),{c(){e=v("div"),B(t.$$.fragment),m(e,"class","skull")},m(i,a){M(i,e,a),D(t,e,null),n=!0},p:G,i(i){n||(h(t.$$.fragment,i),n=!0)},o(i){_(t.$$.fragment,i),n=!1},d(i){i&&E(e),T(t)}}}function ai(l){let e,t,n;function i(r){l[6](r,l[9])}let a={minion_index:l[9],hpMax:l[0].hpMax,logHealthChange:l[4]};return l[0].hpCurrent[l[9]]!==void 0&&(a.hp=l[0].hpCurrent[l[9]]),e=new Ys({props:a}),Q.push(()=>ne(e,"hp",i)),{c(){B(e.$$.fragment)},m(r,s){D(e,r,s),n=!0},p(r,s){l=r;const o={};s&1&&(o.hpMax=l[0].hpMax),!t&&s&1&&(t=!0,o.hp=l[0].hpCurrent[l[9]],te(()=>t=!1)),e.$set(o)},i(r){n||(h(e.$$.fragment,r),n=!0)},o(r){_(e.$$.fragment,r),n=!1},d(r){T(e,r)}}}function Xs(l){let e,t,n,i,a,r,s;function o(g){l[5](g)}let u={class:l[2]?"bloodied":l[1]?"dead":"",isHidden:l[3],onValueChange:l[4]};l[0].hpCurrent[0]!==void 0&&(u.value=l[0].hpCurrent[0]),t=new Kt({props:u}),Q.push(()=>ne(t,"value",o));const c=[Js,Ks],f=[];function d(g,k){return g[1]&&!g[3]?0:g[3]?1:-1}return~(a=d(l))&&(r=f[a]=c[a](l)),{c(){e=v("div"),B(t.$$.fragment),i=L(),r&&r.c(),m(e,"class","svg-fit-container")},m(g,k){M(g,e,k),D(t,e,null),p(e,i),~a&&f[a].m(e,null),s=!0},p(g,[k]){const C={};k&6&&(C.class=g[2]?"bloodied":g[1]?"dead":""),!n&&k&1&&(n=!0,C.value=g[0].hpCurrent[0],te(()=>n=!1)),t.$set(C);let y=a;a=d(g),a===y?~a&&f[a].p(g,k):(r&&(X(),_(f[y],1,1,()=>{f[y]=null}),Z()),~a?(r=f[a],r?r.p(g,k):(r=f[a]=c[a](g),r.c()),h(r,1),r.m(e,null)):r=null)},i(g){s||(h(t.$$.fragment,g),h(r),s=!0)},o(g){_(t.$$.fragment,g),_(r),s=!1},d(g){g&&E(e),T(t),~a&&f[a].d()}}}function Zs(l,e,t){let n,i,{entity:a}=e;const r=a.type===le.Minion,s=(c,f=0)=>{ga(a,c,f)};function o(c){l.$$.not_equal(a.hpCurrent[0],c)&&(a.hpCurrent[0]=c,t(0,a))}function u(c,f){l.$$.not_equal(a.hpCurrent[f],c)&&(a.hpCurrent[f]=c,t(0,a))}return l.$$set=c=>{"entity"in c&&t(0,a=c.entity)},l.$$.update=()=>{l.$$.dirty&1&&t(1,n=a.hpCurrent[0]<=0),l.$$.dirty&3&&t(2,i=a.hpCurrent<=a.hpMax/2&&!n)},[a,n,i,r,s,o,u]}class Qs extends j{constructor(e){super(),x(this,e,Zs,Xs,q,{entity:0})}}function eu(l){let e,t,n,i,a,r,s;const o=[iu,lu,nu],u=[];function c(f,d){return f[1]===le.Enemy?0:f[1]===le.Minion?1:f[1]===le.Boss?2:-1}return~(t=c(l))&&(n=u[t]=o[t](l)),{c(){e=v("button"),n&&n.c(),m(e,"class",i=`entity-type-button ${l[2]?"white":"primary"}`)},m(f,d){M(f,e,d),~t&&u[t].m(e,null),a=!0,r||(s=[V(e,"click",function(){De(l[3])&&l[3].apply(this,arguments)}),V(e,"contextmenu",Ot(function(){De(l[4])&&l[4].apply(this,arguments)}))],r=!0)},p(f,d){l=f;let g=t;t=c(l),t!==g&&(n&&(X(),_(u[g],1,1,()=>{u[g]=null}),Z()),~t?(n=u[t],n||(n=u[t]=o[t](l),n.c()),h(n,1),n.m(e,null)):n=null),(!a||d&4&&i!==(i=`entity-type-button ${l[2]?"white":"primary"}`))&&m(e,"class",i)},i(f){a||(h(n),a=!0)},o(f){_(n),a=!1},d(f){f&&E(e),~t&&u[t].d(),r=!1,be(s)}}}function tu(l){let e,t,n;function i(r){l[5](r)}let a={onClick:l[3],onRightClick:l[4],class:l[2]?"white":"gold"};return l[0]!==void 0&&(a.icon=l[0]),e=new al({props:a}),Q.push(()=>ne(e,"icon",i)),{c(){B(e.$$.fragment)},m(r,s){D(e,r,s),n=!0},p(r,s){const o={};s&8&&(o.onClick=r[3]),s&16&&(o.onRightClick=r[4]),s&4&&(o.class=r[2]?"white":"gold"),!t&&s&1&&(t=!0,o.icon=r[0],te(()=>t=!1)),e.$set(o)},i(r){n||(h(e.$$.fragment,r),n=!0)},o(r){_(e.$$.fragment,r),n=!1},d(r){T(e,r)}}}function nu(l){let e,t;return e=new In({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function lu(l){let e,t;return e=new Jt({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function iu(l){let e,t;return e=new Bt({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function ru(l){let e,t,n,i;const a=[tu,eu],r=[];function s(o,u){return o[1]===le.Player&&o[0]?0:1}return e=s(l),t=r[e]=a[e](l),{c(){t.c(),n=we()},m(o,u){r[e].m(o,u),M(o,n,u),i=!0},p(o,[u]){let c=e;e=s(o),e===c?r[e].p(o,u):(X(),_(r[c],1,1,()=>{r[c]=null}),Z(),t=r[e],t?t.p(o,u):(t=r[e]=a[e](o),t.c()),h(t,1),t.m(n.parentNode,n))},i(o){i||(h(t),i=!0)},o(o){_(t),i=!1},d(o){r[e].d(o),o&&E(n)}}}function au(l,e,t){let{type:n}=e,{playerClass:i=void 0}=e,{isHighlighted:a=!1}=e,{onClick:r=()=>{}}=e,{onRightClick:s=()=>{}}=e;function o(u){i=u,t(0,i)}return l.$$set=u=>{"type"in u&&t(1,n=u.type),"playerClass"in u&&t(0,i=u.playerClass),"isHighlighted"in u&&t(2,a=u.isHighlighted),"onClick"in u&&t(3,r=u.onClick),"onRightClick"in u&&t(4,s=u.onRightClick)},[i,n,a,r,s,o]}class Qr extends j{constructor(e){super(),x(this,e,au,ru,q,{type:1,playerClass:0,isHighlighted:2,onClick:3,onRightClick:4})}}function oi(l){let e,t,n,i;const a=l[3].default,r=St(a,l,l[2],null);return{c(){e=v("div"),t=v("div"),r&&r.c(),m(t,"class","modal svelte-4pl9t6"),m(e,"class","modal-container svelte-4pl9t6"),m(e,"style",n=`--width: ${l[1]}`)},m(s,o){M(s,e,o),p(e,t),r&&r.m(t,null),i=!0},p(s,o){r&&r.p&&(!i||o&4)&&It(r,a,s,s[2],i?Lt(a,s[2],o,null):At(s[2]),null),(!i||o&2&&n!==(n=`--width: ${s[1]}`))&&m(e,"style",n)},i(s){i||(h(r,s),i=!0)},o(s){_(r,s),i=!1},d(s){s&&E(e),r&&r.d(s)}}}function ou(l){let e,t,n=l[0]&&oi(l);return{c(){n&&n.c(),e=we()},m(i,a){n&&n.m(i,a),M(i,e,a),t=!0},p(i,[a]){i[0]?n?(n.p(i,a),a&1&&h(n,1)):(n=oi(i),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(X(),_(n,1,1,()=>{n=null}),Z())},i(i){t||(h(n),t=!0)},o(i){_(n),t=!1},d(i){n&&n.d(i),i&&E(e)}}}function su(l,e,t){let n;ie(l,qt,o=>t(4,n=o));let{$$slots:i={},$$scope:a}=e,{isOpen:r}=e,{width:s="15rem"}=e;return I1(()=>ce(qt,n=!1,n)),l.$$set=o=>{"isOpen"in o&&t(0,r=o.isOpen),"width"in o&&t(1,s=o.width),"$$scope"in o&&t(2,a=o.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&ce(qt,n=r,n)},[r,s,a,i]}class e1 extends j{constructor(e){super(),x(this,e,su,ou,q,{isOpen:0,width:1})}}function uu(l){let e,t;return{c(){e=ue("svg"),t=ue("path"),m(t,"d","M7.236 30.956c-3.934-1.26-6.416-3.992-6.7-7.377-.24-2.867.61-4.977 4.403-10.927C7.28 8.984 8.647 6.306 9.58 3.578l.66-1.93.413 1.4c.673 2.285 2.09 5.146 4.426 8.942 4.527 7.355 5.028 8.553 4.804 11.489-.23 3.009-2.058 5.416-5.238 6.897-1.939.903-5.523 1.183-7.41.58z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","100%"),m(e,"height","100%"),m(e,"viewBox","0 0 20.424 31.797")},m(n,i){M(n,e,i),p(e,t)},p:G,i:G,o:G,d(n){n&&E(e)}}}class t1 extends j{constructor(e){super(),x(this,e,null,uu,q,{})}}let cu={xRange:10,xTiming:.7,yRange:50,yTiming:2,delay:0,size:20,xOffset:0},Mt=[{xRange:10,xTiming:.7,yRange:50,yTiming:2,delay:0,size:15,xOffset:-20},{xRange:15,xTiming:1,yRange:70,yTiming:3,delay:.2,size:20,xOffset:-12},{xRange:12,xTiming:.9,yRange:60,yTiming:2.3,delay:.25,size:17,xOffset:-8},{xRange:6,xTiming:.7,yRange:80,yTiming:2.7,delay:.6,size:15,xOffset:0},{xRange:17,xTiming:1.2,yRange:70,yTiming:2.3,delay:.8,size:22,xOffset:8},{xRange:14,xTiming:1,yRange:40,yTiming:3.1,delay:.9,size:16,xOffset:12},{xRange:16,xTiming:1.4,yRange:55,yTiming:2.5,delay:1,size:14,xOffset:20}];function fu(l){let e,t,n,i,a,r,s;return{c(){e=v("div"),t=v("div"),n=ue("svg"),i=ue("circle"),m(i,"cx","50"),m(i,"cy","50"),m(i,"r","50"),m(i,"class","svelte-11fptrg"),m(n,"viewBox","0 0 100 100"),m(n,"style",a=`--x-range: ${l[0].xRange}px; --x-time: ${l[0].xTiming}s`),m(n,"class","svelte-11fptrg"),m(t,"class","y-container svelte-11fptrg"),m(t,"style",r=`--y-range: ${l[0].yRange}px;`),m(e,"class","fade-container svelte-11fptrg"),m(e,"style",s=`--y-time: ${l[0].yTiming}s; --size: ${l[0].size}px; --color: ${l[1]}; --delay: ${l[0].delay}s; x-offset: ${l[0].xOffset}px`)},m(o,u){M(o,e,u),p(e,t),p(t,n),p(n,i)},p(o,[u]){u&1&&a!==(a=`--x-range: ${o[0].xRange}px; --x-time: ${o[0].xTiming}s`)&&m(n,"style",a),u&1&&r!==(r=`--y-range: ${o[0].yRange}px;`)&&m(t,"style",r),u&3&&s!==(s=`--y-time: ${o[0].yTiming}s; --size: ${o[0].size}px; --color: ${o[1]}; --delay: ${o[0].delay}s; x-offset: ${o[0].xOffset}px`)&&m(e,"style",s)},i:G,o:G,d(o){o&&E(e)}}}function du(l,e,t){let{av:n=cu}=e,{color:i="red"}=e;return l.$$set=a=>{"av"in a&&t(0,n=a.av),"color"in a&&t(1,i=a.color)},[n,i]}class sl extends j{constructor(e){super(),x(this,e,du,fu,q,{av:0,color:1})}}function si(l,e,t){const n=l.slice();return n[29]=e[t],n}function ui(l,e,t){const n=l.slice();return n[29]=e[t],n}function ci(l,e,t){const n=l.slice();return n[29]=e[t],n}function fi(l){let e,t,n=Mt,i=[];for(let r=0;r<n.length;r+=1)i[r]=di(ci(l,n,r));const a=r=>_(i[r],1,1,()=>{i[r]=null});return{c(){e=v("div");for(let r=0;r<i.length;r+=1)i[r].c();m(e,"class","floaters svelte-rh62sw")},m(r,s){M(r,e,s);for(let o=0;o<i.length;o+=1)i[o].m(e,null);t=!0},p(r,s){if(s&0){n=Mt;let o;for(o=0;o<n.length;o+=1){const u=ci(r,n,o);i[o]?(i[o].p(u,s),h(i[o],1)):(i[o]=di(u),i[o].c(),h(i[o],1),i[o].m(e,null))}for(X(),o=n.length;o<i.length;o+=1)a(o);Z()}},i(r){if(!t){for(let s=0;s<n.length;s+=1)h(i[s]);t=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)_(i[s]);t=!1},d(r){r&&E(e),$e(i,r)}}}function di(l){let e,t;return e=new sl({props:{av:l[29],color:"darkred"}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:G,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function mi(l){let e,t,n=Mt,i=[];for(let r=0;r<n.length;r+=1)i[r]=pi(ui(l,n,r));const a=r=>_(i[r],1,1,()=>{i[r]=null});return{c(){e=v("div");for(let r=0;r<i.length;r+=1)i[r].c();m(e,"class","floaters svelte-rh62sw")},m(r,s){M(r,e,s);for(let o=0;o<i.length;o+=1)i[o].m(e,null);t=!0},p(r,s){if(s&0){n=Mt;let o;for(o=0;o<n.length;o+=1){const u=ui(r,n,o);i[o]?(i[o].p(u,s),h(i[o],1)):(i[o]=pi(u),i[o].c(),h(i[o],1),i[o].m(e,null))}for(X(),o=n.length;o<i.length;o+=1)a(o);Z()}},i(r){if(!t){for(let s=0;s<n.length;s+=1)h(i[s]);t=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)_(i[s]);t=!1},d(r){r&&E(e),$e(i,r)}}}function pi(l){let e,t;return e=new sl({props:{av:l[29],color:"green"}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:G,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function hi(l){let e,t,n=Mt,i=[];for(let r=0;r<n.length;r+=1)i[r]=gi(si(l,n,r));const a=r=>_(i[r],1,1,()=>{i[r]=null});return{c(){e=v("div");for(let r=0;r<i.length;r+=1)i[r].c();m(e,"class","floaters svelte-rh62sw")},m(r,s){M(r,e,s);for(let o=0;o<i.length;o+=1)i[o].m(e,null);t=!0},p(r,s){if(s&0){n=Mt;let o;for(o=0;o<n.length;o+=1){const u=si(r,n,o);i[o]?(i[o].p(u,s),h(i[o],1)):(i[o]=gi(u),i[o].c(),h(i[o],1),i[o].m(e,null))}for(X(),o=n.length;o<i.length;o+=1)a(o);Z()}},i(r){if(!t){for(let s=0;s<n.length;s+=1)h(i[s]);t=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)_(i[s]);t=!1},d(r){r&&E(e),$e(i,r)}}}function gi(l){let e,t;return e=new sl({props:{av:l[29],color:"black"}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:G,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function mu(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y,w,S,$,I,b,O,R,H,A,z,K,se;i=new t1({});let W=l[3]==="damage"&&fi(l);g=new dt({});let N=l[3]==="healing"&&mi(l);O=new Xt({});let P=l[7]&&hi(l);return{c(){e=v("div"),t=v("div"),n=v("div"),B(i.$$.fragment),a=L(),W&&W.c(),r=L(),s=v("input"),o=L(),u=v("button"),u.textContent="Damage",c=L(),f=v("div"),d=v("div"),B(g.$$.fragment),k=L(),N&&N.c(),C=L(),y=v("input"),w=L(),S=v("button"),S.textContent="Heal",$=L(),I=v("div"),b=v("button"),B(O.$$.fragment),R=L(),P&&P.c(),H=L(),A=v("button"),A.textContent="Kill",m(n,"class","input-icon svelte-rh62sw"),m(s,"class","damage-input svelte-rh62sw"),m(s,"id","damage-input"),m(s,"type","number"),m(s,"min",0),m(u,"class","svelte-rh62sw"),J(u,"active",l[3]==="damage"),m(t,"class","damage relative flex-col svelte-rh62sw"),J(t,"active",l[3]==="damage"),m(d,"class","input-icon svelte-rh62sw"),m(y,"class","damage-input svelte-rh62sw"),m(y,"id","healing-input"),m(y,"type","number"),m(y,"min",0),m(S,"class","svelte-rh62sw"),J(S,"active",l[3]==="healing"),m(f,"class","heal relative flex-col svelte-rh62sw"),J(f,"active",l[3]==="healing"),m(b,"class","kill-button svelte-rh62sw"),m(A,"class","svelte-rh62sw"),J(A,"kill",l[7]),m(I,"class","kill-buttons"),m(e,"class","damage-tool-container svelte-rh62sw")},m(F,U){M(F,e,U),p(e,t),p(t,n),D(i,n,null),p(t,a),W&&W.m(t,null),p(t,r),p(t,s),l[13](s),Oe(s,l[5]),p(t,o),p(t,u),p(e,c),p(e,f),p(f,d),D(g,d,null),p(f,k),N&&N.m(f,null),p(f,C),p(f,y),l[18](y),Oe(y,l[6]),p(f,w),p(f,S),p(e,$),p(e,I),p(I,b),D(O,b,null),p(b,R),P&&P.m(b,null),p(I,H),p(I,A),z=!0,K||(se=[V(s,"input",l[14]),V(s,"input",l[11]),V(s,"focus",l[15]),V(s,"keydown",l[16]),V(u,"click",l[17]),V(y,"input",l[19]),V(y,"input",l[10]),V(y,"focus",l[20]),V(y,"keydown",l[21]),V(S,"click",l[22]),V(b,"mouseenter",l[23]),V(b,"mouseleave",l[24]),V(b,"click",l[25]),V(A,"click",l[26])],K=!0)},p(F,U){F[3]==="damage"?W?(W.p(F,U),U[0]&8&&h(W,1)):(W=fi(F),W.c(),h(W,1),W.m(t,r)):W&&(X(),_(W,1,1,()=>{W=null}),Z()),U[0]&32&&lt(s.value)!==F[5]&&Oe(s,F[5]),(!z||U[0]&8)&&J(u,"active",F[3]==="damage"),(!z||U[0]&8)&&J(t,"active",F[3]==="damage"),F[3]==="healing"?N?(N.p(F,U),U[0]&8&&h(N,1)):(N=mi(F),N.c(),h(N,1),N.m(f,C)):N&&(X(),_(N,1,1,()=>{N=null}),Z()),U[0]&64&&lt(y.value)!==F[6]&&Oe(y,F[6]),(!z||U[0]&8)&&J(S,"active",F[3]==="healing"),(!z||U[0]&8)&&J(f,"active",F[3]==="healing"),F[7]?P?(P.p(F,U),U[0]&128&&h(P,1)):(P=hi(F),P.c(),h(P,1),P.m(b,null)):P&&(X(),_(P,1,1,()=>{P=null}),Z()),(!z||U[0]&128)&&J(A,"kill",F[7])},i(F){z||(h(i.$$.fragment,F),h(W),h(g.$$.fragment,F),h(N),h(O.$$.fragment,F),h(P),z=!0)},o(F){_(i.$$.fragment,F),_(W),_(g.$$.fragment,F),_(N),_(O.$$.fragment,F),_(P),z=!1},d(F){F&&E(e),T(i),W&&W.d(),l[13](null),T(g),N&&N.d(),l[18](null),T(O),P&&P.d(),K=!1,be(se)}}}function pu(l,e,t){let{creature:n}=e,{damageInput:i}=e,{healingInput:a}=e,{focused:r="damage"}=e,{index:s=0}=e,o,u,c=!1;const f=()=>{if(o){const F=o>n.hpCurrent[s]?n.hpCurrent[s]:o;if(t(0,n.hpCurrent[s]-=F,n),o>F){const U=o-F;Hn(n,F*-1,s,U)}else Hn(n,F*-1,s);g()}},d=()=>{u&&(t(0,n.hpCurrent[s]+=u,n),Hn(n,u,s),k())},g=()=>t(5,o=void 0),k=()=>t(6,u=void 0),C=()=>{o===0&&g()},y=()=>{u===0&&k()},w=(F,U)=>{if(F.key==="Enter")switch(U){case"damage":f();break;case"healing":d();break}};Dt(()=>i.focus());function S(F){Q[F?"unshift":"push"](()=>{i=F,t(1,i)})}function $(){o=lt(this.value),t(5,o)}const I=()=>t(3,r="damage"),b=F=>w(F,"damage"),O=()=>f();function R(F){Q[F?"unshift":"push"](()=>{a=F,t(2,a)})}function H(){u=lt(this.value),t(6,u)}const A=()=>t(3,r="healing"),z=F=>w(F,"healing"),K=()=>d(),se=()=>t(7,c=!0),W=()=>t(7,c=!1),N=()=>t(0,n.hpCurrent[s]=0,n),P=()=>t(0,n.hpCurrent[s]=0,n);return l.$$set=F=>{"creature"in F&&t(0,n=F.creature),"damageInput"in F&&t(1,i=F.damageInput),"healingInput"in F&&t(2,a=F.healingInput),"focused"in F&&t(3,r=F.focused),"index"in F&&t(4,s=F.index)},l.$$.update=()=>{l.$$.dirty[0]&32&&C(),l.$$.dirty[0]&64&&y()},[n,i,a,r,s,o,u,c,f,d,g,k,w,S,$,I,b,O,R,H,A,z,K,se,W,N,P]}class hu extends j{constructor(e){super(),x(this,e,pu,mu,q,{creature:0,damageInput:1,healingInput:2,focused:3,index:4},null,[-1,-1])}}function _i(l,e,t){const n=l.slice();return n[16]=e[t],n}function gu(l){let e,t;return e=new Fe({props:{type:"+",onClick:l[10],width:"2rem"}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const a={};i&4&&(a.onClick=n[10]),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function _u(l){let e;return{c(){e=v("div"),e.textContent="No conditions"},m(t,n){M(t,e,n)},p:G,i:G,o:G,d(t){t&&E(e)}}}function vu(l){let e,t,n=l[3],i=[];for(let r=0;r<n.length;r+=1)i[r]=vi(_i(l,n,r));const a=r=>_(i[r],1,1,()=>{i[r]=null});return{c(){e=v("div");for(let r=0;r<i.length;r+=1)i[r].c();m(e,"class","condition-grid svelte-116hegt")},m(r,s){M(r,e,s);for(let o=0;o<i.length;o+=1)i[o].m(e,null);t=!0},p(r,s){if(s&24){n=r[3];let o;for(o=0;o<n.length;o+=1){const u=_i(r,n,o);i[o]?(i[o].p(u,s),h(i[o],1)):(i[o]=vi(u),i[o].c(),h(i[o],1),i[o].m(e,null))}for(X(),o=n.length;o<i.length;o+=1)a(o);Z()}},i(r){if(!t){for(let s=0;s<n.length;s+=1)h(i[s]);t=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)_(i[s]);t=!1},d(r){r&&E(e),$e(i,r)}}}function vi(l){let e,t,n,i,a=l[16]+"",r,s,o,u;t=new Yt({props:{condition:l[16],class:"condition-icon",width:"3rem",hasTooltip:!1}});function c(){return l[14](l[16])}return o=new Fe({props:{type:"-",onClick:c,width:"2rem"}}),{c(){e=v("div"),B(t.$$.fragment),n=L(),i=v("div"),r=re(a),s=L(),B(o.$$.fragment)},m(f,d){M(f,e,d),D(t,e,null),M(f,n,d),M(f,i,d),p(i,r),M(f,s,d),D(o,f,d),u=!0},p(f,d){l=f;const g={};d&8&&(g.condition=l[16]),t.$set(g),(!u||d&8)&&a!==(a=l[16]+"")&&ye(r,a);const k={};d&24&&(k.onClick=c),o.$set(k)},i(f){u||(h(t.$$.fragment,f),h(o.$$.fragment,f),u=!0)},o(f){_(t.$$.fragment,f),_(o.$$.fragment,f),u=!1},d(f){f&&E(e),T(t),f&&E(n),f&&E(i),f&&E(s),T(o,f)}}}function bu(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C;a=new tt({props:{onClick:l[7]}});const y=l[9].default,w=St(y,l,l[15],null);function S(H){l[12](H)}function $(H){l[13](H)}let I={divClass:"conditions-controls",inputClass:"conditions-input",onFocusIn:l[11],listFocusCondition:l[5],submit:l[6],list:Vt,exclude:l[3],$$slots:{default:[gu]},$$scope:{ctx:l}};l[1]!==void 0&&(I.input=l[1]),l[2]!==void 0&&(I.value=l[2]),u=new xr({props:I}),Q.push(()=>ne(u,"input",S)),Q.push(()=>ne(u,"value",$));const b=[vu,_u],O=[];function R(H,A){return H[3]&&H[3].length>0?0:1}return g=R(l),k=O[g]=b[g](l),{c(){e=v("div"),t=v("div"),n=v("div"),n.textContent="Effects & Conditions",i=L(),B(a.$$.fragment),r=L(),w&&w.c(),s=L(),o=v("div"),B(u.$$.fragment),d=L(),k.c(),m(n,"class","header-small underline"),m(t,"class","header-line svelte-116hegt"),m(o,"class","search-header svelte-116hegt"),m(e,"class","effects-conditions svelte-116hegt")},m(H,A){M(H,e,A),p(e,t),p(t,n),p(t,i),D(a,t,null),p(e,r),w&&w.m(e,null),p(e,s),p(e,o),D(u,o,null),p(e,d),O[g].m(e,null),C=!0},p(H,[A]){w&&w.p&&(!C||A&32768)&&It(w,y,H,H[15],C?Lt(y,H[15],A,null):At(H[15]),null);const z={};A&1&&(z.onFocusIn=H[11]),A&32&&(z.listFocusCondition=H[5]),A&8&&(z.exclude=H[3]),A&32772&&(z.$$scope={dirty:A,ctx:H}),!c&&A&2&&(c=!0,z.input=H[1],te(()=>c=!1)),!f&&A&4&&(f=!0,z.value=H[2],te(()=>f=!1)),u.$set(z);let K=g;g=R(H),g===K?O[g].p(H,A):(X(),_(O[K],1,1,()=>{O[K]=null}),Z(),k=O[g],k?k.p(H,A):(k=O[g]=b[g](H),k.c()),h(k,1),k.m(e,null))},i(H){C||(h(a.$$.fragment,H),h(w,H),h(u.$$.fragment,H),h(k),C=!0)},o(H){_(a.$$.fragment,H),_(w,H),_(u.$$.fragment,H),_(k),C=!1},d(H){H&&E(e),T(a),w&&w.d(H),T(u),O[g].d()}}}function ku(l,e,t){let n,{$$slots:i={},$$scope:a}=e,{conditions:r}=e,{conditionInput:s}=e,{focused:o="none"}=e,{submitCondition:u}=e,{removeCondition:c}=e,{value:f=""}=e;const d=$=>{u($),t(2,f="")},g=()=>{r.forEach($=>c($))},k=()=>d(f),C=()=>t(0,o="condition");function y($){s=$,t(1,s)}function w($){f=$,t(2,f)}const S=$=>c($);return l.$$set=$=>{"conditions"in $&&t(3,r=$.conditions),"conditionInput"in $&&t(1,s=$.conditionInput),"focused"in $&&t(0,o=$.focused),"submitCondition"in $&&t(8,u=$.submitCondition),"removeCondition"in $&&t(4,c=$.removeCondition),"value"in $&&t(2,f=$.value),"$$scope"in $&&t(15,a=$.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&t(5,n=o==="condition")},[o,s,f,r,c,n,d,g,u,i,k,C,y,w,S,a]}class yu extends j{constructor(e){super(),x(this,e,ku,bu,q,{conditions:3,conditionInput:1,focused:0,submitCondition:8,removeCondition:4,value:2})}}function wu(l){let e,t;return e=new Xt({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Cu(l){let e,t;return e=new dt({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function $u(l){let e,t,n,i,a,r,s=(l[0]>0?l[0]:"")+"",o,u,c;const f=[Cu,wu],d=[];function g(k,C){return k[0]>0?0:1}return n=g(l),i=d[n]=f[n](l),{c(){e=v("div"),t=v("div"),i.c(),a=L(),r=v("div"),o=re(s),m(t,"class","svg-fit heart-offset svelte-1x4j2gs"),J(t,"disabled",l[2]),m(r,"class","value svelte-1x4j2gs"),J(r,"disabled",l[2]),m(e,"class",u=Ie(`hp svg-fit-container ${l[3].class}`)+" svelte-1x4j2gs"),J(e,"bloodied-svg",l[0]<=l[1]/2)},m(k,C){M(k,e,C),p(e,t),d[n].m(t,null),p(e,a),p(e,r),p(r,o),c=!0},p(k,[C]){let y=n;n=g(k),n!==y&&(X(),_(d[y],1,1,()=>{d[y]=null}),Z(),i=d[n],i||(i=d[n]=f[n](k),i.c()),h(i,1),i.m(t,null)),(!c||C&4)&&J(t,"disabled",k[2]),(!c||C&1)&&s!==(s=(k[0]>0?k[0]:"")+"")&&ye(o,s),(!c||C&4)&&J(r,"disabled",k[2]),(!c||C&8&&u!==(u=Ie(`hp svg-fit-container ${k[3].class}`)+" svelte-1x4j2gs"))&&m(e,"class",u),(!c||C&11)&&J(e,"bloodied-svg",k[0]<=k[1]/2)},i(k){c||(h(i),c=!0)},o(k){_(i),c=!1},d(k){k&&E(e),d[n].d()}}}function Eu(l,e,t){let{value:n}=e,{valueMax:i}=e,{disabled:a=!1}=e;return l.$$set=r=>{t(3,e=ge(ge({},e),ve(r))),"value"in r&&t(0,n=r.value),"valueMax"in r&&t(1,i=r.valueMax),"disabled"in r&&t(2,a=r.disabled)},e=ve(e),[n,i,a,e]}class n1 extends j{constructor(e){super(),x(this,e,Eu,$u,q,{value:0,valueMax:1,disabled:2})}}function bi(l,e,t){const n=l.slice();return n[28]=e[t],n[30]=t,n}function ki(l){let e,t,n,i;function a(s){l[27](s)}let r={width:"40rem",$$slots:{default:[Au]},$$scope:{ctx:l}};return l[1]!==void 0&&(r.isOpen=l[1]),t=new e1({props:r}),Q.push(()=>ne(t,"isOpen",a)),{c(){e=v("div"),B(t.$$.fragment),m(e,"class","relative creature-modal svelte-1ww6bmn")},m(s,o){M(s,e,o),D(t,e,null),i=!0},p(s,o){const u={};o[0]&1023|o[1]&1&&(u.$$scope={dirty:o,ctx:s}),!n&&o[0]&2&&(n=!0,u.isOpen=s[1],te(()=>n=!1)),t.$set(u)},i(s){i||(h(t.$$.fragment,s),i=!0)},o(s){_(t.$$.fragment,s),i=!1},d(s){s&&E(e),T(t)}}}function yi(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y,w,S,$,I;return k=new Fe({props:{type:"+",onClick:void 0,width:"1.5rem"}}),{c(){e=v("div"),t=v("ul"),n=v("li"),n.textContent="Press tab to cycle between damage healing and conditions",i=L(),a=v("li"),a.textContent="You can scroll or enter a number in the damage or heal icons",r=L(),s=v("li"),s.textContent="Press the button or hit enter to submit the damage / healing",o=L(),u=v("li"),u.textContent="Start typing a condition or enter a custom one",c=L(),f=v("li"),d=re("Hit enter or click the "),g=v("span"),B(k.$$.fragment),C=re(" to add a condition"),y=L(),w=v("li"),w.textContent="For minions, select which one you want to target first by clicking the number",S=L(),$=v("li"),$.textContent="Press ESC to close",m(g,"class","inline"),m(e,"class","tutorial-modal svelte-1ww6bmn")},m(b,O){M(b,e,O),p(e,t),p(t,n),p(t,i),p(t,a),p(t,r),p(t,s),p(t,o),p(t,u),p(t,c),p(t,f),p(f,d),p(f,g),D(k,g,null),p(f,C),p(t,y),p(t,w),p(t,S),p(t,$),I=!0},p:G,i(b){I||(h(k.$$.fragment,b),I=!0)},o(b){_(k.$$.fragment,b),I=!1},d(b){b&&E(e),T(k)}}}function Mu(l){let e,t;return e=new n1({props:{value:l[0].hpCurrent[0],valueMax:l[0].hpMax}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const a={};i[0]&1&&(a.value=n[0].hpCurrent[0]),i[0]&1&&(a.valueMax=n[0].hpMax),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Su(l){let e,t,n=Array(l[0].quantity),i=[];for(let r=0;r<n.length;r+=1)i[r]=wi(bi(l,n,r));const a=r=>_(i[r],1,1,()=>{i[r]=null});return{c(){e=v("div");for(let r=0;r<i.length;r+=1)i[r].c();m(e,"class","minion-hp-container svelte-1ww6bmn")},m(r,s){M(r,e,s);for(let o=0;o<i.length;o+=1)i[o].m(e,null);t=!0},p(r,s){if(s[0]&5){n=Array(r[0].quantity);let o;for(o=0;o<n.length;o+=1){const u=bi(r,n,o);i[o]?(i[o].p(u,s),h(i[o],1)):(i[o]=wi(u),i[o].c(),h(i[o],1),i[o].m(e,null))}for(X(),o=n.length;o<i.length;o+=1)a(o);Z()}},i(r){if(!t){for(let s=0;s<n.length;s+=1)h(i[s]);t=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)_(i[s]);t=!1},d(r){r&&E(e),$e(i,r)}}}function wi(l){let e,t;return e=new n1({props:{value:l[0].hpCurrent[l[30]],valueMax:l[0].hpMax,class:"minion-hp",disabled:l[30]!==l[2]}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const a={};i[0]&1&&(a.value=n[0].hpCurrent[n[30]]),i[0]&1&&(a.valueMax=n[0].hpMax),i[0]&4&&(a.disabled=n[30]!==n[2]),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Lu(l){let e,t=l[0].name+"",n,i,a=l[2]+1+"",r;return{c(){e=v("div"),n=re(t),i=re(" #"),r=re(a),m(e,"class","selected-minion svelte-1ww6bmn")},m(s,o){M(s,e,o),p(e,n),p(e,i),p(e,r)},p(s,o){o[0]&1&&t!==(t=s[0].name+"")&&ye(n,t),o[0]&4&&a!==(a=s[2]+1+"")&&ye(r,a)},d(s){s&&E(e)}}}function Iu(l){let e,t=l[12]&&Lu(l);return{c(){t&&t.c(),e=we()},m(n,i){t&&t.m(n,i),M(n,e,i)},p(n,i){n[12]&&t.p(n,i)},d(n){t&&t.d(n),n&&E(e)}}}function Au(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y,w,S,$,I,b,O,R,H,A,z,K,se,W,N,P,F=l[9]&&yi();n=new tt({props:{onClick:l[15]}}),s=new Qr({props:{type:l[0].type,playerClass:l[0].playerClass}});function U(ae){l[16](ae)}function fe(ae){l[17](ae)}function Y(ae){l[18](ae)}let me={creature:l[0]};l[3]!==void 0&&(me.index=l[3]),l[2]!==void 0&&(me.selectedIndex=l[2]),l[1]!==void 0&&(me.isSelected=l[1]),u=new Zr({props:me}),Q.push(()=>ne(u,"index",U)),Q.push(()=>ne(u,"selectedIndex",fe)),Q.push(()=>ne(u,"isSelected",Y));const Te=[Su,Mu],Se=[];function ee(ae,ke){return ae[12]?0:1}k=ee(l),C=Se[k]=Te[k](l);function Ce(ae){l[19](ae)}function Ye(ae){l[20](ae)}function de(ae){l[21](ae)}function Be(ae){l[22](ae)}let We={index:l[2]};l[0]!==void 0&&(We.creature=l[0]),l[4]!==void 0&&(We.damageInput=l[4]),l[5]!==void 0&&(We.healingInput=l[5]),l[7]!==void 0&&(We.focused=l[7]),$=new hu({props:We}),Q.push(()=>ne($,"creature",Ce)),Q.push(()=>ne($,"damageInput",Ye)),Q.push(()=>ne($,"healingInput",de)),Q.push(()=>ne($,"focused",Be));function Je(ae){l[23](ae)}function at(ae){l[24](ae)}function mt(ae){l[25](ae)}function pt(ae){l[26](ae)}let Ge={submitCondition:l[10],removeCondition:l[11],$$slots:{default:[Iu]},$$scope:{ctx:l}};return l[0].conditions[l[2]]!==void 0&&(Ge.conditions=l[0].conditions[l[2]]),l[6]!==void 0&&(Ge.conditionInput=l[6]),l[7]!==void 0&&(Ge.focused=l[7]),l[8]!==void 0&&(Ge.value=l[8]),A=new yu({props:Ge}),Q.push(()=>ne(A,"conditions",Je)),Q.push(()=>ne(A,"conditionInput",at)),Q.push(()=>ne(A,"focused",mt)),Q.push(()=>ne(A,"value",pt)),{c(){F&&F.c(),e=L(),t=v("div"),B(n.$$.fragment),i=L(),a=v("div"),r=v("div"),B(s.$$.fragment),o=L(),B(u.$$.fragment),g=L(),C.c(),y=L(),w=v("div"),S=v("div"),B($.$$.fragment),H=L(),B(A.$$.fragment),m(t,"class","close-button svelte-1ww6bmn"),m(r,"class","creature-info svelte-1ww6bmn"),m(S,"class","damage-container svelte-1ww6bmn"),m(w,"class","modal-control-grid svelte-1ww6bmn")},m(ae,ke){F&&F.m(ae,ke),M(ae,e,ke),M(ae,t,ke),D(n,t,null),M(ae,i,ke),M(ae,a,ke),p(a,r),D(s,r,null),p(r,o),D(u,r,null),p(r,g),Se[k].m(r,null),p(a,y),p(a,w),p(w,S),D($,S,null),p(w,H),D(A,w,null),P=!0},p(ae,ke){ae[9]?F?(F.p(ae,ke),ke[0]&512&&h(F,1)):(F=yi(),F.c(),h(F,1),F.m(e.parentNode,e)):F&&(X(),_(F,1,1,()=>{F=null}),Z());const Zt={};ke[0]&2&&(Zt.onClick=ae[15]),n.$set(Zt);const nt={};ke[0]&1&&(nt.type=ae[0].type),ke[0]&1&&(nt.playerClass=ae[0].playerClass),s.$set(nt);const oe={};ke[0]&1&&(oe.creature=ae[0]),!c&&ke[0]&8&&(c=!0,oe.index=ae[3],te(()=>c=!1)),!f&&ke[0]&4&&(f=!0,oe.selectedIndex=ae[2],te(()=>f=!1)),!d&&ke[0]&2&&(d=!0,oe.isSelected=ae[1],te(()=>d=!1)),u.$set(oe),C.p(ae,ke);const _e={};ke[0]&4&&(_e.index=ae[2]),!I&&ke[0]&1&&(I=!0,_e.creature=ae[0],te(()=>I=!1)),!b&&ke[0]&16&&(b=!0,_e.damageInput=ae[4],te(()=>b=!1)),!O&&ke[0]&32&&(O=!0,_e.healingInput=ae[5],te(()=>O=!1)),!R&&ke[0]&128&&(R=!0,_e.focused=ae[7],te(()=>R=!1)),$.$set(_e);const Xe={};ke[0]&5|ke[1]&1&&(Xe.$$scope={dirty:ke,ctx:ae}),!z&&ke[0]&5&&(z=!0,Xe.conditions=ae[0].conditions[ae[2]],te(()=>z=!1)),!K&&ke[0]&64&&(K=!0,Xe.conditionInput=ae[6],te(()=>K=!1)),!se&&ke[0]&128&&(se=!0,Xe.focused=ae[7],te(()=>se=!1)),!W&&ke[0]&256&&(W=!0,Xe.value=ae[8],te(()=>W=!1)),A.$set(Xe)},i(ae){P||(h(F),h(n.$$.fragment,ae),h(s.$$.fragment,ae),h(u.$$.fragment,ae),h(C),h($.$$.fragment,ae),h(A.$$.fragment,ae),N||Ae(()=>{N=Ue(a,kn,{}),N.start()}),P=!0)},o(ae){_(F),_(n.$$.fragment,ae),_(s.$$.fragment,ae),_(u.$$.fragment,ae),_(C),_($.$$.fragment,ae),_(A.$$.fragment,ae),P=!1},d(ae){F&&F.d(ae),ae&&E(e),ae&&E(t),T(n),ae&&E(i),ae&&E(a),T(s),T(u),Se[k].d(),T($),T(A)}}}function Ou(l){let e,t,n,i,a=l[1]&&ki(l);return{c(){a&&a.c(),e=we()},m(r,s){a&&a.m(r,s),M(r,e,s),t=!0,n||(i=V(window,"keyup",l[14]),n=!0)},p(r,s){r[1]?a?(a.p(r,s),s[0]&2&&h(a,1)):(a=ki(r),a.c(),h(a,1),a.m(e.parentNode,e)):a&&(X(),_(a,1,1,()=>{a=null}),Z())},i(r){t||(h(a),t=!0)},o(r){_(a),t=!1},d(r){a&&a.d(r),r&&E(e),n=!1,i()}}}function Du(l,e,t){let n;ie(l,Qe,P=>t(9,n=P));let{creature:i}=e,{isSelected:a=!1}=e,{selectedIndex:r=0}=e,s=0;const o=P=>{P&&!i.conditions[r].includes(P)&&(t(0,i.conditions[r]=[...i.conditions[r],P],i),Rr(i,P,r))},u=P=>{t(0,i.conditions[r]=i.conditions[r].filter(F=>F!==P),i)};let c,f,d,g="damage",k="";const C=i.type===le.Minion,y=async P=>{if(a){if(P.key==="Tab"){switch(P.preventDefault(),g){case"damage":f.focus(),t(7,g="healing");break;case"healing":d.focus(),t(7,g="condition");break;case"condition":if(k)d.focus(),d.select();else{c.focus(),t(7,g="damage");break}}P.stopImmediatePropagation()}else P.key==="Escape"&&t(1,a=!1);P.stopPropagation()}},w=P=>y(P),S=()=>t(1,a=!1);function $(P){s=P,t(3,s)}function I(P){r=P,t(2,r)}function b(P){a=P,t(1,a)}function O(P){i=P,t(0,i)}function R(P){c=P,t(4,c)}function H(P){f=P,t(5,f)}function A(P){g=P,t(7,g)}function z(P){l.$$.not_equal(i.conditions[r],P)&&(i.conditions[r]=P,t(0,i))}function K(P){d=P,t(6,d)}function se(P){g=P,t(7,g)}function W(P){k=P,t(8,k)}function N(P){a=P,t(1,a)}return l.$$set=P=>{"creature"in P&&t(0,i=P.creature),"isSelected"in P&&t(1,a=P.isSelected),"selectedIndex"in P&&t(2,r=P.selectedIndex)},[i,a,r,s,c,f,d,g,k,n,o,u,C,y,w,S,$,I,b,O,R,H,A,z,K,se,W,N]}class Tu extends j{constructor(e){super(),x(this,e,Du,Ou,q,{creature:0,isSelected:1,selectedIndex:2},null,[-1,-1])}}function Bu(l){let e,t,n;return{c(){e=ue("svg"),t=ue("path"),m(t,"d","M52.617 42.682c1.414-4.148 4.295-5.659 8.889-4.662 1.094.237 2.102.545 2.24.683.159.159.05.199-.298.108-.303-.08-.969-.006-1.48.163-2.884.952-3.977 5.763-1.76 7.75 1.465 1.312 3.441.814 5.584-1.409l1.304-1.353v1.183c0 4.162 3.68 5.749 5.41 2.333.372-.733.678-1.485.68-1.672.009-.785.41-1.031 1.195-.733 1.507.573 11.748 3.435 16.934 4.732 8.991 2.25 19.441 4.41 31.344 6.477 3.875.674 3.873.695-.132 1.344C108.685 59.87 90.49 63.99 78.34 67.632c-4.688 1.406-4.766 1.42-5.001.876-1.316-3.039-1.484-3.318-2.237-3.707-1.91-.989-4.007 1.121-4.007 4.034v1.21l-1.215-1.25c-3-3.086-5.991-2.94-6.692.326-.666 3.104 1.05 5.797 3.939 6.179.833.11-2.757.99-4.04.99-3.302 0-5.755-2.131-6.698-5.82-1.047-4.095.709-9.06 4.482-12.675l.94-.9-1.777-1.904c-3.605-3.86-4.814-8.214-3.418-12.31zm7.076 10.292c.864 1.075 2.385 2.264 4.256 3.327l1.101.625-.774.4c-2.756 1.425-5.91 4.748-5.91 6.225 0 .718.31.708 2.96-.097 1.599-.486 2.553-.397 3.25.3.236.236.455.385.486.33.032-.053.376-.77.766-1.593 1.972-4.163 6.952-4.414 9.502-.479.625.964.977 1.283 1.276 1.154 3.871-1.671 11.267-3.393 21.976-5.118 2.837-.457 5.457-.9 5.82-.984.404-.094-1.923-.594-5.953-1.28-5.84-.995-7.83-1.363-12.186-2.257-3.83-.786-9.062-2.355-9.806-2.94-.197-.155-.404.023-.613.529-.495 1.195-2.247 2.848-3.541 3.342-1.014.388-1.392.407-2.696.136-1.208-.25-1.74-.54-2.613-1.414-.603-.604-1.256-1.586-1.45-2.18l-.356-1.082-.964.498c-1.09.563-1.965.491-4.248-.347-1.11-.408-1.478-.452-1.636-.197-.272.44.337 1.838 1.353 3.102z"),m(t,"transform","translate(-52.052 -37.724)"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","100%"),m(e,"height","100%"),m(e,"class",n=Ie(l[0].class)+" svelte-16tp86g"),m(e,"viewBox","0 0 73.496 38.567")},m(i,a){M(i,e,a),p(e,t)},p(i,[a]){a&1&&n!==(n=Ie(i[0].class)+" svelte-16tp86g")&&m(e,"class",n)},i:G,o:G,d(i){i&&E(e)}}}function Hu(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),ve(n)))},e=ve(e),[e]}class ul extends j{constructor(e){super(),x(this,e,Hu,Bu,q,{})}}function Ci(l){let e,t,n,i,a,r;return n=new ul({}),{c(){e=v("div"),t=v("div"),B(n.$$.fragment),i=L(),a=v("div"),m(t,"class","active-icon left-side svelte-1euh71m"),m(a,"class","active-initiative svelte-1euh71m"),m(e,"class","indicator-container svelte-1euh71m")},m(s,o){M(s,e,o),p(e,t),D(n,t,null),p(e,i),p(e,a),r=!0},i(s){r||(h(n.$$.fragment,s),r=!0)},o(s){_(n.$$.fragment,s),r=!1},d(s){s&&E(e),T(n)}}}function zu(l){let e,t,n=l[0]&&Ci();return{c(){n&&n.c(),e=we()},m(i,a){n&&n.m(i,a),M(i,e,a),t=!0},p(i,[a]){i[0]?n?a&1&&h(n,1):(n=Ci(),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(X(),_(n,1,1,()=>{n=null}),Z())},i(i){t||(h(n),t=!0)},o(i){_(n),t=!1},d(i){n&&n.d(i),i&&E(e)}}}function Ru(l,e,t){let{isActive:n=!1}=e;return l.$$set=i=>{"isActive"in i&&t(0,n=i.isActive)},[n]}class l1 extends j{constructor(e){super(),x(this,e,Ru,zu,q,{isActive:0})}}function $i(l,e,t){const n=l.slice();return n[23]=e[t],n}function Pu(l){let e,t;return e=new Xr({props:{value:l[0].ac}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const a={};i&1&&(a.value=n[0].ac),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Gu(l){let e,t,n,i,a=Array(l[0].quantity),r=[];for(let o=0;o<a.length;o+=1)r[o]=Ei($i(l,a,o));const s=o=>_(r[o],1,1,()=>{r[o]=null});return{c(){e=v("div"),t=L();for(let o=0;o<r.length;o+=1)r[o].c();n=we(),m(e,"class","minion-icon-spacer")},m(o,u){M(o,e,u),M(o,t,u);for(let c=0;c<r.length;c+=1)r[c].m(o,u);M(o,n,u),i=!0},p(o,u){if(u&1){a=Array(o[0].quantity);let c;for(c=0;c<a.length;c+=1){const f=$i(o,a,c);r[c]?(r[c].p(f,u),h(r[c],1)):(r[c]=Ei(f),r[c].c(),h(r[c],1),r[c].m(n.parentNode,n))}for(X(),c=a.length;c<r.length;c+=1)s(c);Z()}},i(o){if(!i){for(let u=0;u<a.length;u+=1)h(r[u]);i=!0}},o(o){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)_(r[u]);i=!1},d(o){o&&E(e),o&&E(t),$e(r,o),o&&E(n)}}}function Ei(l){let e,t,n,i;return e=new Xr({props:{value:l[0].ac}}),{c(){B(e.$$.fragment),t=L(),n=v("div"),m(n,"class","healthbar-height-spacer")},m(a,r){D(e,a,r),M(a,t,r),M(a,n,r),i=!0},p(a,r){const s={};r&1&&(s.value=a[0].ac),e.$set(s)},i(a){i||(h(e.$$.fragment,a),i=!0)},o(a){_(e.$$.fragment,a),i=!1},d(a){T(e,a),a&&E(t),a&&E(n)}}}function Nu(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y,w,S,$,I,b,O,R,H,A,z,K,se,W,N,P,F,U,fe;t=new l1({props:{isActive:l[1]}});function Y(oe){l[12](oe)}let me={creature:l[0],isOpen:l[5],name:vt(l[0])};l[0].conditions[0]!==void 0&&(me.conditions=l[0].conditions[0]),i=new qr({props:me}),Q.push(()=>ne(i,"conditions",Y)),o=new Qr({props:{type:l[0].type,playerClass:l[0].playerClass,isHighlighted:l[5],onClick:l[8],onRightClick:l[7]}});function Te(oe){l[13](oe)}function Se(oe){l[14](oe)}function ee(oe){l[15](oe)}function Ce(oe){l[16](oe)}let Ye={index:l[2]};l[1]!==void 0&&(Ye.isActive=l[1]),l[0]!==void 0&&(Ye.creature=l[0]),l[3]!==void 0&&(Ye.isSelected=l[3]),l[4]!==void 0&&(Ye.selectedIndex=l[4]),f=new Zr({props:Ye}),Q.push(()=>ne(f,"isActive",Te)),Q.push(()=>ne(f,"creature",Se)),Q.push(()=>ne(f,"isSelected",ee)),Q.push(()=>ne(f,"selectedIndex",Ce));function de(oe){l[17](oe)}let Be={};l[0]!==void 0&&(Be.entity=l[0]),S=new Qs({props:Be}),Q.push(()=>ne(S,"entity",de));const We=[Gu,Pu],Je=[];function at(oe,_e){return oe[6]?0:1}O=at(l),R=Je[O]=We[O](l);function mt(oe){l[18](oe)}function pt(oe){l[19](oe)}let Ge={};l[0].initiative!==void 0&&(Ge.initiative=l[0].initiative),l[0].bonus!==void 0&&(Ge.bonus=l[0].bonus),z=new Sn({props:Ge}),Q.push(()=>ne(z,"initiative",mt)),Q.push(()=>ne(z,"bonus",pt));function ae(oe){l[20](oe)}function ke(oe){l[21](oe)}function Zt(oe){l[22](oe)}let nt={};return l[3]!==void 0&&(nt.isSelected=l[3]),l[0]!==void 0&&(nt.creature=l[0]),l[4]!==void 0&&(nt.selectedIndex=l[4]),N=new Tu({props:nt}),Q.push(()=>ne(N,"isSelected",ae)),Q.push(()=>ne(N,"creature",ke)),Q.push(()=>ne(N,"selectedIndex",Zt)),{c(){e=v("tr"),B(t.$$.fragment),n=L(),B(i.$$.fragment),r=L(),s=v("td"),B(o.$$.fragment),u=L(),c=v("td"),B(f.$$.fragment),y=L(),w=v("td"),B(S.$$.fragment),I=L(),b=v("td"),R.c(),H=L(),A=v("td"),B(z.$$.fragment),W=L(),B(N.$$.fragment),m(s,"class","flex-col")},m(oe,_e){M(oe,e,_e),D(t,e,null),p(e,n),D(i,e,null),p(e,r),p(e,s),D(o,s,null),p(e,u),p(e,c),D(f,c,null),p(e,y),p(e,w),D(S,w,null),p(e,I),p(e,b),Je[O].m(b,null),p(e,H),p(e,A),D(z,A,null),M(oe,W,_e),D(N,oe,_e),fe=!0},p(oe,[_e]){const Xe={};_e&2&&(Xe.isActive=oe[1]),t.$set(Xe);const zt={};_e&1&&(zt.creature=oe[0]),_e&32&&(zt.isOpen=oe[5]),_e&1&&(zt.name=vt(oe[0])),!a&&_e&1&&(a=!0,zt.conditions=oe[0].conditions[0],te(()=>a=!1)),i.$set(zt);const Qt={};_e&1&&(Qt.type=oe[0].type),_e&1&&(Qt.playerClass=oe[0].playerClass),_e&32&&(Qt.isHighlighted=oe[5]),o.$set(Qt);const ht={};_e&4&&(ht.index=oe[2]),!d&&_e&2&&(d=!0,ht.isActive=oe[1],te(()=>d=!1)),!g&&_e&1&&(g=!0,ht.creature=oe[0],te(()=>g=!1)),!k&&_e&8&&(k=!0,ht.isSelected=oe[3],te(()=>k=!1)),!C&&_e&16&&(C=!0,ht.selectedIndex=oe[4],te(()=>C=!1)),f.$set(ht);const dl={};!$&&_e&1&&($=!0,dl.entity=oe[0],te(()=>$=!1)),S.$set(dl),R.p(oe,_e);const An={};!K&&_e&1&&(K=!0,An.initiative=oe[0].initiative,te(()=>K=!1)),!se&&_e&1&&(se=!0,An.bonus=oe[0].bonus,te(()=>se=!1)),z.$set(An);const en={};!P&&_e&8&&(P=!0,en.isSelected=oe[3],te(()=>P=!1)),!F&&_e&1&&(F=!0,en.creature=oe[0],te(()=>F=!1)),!U&&_e&16&&(U=!0,en.selectedIndex=oe[4],te(()=>U=!1)),N.$set(en)},i(oe){fe||(h(t.$$.fragment,oe),h(i.$$.fragment,oe),h(o.$$.fragment,oe),h(f.$$.fragment,oe),h(S.$$.fragment,oe),h(R),h(z.$$.fragment,oe),h(N.$$.fragment,oe),fe=!0)},o(oe){_(t.$$.fragment,oe),_(i.$$.fragment,oe),_(o.$$.fragment,oe),_(f.$$.fragment,oe),_(S.$$.fragment,oe),_(R),_(z.$$.fragment,oe),_(N.$$.fragment,oe),fe=!1},d(oe){oe&&E(e),T(t),T(i),T(o),T(f),T(S),Je[O].d(),T(z),oe&&E(W),T(N,oe)}}}function Fu(l,e,t){let n,i,a;ie(l,he,z=>t(10,i=z)),ie(l,st,z=>t(11,a=z));let{creature:r}=e,{index:s=0}=e,{isActive:o=!1}=e;const u=r.type===le.Minion;let c=!1,f=0,d=!1;const g=()=>{r.type!==le.Minion&&(d?t(9,d=!1):(t(9,d=!0),ce(st,a=s,a)))},k=()=>{t(9,d=!1),t(3,c=!0)};function C(z){l.$$.not_equal(r.conditions[0],z)&&(r.conditions[0]=z,t(0,r))}function y(z){o=z,t(1,o)}function w(z){r=z,t(0,r)}function S(z){c=z,t(3,c)}function $(z){f=z,t(4,f)}function I(z){r=z,t(0,r)}function b(z){l.$$.not_equal(r.initiative,z)&&(r.initiative=z,t(0,r))}function O(z){l.$$.not_equal(r.bonus,z)&&(r.bonus=z,t(0,r))}function R(z){c=z,t(3,c)}function H(z){r=z,t(0,r)}function A(z){f=z,t(4,f)}return l.$$set=z=>{"creature"in z&&t(0,r=z.creature),"index"in z&&t(2,s=z.index),"isActive"in z&&t(1,o=z.isActive)},l.$$.update=()=>{l.$$.dirty&2564&&t(5,n=d&&a===s),l.$$.dirty&1025&&jt(i)},[r,o,s,c,f,n,u,g,k,d,i,a,C,y,w,S,$,I,b,O,R,H,A]}class i1 extends j{constructor(e){super(),x(this,e,Fu,Nu,q,{creature:0,index:2,isActive:1})}}function Mi(l,e,t){const n=l.slice();return n[5]=e[t],n[6]=e,n[7]=t,n}function Si(l){let e,t,n=l[0].counters,i=[];for(let r=0;r<n.length;r+=1)i[r]=Li(Mi(l,n,r));const a=r=>_(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=we()},m(r,s){for(let o=0;o<i.length;o+=1)i[o].m(r,s);M(r,e,s),t=!0},p(r,s){if(s&1){n=r[0].counters;let o;for(o=0;o<n.length;o+=1){const u=Mi(r,n,o);i[o]?(i[o].p(u,s),h(i[o],1)):(i[o]=Li(u),i[o].c(),h(i[o],1),i[o].m(e.parentNode,e))}for(X(),o=n.length;o<i.length;o+=1)a(o);Z()}},i(r){if(!t){for(let s=0;s<n.length;s+=1)h(i[s]);t=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)_(i[s]);t=!1},d(r){$e(i,r),r&&E(e)}}}function Li(l){let e,t,n;function i(r){l[2](r,l[5],l[6],l[7])}let a={extraClasses:l[0].counters.length>3?"small-counter":""};return l[5]!==void 0&&(a.value=l[5]),e=new Gr({props:a}),Q.push(()=>ne(e,"value",i)),{c(){B(e.$$.fragment)},m(r,s){D(e,r,s),n=!0},p(r,s){l=r;const o={};s&1&&(o.extraClasses=l[0].counters.length>3?"small-counter":""),!t&&s&1&&(t=!0,o.value=l[5],te(()=>t=!1)),e.$set(o)},i(r){n||(h(e.$$.fragment,r),n=!0)},o(r){_(e.$$.fragment,r),n=!1},d(r){T(e,r)}}}function qu(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y,w,S,$,I;t=new l1({props:{isActive:l[1]}}),r=new ft({}),u=new Pr({props:{effect:l[0]}});let b=l[0].counters&&Si(l);function O(A){l[3](A)}function R(A){l[4](A)}let H={};return l[0].initiative!==void 0&&(H.initiative=l[0].initiative),l[0].bonus!==void 0&&(H.bonus=l[0].bonus),w=new Sn({props:H}),Q.push(()=>ne(w,"initiative",O)),Q.push(()=>ne(w,"bonus",R)),{c(){e=v("tr"),B(t.$$.fragment),n=L(),i=v("td"),a=v("button"),B(r.$$.fragment),s=L(),o=v("td"),B(u.$$.fragment),c=L(),f=v("td"),d=L(),g=v("td"),k=v("div"),b&&b.c(),C=L(),y=v("td"),B(w.$$.fragment),m(a,"class","entity-type-button"),a.disabled=!0,m(i,"class","blue flex-col"),m(k,"class","counters")},m(A,z){M(A,e,z),D(t,e,null),p(e,n),p(e,i),p(i,a),D(r,a,null),p(e,s),p(e,o),D(u,o,null),p(e,c),p(e,f),p(e,d),p(e,g),p(g,k),b&&b.m(k,null),p(e,C),p(e,y),D(w,y,null),I=!0},p(A,[z]){const K={};z&2&&(K.isActive=A[1]),t.$set(K);const se={};z&1&&(se.effect=A[0]),u.$set(se),A[0].counters?b?(b.p(A,z),z&1&&h(b,1)):(b=Si(A),b.c(),h(b,1),b.m(k,null)):b&&(X(),_(b,1,1,()=>{b=null}),Z());const W={};!S&&z&1&&(S=!0,W.initiative=A[0].initiative,te(()=>S=!1)),!$&&z&1&&($=!0,W.bonus=A[0].bonus,te(()=>$=!1)),w.$set(W)},i(A){I||(h(t.$$.fragment,A),h(r.$$.fragment,A),h(u.$$.fragment,A),h(b),h(w.$$.fragment,A),I=!0)},o(A){_(t.$$.fragment,A),_(r.$$.fragment,A),_(u.$$.fragment,A),_(b),_(w.$$.fragment,A),I=!1},d(A){A&&E(e),T(t),T(r),T(u),b&&b.d(),T(w)}}}function Wu(l,e,t){let{effect:n}=e,{isActive:i=!1}=e;function a(o,u,c,f){c[f]=o,t(0,n)}function r(o){l.$$.not_equal(n.initiative,o)&&(n.initiative=o,t(0,n))}function s(o){l.$$.not_equal(n.bonus,o)&&(n.bonus=o,t(0,n))}return l.$$set=o=>{"effect"in o&&t(0,n=o.effect),"isActive"in o&&t(1,i=o.isActive)},[n,i,a,r,s]}class r1 extends j{constructor(e){super(),x(this,e,Wu,qu,q,{effect:0,isActive:1})}}function Ii(l,e,t){const n=l.slice();return n[6]=e[t],n[7]=e,n[8]=t,n}function Vu(l){let e,t,n,i;return n=new dt({}),{c(){e=v("div"),t=v("div"),B(n.$$.fragment),m(t,"class","svg-fit"),m(e,"class","icon-header svg-fit-container")},m(a,r){M(a,e,r),p(e,t),D(n,t,null),i=!0},p:G,i(a){i||(h(n.$$.fragment,a),i=!0)},o(a){_(n.$$.fragment,a),i=!1},d(a){a&&E(e),T(n)}}}function xu(l){let e,t,n;return t=new Tt({}),{c(){e=v("div"),B(t.$$.fragment),m(e,"class","icon-header svg-fit-container")},m(i,a){M(i,e,a),D(t,e,null),n=!0},p:G,i(i){n||(h(t.$$.fragment,i),n=!0)},o(i){_(t.$$.fragment,i),n=!1},d(i){i&&E(e),T(t)}}}function ju(l){let e,t,n;function i(r){l[4](r,l[6],l[7],l[8])}let a={isActive:l[8]===l[0]};return l[6]!==void 0&&(a.effect=l[6]),e=new r1({props:a}),Q.push(()=>ne(e,"effect",i)),{c(){B(e.$$.fragment)},m(r,s){D(e,r,s),n=!0},p(r,s){l=r;const o={};s&1&&(o.isActive=l[8]===l[0]),!t&&s&2&&(t=!0,o.effect=l[6],te(()=>t=!1)),e.$set(o)},i(r){n||(h(e.$$.fragment,r),n=!0)},o(r){_(e.$$.fragment,r),n=!1},d(r){T(e,r)}}}function Uu(l){let e,t,n;function i(r){l[3](r,l[6],l[7],l[8])}let a={isActive:l[8]===l[0],index:l[8]};return l[6]!==void 0&&(a.creature=l[6]),e=new i1({props:a}),Q.push(()=>ne(e,"creature",i)),{c(){B(e.$$.fragment)},m(r,s){D(e,r,s),n=!0},p(r,s){l=r;const o={};s&1&&(o.isActive=l[8]===l[0]),!t&&s&2&&(t=!0,o.creature=l[6],te(()=>t=!1)),e.$set(o)},i(r){n||(h(e.$$.fragment,r),n=!0)},o(r){_(e.$$.fragment,r),n=!1},d(r){T(e,r)}}}function Ai(l){let e,t,n,i,a;const r=[Uu,ju],s=[];function o(u,c){return c&2&&(e=null),e==null&&(e=!!ol.includes(u[6].type)),e?0:u[6].type===Ne.Effect?1:-1}return~(t=o(l,-1))&&(n=s[t]=r[t](l)),{c(){n&&n.c(),i=we()},m(u,c){~t&&s[t].m(u,c),M(u,i,c),a=!0},p(u,c){let f=t;t=o(u,c),t===f?~t&&s[t].p(u,c):(n&&(X(),_(s[f],1,1,()=>{s[f]=null}),Z()),~t?(n=s[t],n?n.p(u,c):(n=s[t]=r[t](u),n.c()),h(n,1),n.m(i.parentNode,i)):n=null)},i(u){a||(h(n),a=!0)},o(u){_(n),a=!1},d(u){~t&&s[t].d(u),u&&E(i)}}}function Yu(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y,w;o=new Me({props:{text:"Current HP",type:"help",$$slots:{default:[Vu]},$$scope:{ctx:l}}}),g=new Me({props:{text:"Initiative value",type:"help",$$slots:{default:[xu]},$$scope:{ctx:l}}});let S=l[1],$=[];for(let b=0;b<S.length;b+=1)$[b]=Ai(Ii(l,S,b));const I=b=>_($[b],1,1,()=>{$[b]=null});return{c(){e=v("table"),t=v("thead"),n=v("th"),i=L(),a=v("th"),a.textContent="Name",r=L(),s=v("th"),B(o.$$.fragment),u=L(),c=v("th"),f=L(),d=v("th"),B(g.$$.fragment),k=L(),C=v("tbody");for(let b=0;b<$.length;b+=1)$[b].c();m(n,"class","value-col"),m(s,"class","value-col"),m(c,"class","value-col"),m(d,"class","value-col"),m(t,"class","secondary"),m(C,"class","relative")},m(b,O){M(b,e,O),p(e,t),p(t,n),p(t,i),p(t,a),p(t,r),p(t,s),D(o,s,null),p(t,u),p(t,c),p(t,f),p(t,d),D(g,d,null),p(e,k),p(e,C);for(let R=0;R<$.length;R+=1)$[R].m(C,null);w=!0},p(b,[O]){const R={};O&512&&(R.$$scope={dirty:O,ctx:b}),o.$set(R);const H={};if(O&512&&(H.$$scope={dirty:O,ctx:b}),g.$set(H),O&3){S=b[1];let A;for(A=0;A<S.length;A+=1){const z=Ii(b,S,A);$[A]?($[A].p(z,O),h($[A],1)):($[A]=Ai(z),$[A].c(),h($[A],1),$[A].m(C,null))}for(X(),A=S.length;A<$.length;A+=1)I(A);Z()}},i(b){if(!w){h(o.$$.fragment,b),h(g.$$.fragment,b);for(let O=0;O<S.length;O+=1)h($[O]);y||Ae(()=>{y=Ue(e,kn,{}),y.start()}),w=!0}},o(b){_(o.$$.fragment,b),_(g.$$.fragment,b),$=$.filter(Boolean);for(let O=0;O<$.length;O+=1)_($[O]);w=!1},d(b){b&&E(e),T(o),T(g),$e($,b)}}}function Ku(l,e,t){let n,i,a;ie(l,Pe,u=>t(2,n=u)),ie(l,Le,u=>t(0,i=u)),ie(l,he,u=>t(1,a=u));const r=()=>{a.sort((u,c)=>{const f=u.initiative+u.bonus,d=c.initiative+c.bonus;return f===d?c.bonus-u.bonus:d-f}),Et(i)};function s(u,c,f,d){f[d]=u,he.set(a)}function o(u,c,f,d){f[d]=u,he.set(a)}return l.$$.update=()=>{l.$$.dirty&4&&r()},[i,a,n,s,o]}class Ju extends j{constructor(e){super(),x(this,e,Ku,Yu,q,{})}}function Oi(l,e,t){const n=l.slice();return n[6]=e[t],n}function Di(l){let e,t=l[6]+"";return{c(){e=v("p"),m(e,"class","svelte-16030iy")},m(n,i){M(n,e,i),e.innerHTML=t},p(n,i){i&2&&t!==(t=n[6]+"")&&(e.innerHTML=t)},d(n){n&&E(e)}}}function Xu(l){let e,t,n,i,a,r,s,o=l[1],u=[];for(let c=0;c<o.length;c+=1)u[c]=Di(Oi(l,o,c));return{c(){for(let c=0;c<u.length;c+=1)u[c].c();e=L(),t=v("div"),n=v("button"),n.textContent="Confirm",i=L(),a=v("button"),a.textContent="Cancel",m(n,"class","submit-button"),m(a,"class","submit-button"),m(t,"class","button-container svelte-16030iy")},m(c,f){for(let d=0;d<u.length;d+=1)u[d].m(c,f);M(c,e,f),M(c,t,f),p(t,n),p(t,i),p(t,a),r||(s=[V(n,"click",l[3]),V(a,"click",function(){De(l[2])&&l[2].apply(this,arguments)})],r=!0)},p(c,f){if(l=c,f&2){o=l[1];let d;for(d=0;d<o.length;d+=1){const g=Oi(l,o,d);u[d]?u[d].p(g,f):(u[d]=Di(g),u[d].c(),u[d].m(e.parentNode,e))}for(;d<u.length;d+=1)u[d].d(1);u.length=o.length}},d(c){$e(u,c),c&&E(e),c&&E(t),r=!1,be(s)}}}function Zu(l){let e,t;return e=new e1({props:{isOpen:l[0],$$slots:{default:[Xu]},$$scope:{ctx:l}}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,[i]){const a={};i&1&&(a.isOpen=n[0]),i&518&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Qu(l,e,t){let n;ie(l,Ct,u=>t(5,n=u));let{isOpen:i}=e,{text:a}=e,{confirmaCallback:r}=e,s=()=>{r(),ce(Ct,n=!1,n)},{cancelCallback:o=()=>{t(0,i=!1)}}=e;return l.$$set=u=>{"isOpen"in u&&t(0,i=u.isOpen),"text"in u&&t(1,a=u.text),"confirmaCallback"in u&&t(4,r=u.confirmaCallback),"cancelCallback"in u&&t(2,o=u.cancelCallback)},[i,a,o,s,r]}class Ht extends j{constructor(e){super(),x(this,e,Qu,Zu,q,{isOpen:0,text:1,confirmaCallback:4,cancelCallback:2})}}function ec(l){let e,t;return e=new Ht({props:{isOpen:l[0],text:l[3],confirmaCallback:l[2],cancelCallback:l[1]}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,[i]){const a={};i&1&&(a.isOpen=n[0]),i&2&&(a.cancelCallback=n[1]),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function tc(l,e,t){let n;ie(l,Le,o=>t(4,n=o));let{isOpen:i}=e,{close:a}=e;const r=()=>{Cn(),ce(Le,n=0,n),el(),a()},s=["Are you sure you want to permanently clear all log history? This will also reset the current round. This will not delete your saved entity data."];return l.$$set=o=>{"isOpen"in o&&t(0,i=o.isOpen),"close"in o&&t(1,a=o.close)},[i,a,r,s]}class a1 extends j{constructor(e){super(),x(this,e,tc,ec,q,{isOpen:0,close:1})}}function nc(l){let e,t;return e=new ft({props:{class:"blue"}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:G,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function lc(l){let e,t;return e=new In({props:{class:"primary"}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:G,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function ic(l){let e,t;return e=new Jt({props:{class:"primary"}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:G,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function rc(l){let e,t;return e=new Bt({props:{class:"primary"}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:G,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function ac(l){let e,t;return e=new Ur({props:{playerClass:l[1],class:"gold"}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const a={};i&2&&(a.playerClass=n[1]),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function oc(l){let e,t,n,i;const a=[ac,rc,ic,lc,nc],r=[];function s(o,u){return o[0]===le.Player&&o[1]?0:o[0]===le.Enemy?1:o[0]===le.Minion?2:o[0]===le.Boss?3:o[0]===Ne.Effect?4:-1}return~(e=s(l))&&(t=r[e]=a[e](l)),{c(){t&&t.c(),n=we()},m(o,u){~e&&r[e].m(o,u),M(o,n,u),i=!0},p(o,[u]){let c=e;e=s(o),e===c?~e&&r[e].p(o,u):(t&&(X(),_(r[c],1,1,()=>{r[c]=null}),Z()),~e?(t=r[e],t?t.p(o,u):(t=r[e]=a[e](o),t.c()),h(t,1),t.m(n.parentNode,n)):t=null)},i(o){i||(h(t),i=!0)},o(o){_(t),i=!1},d(o){~e&&r[e].d(o),o&&E(n)}}}function sc(l,e,t){let{type:n}=e,{playerClass:i=void 0}=e;return l.$$set=a=>{"type"in a&&t(0,n=a.type),"playerClass"in a&&t(1,i=a.playerClass)},[n,i]}class o1 extends j{constructor(e){super(),x(this,e,sc,oc,q,{type:0,playerClass:1})}}function uc(l){let e,t,n,i,a,r,s;return n=new rl({}),{c(){e=v("div"),t=v("div"),B(n.$$.fragment),i=L(),a=v("div"),r=re(l[0]),m(t,"class","svg-fit"),m(a,"class","value svelte-1961g4k"),m(e,"class","legendary svg-fit-container svelte-1961g4k")},m(o,u){M(o,e,u),p(e,t),D(n,t,null),p(e,i),p(e,a),p(a,r),s=!0},p(o,[u]){(!s||u&1)&&ye(r,o[0])},i(o){s||(h(n.$$.fragment,o),s=!0)},o(o){_(n.$$.fragment,o),s=!1},d(o){o&&E(e),T(n)}}}function cc(l,e,t){let{value:n}=e;return l.$$set=i=>{"value"in i&&t(0,n=i.value)},[n]}class fc extends j{constructor(e){super(),x(this,e,cc,uc,q,{value:0})}}function Ti(l,e,t){const n=l.slice();return n[13]=e[t],n}function Bi(l){let e,t;return e=new Me({props:{text:"delete log",type:"help",$$slots:{default:[dc]},$$scope:{ctx:l}}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const a={};i&65542&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function dc(l){let e,t;return e=new tt({props:{onClick:l[1],isHidden:!l[2]}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const a={};i&2&&(a.onClick=n[1]),i&4&&(a.isHidden=!n[2]),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Hi(l){let e;return{c(){e=v("hr"),m(e,"class","svelte-1k3a0mt")},m(t,n){M(t,e,n)},d(t){t&&E(e)}}}function mc(l){let e,t;return e=new fc({props:{value:l[13].actions}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const a={};i&1&&(a.value=n[13].actions),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function pc(l){let e,t,n;return t=new Yt({props:{condition:l[13].condition,class:"white",width:"1.5rem"}}),{c(){e=v("div"),B(t.$$.fragment),m(e,"class","log-icon svelte-1k3a0mt")},m(i,a){M(i,e,a),D(t,e,null),n=!0},p(i,a){const r={};a&1&&(r.condition=i[13].condition),t.$set(r)},i(i){n||(h(t.$$.fragment,i),n=!0)},o(i){_(t.$$.fragment,i),n=!1},d(i){i&&E(e),T(t)}}}function hc(l){let e,t,n,i;const a=[_c,gc],r=[];function s(o,u){return o[13].damage>0?0:1}return e=s(l),t=r[e]=a[e](l),{c(){t.c(),n=we()},m(o,u){r[e].m(o,u),M(o,n,u),i=!0},p(o,u){let c=e;e=s(o),e===c?r[e].p(o,u):(X(),_(r[c],1,1,()=>{r[c]=null}),Z(),t=r[e],t?t.p(o,u):(t=r[e]=a[e](o),t.c()),h(t,1),t.m(n.parentNode,n))},i(o){i||(h(t),i=!0)},o(o){_(t),i=!1},d(o){r[e].d(o),o&&E(n)}}}function gc(l){let e,t=l[13].damage+"",n,i,a,r,s;a=new t1({});let o=l[13].overkill>0&&zi(l);return{c(){e=v("div"),n=re(t),i=L(),B(a.$$.fragment),r=L(),o&&o.c(),m(e,"class","bold red damage-log-icon svelte-1k3a0mt")},m(u,c){M(u,e,c),p(e,n),p(e,i),D(a,e,null),p(e,r),o&&o.m(e,null),s=!0},p(u,c){(!s||c&1)&&t!==(t=u[13].damage+"")&&ye(n,t),u[13].overkill>0?o?(o.p(u,c),c&1&&h(o,1)):(o=zi(u),o.c(),h(o,1),o.m(e,null)):o&&(X(),_(o,1,1,()=>{o=null}),Z())},i(u){s||(h(a.$$.fragment,u),h(o),s=!0)},o(u){_(a.$$.fragment,u),_(o),s=!1},d(u){u&&E(e),T(a),o&&o.d()}}}function _c(l){let e,t=l[13].damage+"",n,i,a,r;return a=new dt({}),{c(){e=v("div"),n=re(t),i=L(),B(a.$$.fragment),m(e,"class","bold green damage-log-icon svelte-1k3a0mt")},m(s,o){M(s,e,o),p(e,n),p(e,i),D(a,e,null),r=!0},p(s,o){(!r||o&1)&&t!==(t=s[13].damage+"")&&ye(n,t)},i(s){r||(h(a.$$.fragment,s),r=!0)},o(s){_(a.$$.fragment,s),r=!1},d(s){s&&E(e),T(a)}}}function zi(l){let e=l[13].overkill+"",t,n,i,a;return i=new Xt({}),{c(){t=re(e),n=L(),B(i.$$.fragment)},m(r,s){M(r,t,s),M(r,n,s),D(i,r,s),a=!0},p(r,s){(!a||s&1)&&e!==(e=r[13].overkill+"")&&ye(t,e)},i(r){a||(h(i.$$.fragment,r),a=!0)},o(r){_(i.$$.fragment,r),a=!1},d(r){r&&E(t),r&&E(n),T(i,r)}}}function vc(l){let e,t,n;function i(){return l[9](l[13])}return e=new tt({props:{onClick:i,isHidden:!l[3]}}),{c(){B(e.$$.fragment),t=L()},m(a,r){D(e,a,r),M(a,t,r),n=!0},p(a,r){l=a;const s={};r&1&&(s.onClick=i),r&8&&(s.isHidden=!l[3]),e.$set(s)},i(a){n||(h(e.$$.fragment,a),n=!0)},o(a){_(e.$$.fragment,a),n=!1},d(a){T(e,a),a&&E(t)}}}function Ri(l){let e,t,n,i,a=l[13].name+"",r,s,o,u,c,f,d;t=new o1({props:{type:l[13].type,playerClass:l[13].playerClass}});const g=[hc,pc,mc],k=[];function C(y,w){return y[13].logType==="damage"?0:y[13].logType==="condition"?1:y[13].logType==="legendary"?2:-1}return~(o=C(l))&&(u=k[o]=g[o](l)),f=new Me({props:{text:"undo",type:"help",$$slots:{default:[vc]},$$scope:{ctx:l}}}),{c(){e=v("div"),B(t.$$.fragment),n=L(),i=v("div"),r=re(a),s=L(),u&&u.c(),c=L(),B(f.$$.fragment),m(e,"class","log-icon svelte-1k3a0mt"),m(i,"class","name overflow-ellipses")},m(y,w){M(y,e,w),D(t,e,null),M(y,n,w),M(y,i,w),p(i,r),M(y,s,w),~o&&k[o].m(y,w),M(y,c,w),D(f,y,w),d=!0},p(y,w){const S={};w&1&&(S.type=y[13].type),w&1&&(S.playerClass=y[13].playerClass),t.$set(S),(!d||w&1)&&a!==(a=y[13].name+"")&&ye(r,a);let $=o;o=C(y),o===$?~o&&k[o].p(y,w):(u&&(X(),_(k[$],1,1,()=>{k[$]=null}),Z()),~o?(u=k[o],u?u.p(y,w):(u=k[o]=g[o](y),u.c()),h(u,1),u.m(c.parentNode,c)):u=null);const I={};w&65545&&(I.$$scope={dirty:w,ctx:y}),f.$set(I)},i(y){d||(h(t.$$.fragment,y),h(u),h(f.$$.fragment,y),d=!0)},o(y){_(t.$$.fragment,y),_(u),_(f.$$.fragment,y),d=!1},d(y){y&&E(e),T(t),y&&E(n),y&&E(i),y&&E(s),~o&&k[o].d(y),y&&E(c),T(f,y)}}}function bc(l){let e,t,n,i,a,r,s=l[0].owner.name+"",o,u,c,f,d,g,k,C;i=new o1({props:{type:l[0].owner.type,playerClass:l[0].owner.playerClass}});let y=l[1]!==void 0&&Bi(l),w=(l[0].recipients.length>0||l[0].messages.length>0)&&Hi(),S=l[0].recipients,$=[];for(let b=0;b<S.length;b+=1)$[b]=Ri(Ti(l,S,b));const I=b=>_($[b],1,1,()=>{$[b]=null});return{c(){e=v("div"),t=v("div"),n=v("div"),B(i.$$.fragment),a=L(),r=v("div"),o=re(s),u=L(),y&&y.c(),c=L(),w&&w.c(),f=L(),d=v("div");for(let b=0;b<$.length;b+=1)$[b].c();m(n,"class","log-icon svelte-1k3a0mt"),m(r,"class","log-name svelte-1k3a0mt"),m(t,"class","log-header svelte-1k3a0mt"),J(t,"current-log-header",!l[1]),m(d,"class","damage-log svelte-1k3a0mt"),m(e,"class","log-entry svelte-1k3a0mt"),J(e,"current-log",l[4])},m(b,O){M(b,e,O),p(e,t),p(t,n),D(i,n,null),p(t,a),p(t,r),p(r,o),p(t,u),y&&y.m(t,null),p(e,c),w&&w.m(e,null),p(e,f),p(e,d);for(let R=0;R<$.length;R+=1)$[R].m(d,null);g=!0,k||(C=[V(t,"mouseenter",l[7]),V(t,"mouseleave",l[8]),V(d,"mouseenter",l[10]),V(d,"mouseleave",l[11])],k=!0)},p(b,[O]){const R={};if(O&1&&(R.type=b[0].owner.type),O&1&&(R.playerClass=b[0].owner.playerClass),i.$set(R),(!g||O&1)&&s!==(s=b[0].owner.name+"")&&ye(o,s),b[1]!==void 0?y?(y.p(b,O),O&2&&h(y,1)):(y=Bi(b),y.c(),h(y,1),y.m(t,null)):y&&(X(),_(y,1,1,()=>{y=null}),Z()),(!g||O&2)&&J(t,"current-log-header",!b[1]),b[0].recipients.length>0||b[0].messages.length>0?w||(w=Hi(),w.c(),w.m(e,f)):w&&(w.d(1),w=null),O&41){S=b[0].recipients;let H;for(H=0;H<S.length;H+=1){const A=Ti(b,S,H);$[H]?($[H].p(A,O),h($[H],1)):($[H]=Ri(A),$[H].c(),h($[H],1),$[H].m(d,null))}for(X(),H=S.length;H<$.length;H+=1)I(H);Z()}(!g||O&16)&&J(e,"current-log",b[4])},i(b){if(!g){h(i.$$.fragment,b),h(y);for(let O=0;O<S.length;O+=1)h($[O]);g=!0}},o(b){_(i.$$.fragment,b),_(y),$=$.filter(Boolean);for(let O=0;O<$.length;O+=1)_($[O]);g=!1},d(b){b&&E(e),T(i),y&&y.d(),w&&w.d(),$e($,b),k=!1,be(C)}}}function kc(l,e,t){let n,i,a;ie(l,he,y=>t(12,i=y)),ie(l,ut,y=>t(6,a=y));let{logEntry:r}=e,s=!1,o=!1;const u=y=>{switch(t(0,r.recipients=r.recipients.filter(w=>w!==y),r),y.logType){case"damage":const w=i.find(I=>I.id===y.id);w.hpCurrent[y.index]-=y.damage,Bn(w);return;case"condition":const S=i.find(I=>I.id===y.id);S.conditions[y.index]=S.conditions[y.index].filter(I=>I!==y.condition),Bn(S);return;case"legendary":const $=i.find(I=>I.id===y.id);$.laCurrent+=y.actions,Bn($);return;default:return}};let{removeLogEntry:c=void 0}=e;const f=()=>t(2,s=!0),d=()=>t(2,s=!1),g=y=>u(y),k=()=>t(3,o=!0),C=()=>t(3,o=!1);return l.$$set=y=>{"logEntry"in y&&t(0,r=y.logEntry),"removeLogEntry"in y&&t(1,c=y.removeLogEntry)},l.$$.update=()=>{l.$$.dirty&65&&t(4,n=r.id===a)},[r,c,s,o,n,u,a,f,d,g,k,C]}class s1 extends j{constructor(e){super(),x(this,e,kc,bc,q,{logEntry:0,removeLogEntry:1})}}function Pi(l,e,t){const n=l.slice();return n[9]=e[t],n[11]=t,n}function Gi(l,e,t){const n=l.slice();return n[12]=e[t],n}function Ni(l){let e,t,n=Array(l[2]),i=[];for(let r=0;r<n.length;r+=1)i[r]=qi(Pi(l,n,r));const a=r=>_(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=we()},m(r,s){for(let o=0;o<i.length;o+=1)i[o].m(r,s);M(r,e,s),t=!0},p(r,s){if(s&21){n=Array(r[2]);let o;for(o=0;o<n.length;o+=1){const u=Pi(r,n,o);i[o]?(i[o].p(u,s),h(i[o],1)):(i[o]=qi(u),i[o].c(),h(i[o],1),i[o].m(e.parentNode,e))}for(X(),o=n.length;o<i.length;o+=1)a(o);Z()}},i(r){if(!t){for(let s=0;s<n.length;s+=1)h(i[s]);t=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)_(i[s]);t=!1},d(r){$e(i,r),r&&E(e)}}}function Fi(l){let e,t;function n(){return l[6](l[12])}return e=new s1({props:{logEntry:l[12],removeLogEntry:n}}),{c(){B(e.$$.fragment)},m(i,a){D(e,i,a),t=!0},p(i,a){l=i;const r={};a&1&&(r.logEntry=l[12]),a&1&&(r.removeLogEntry=n),e.$set(r)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){_(e.$$.fragment,i),t=!1},d(i){T(e,i)}}}function qi(l){let e,t,n,i=l[11]+1+"",a,r,s,o;function u(...g){return l[5](l[11],...g)}let c=l[0].filter(u),f=[];for(let g=0;g<c.length;g+=1)f[g]=Fi(Gi(l,c,g));const d=g=>_(f[g],1,1,()=>{f[g]=null});return{c(){e=v("div"),t=v("div"),n=re("Round "),a=re(i),r=L();for(let g=0;g<f.length;g+=1)f[g].c();s=L(),m(t,"class","header text-center"),m(e,"class","log-round svelte-rbjcaz")},m(g,k){M(g,e,k),p(e,t),p(t,n),p(t,a),p(e,r);for(let C=0;C<f.length;C+=1)f[C].m(e,null);p(e,s),o=!0},p(g,k){if(l=g,k&17){c=l[0].filter(u);let C;for(C=0;C<c.length;C+=1){const y=Gi(l,c,C);f[C]?(f[C].p(y,k),h(f[C],1)):(f[C]=Fi(y),f[C].c(),h(f[C],1),f[C].m(e,s))}for(X(),C=c.length;C<f.length;C+=1)d(C);Z()}},i(g){if(!o){for(let k=0;k<c.length;k+=1)h(f[k]);o=!0}},o(g){f=f.filter(Boolean);for(let k=0;k<f.length;k+=1)_(f[k]);o=!1},d(g){g&&E(e),$e(f,g)}}}function Wi(l){let e,t,n;return{c(){e=v("button"),e.textContent="Clear logs",m(e,"class","submit-button svelte-rbjcaz")},m(i,a){M(i,e,a),t||(n=V(e,"click",l[7]),t=!0)},p:G,d(i){i&&E(e),t=!1,n()}}}function yc(l){let e,t,n,i,a,r,s,o,u,c=l[0].length>0&&Ni(l),f=l[0].length>0&&Wi(l);return r=new a1({props:{isOpen:l[1],close:l[8]}}),{c(){e=v("div"),c&&c.c(),n=L(),i=v("div"),f&&f.c(),a=L(),B(r.$$.fragment),m(e,"class","log-panel svelte-rbjcaz"),m(i,"class","top-mask svelte-rbjcaz")},m(d,g){M(d,e,g),c&&c.m(e,null),M(d,n,g),M(d,i,g),f&&f.m(i,null),M(d,a,g),D(r,d,g),s=!0,o||(u=k1(t=l[3].call(null,e,l[0])),o=!0)},p(d,[g]){d[0].length>0?c?(c.p(d,g),g&1&&h(c,1)):(c=Ni(d),c.c(),h(c,1),c.m(e,null)):c&&(X(),_(c,1,1,()=>{c=null}),Z()),t&&De(t.update)&&g&1&&t.update.call(null,d[0]),d[0].length>0?f?f.p(d,g):(f=Wi(d),f.c(),f.m(i,null)):f&&(f.d(1),f=null);const k={};g&2&&(k.isOpen=d[1]),g&2&&(k.close=d[8]),r.$set(k)},i(d){s||(h(c),h(r.$$.fragment,d),s=!0)},o(d){_(c),_(r.$$.fragment,d),s=!1},d(d){d&&E(e),c&&c.d(),d&&E(n),d&&E(i),f&&f.d(),d&&E(a),T(r,d),o=!1,u()}}}function wc(l,e,t){let n,i;ie(l,qe,d=>t(0,i=d));let a=!1;const r=(d,g)=>{const k=()=>d.scroll({top:d.scrollHeight,behavior:"smooth"});return k(),{update:k}},s=d=>{ce(qe,i=i.filter(g=>g.id!==d.id),i)},o=(d,g)=>g.round===d+1,u=d=>s(d),c=()=>t(1,a=!0),f=()=>t(1,a=!1);return l.$$.update=()=>{l.$$.dirty&1&&t(2,n=Math.max(...i.map(d=>d.round)))},[i,a,n,r,s,o,u,c,f]}class Cc extends j{constructor(e){super(),x(this,e,wc,yc,q,{})}}function $c(l){let e,t,n,i;return t=new Me({props:{text:"Open logs",type:"help",$$slots:{default:[Mc]},$$scope:{ctx:l}}}),{c(){e=v("div"),B(t.$$.fragment)},m(a,r){M(a,e,r),D(t,e,null),i=!0},p(a,r){const s={};r&17&&(s.$$scope={dirty:r,ctx:a}),t.$set(s)},i(a){i||(h(t.$$.fragment,a),n||Ae(()=>{n=Ue(e,$t,{x:28,duration:400,delay:400}),n.start()}),i=!0)},o(a){_(t.$$.fragment,a),i=!1},d(a){a&&E(e),T(t)}}}function Ec(l){let e,t,n,i,a,r,s,o;return t=new Cc({}),a=new Me({props:{text:"Close logs   Kw",type:"help",$$slots:{default:[Sc]},$$scope:{ctx:l}}}),{c(){e=v("div"),B(t.$$.fragment),n=L(),i=v("div"),B(a.$$.fragment),m(e,"class","panel-button-container svelte-1yk2xni")},m(u,c){M(u,e,c),D(t,e,null),p(e,n),p(e,i),D(a,i,null),o=!0},p(u,c){l=u;const f={};c&17&&(f.$$scope={dirty:c,ctx:l}),a.$set(f)},i(u){o||(h(t.$$.fragment,u),h(a.$$.fragment,u),Ae(()=>{s&&s.end(1),r=Ue(e,$t,l[1]),r.start()}),o=!0)},o(u){_(t.$$.fragment,u),_(a.$$.fragment,u),r&&r.invalidate(),s=Sr(e,$t,l[1]),o=!1},d(u){u&&E(e),T(t),T(a),u&&s&&s.end()}}}function Mc(l){let e,t,n,i,a;return t=new ct({props:{class:"left"}}),{c(){e=v("button"),B(t.$$.fragment),m(e,"class","open-arrow svelte-1yk2xni")},m(r,s){M(r,e,s),D(t,e,null),n=!0,i||(a=V(e,"click",l[3]),i=!0)},p:G,i(r){n||(h(t.$$.fragment,r),n=!0)},o(r){_(t.$$.fragment,r),n=!1},d(r){r&&E(e),T(t),i=!1,a()}}}function Sc(l){let e,t,n,i,a;return t=new ct({}),{c(){e=v("button"),B(t.$$.fragment),m(e,"class","close-arrow svelte-1yk2xni")},m(r,s){M(r,e,s),D(t,e,null),n=!0,i||(a=V(e,"click",l[2]),i=!0)},p:G,i(r){n||(h(t.$$.fragment,r),n=!0)},o(r){_(t.$$.fragment,r),n=!1},d(r){r&&E(e),T(t),i=!1,a()}}}function Lc(l){let e,t,n,i;const a=[Ec,$c],r=[];function s(o,u){return o[0]?0:1}return t=s(l),n=r[t]=a[t](l),{c(){e=v("div"),n.c(),m(e,"class","log-panel-container svelte-1yk2xni")},m(o,u){M(o,e,u),r[t].m(e,null),i=!0},p(o,[u]){let c=t;t=s(o),t===c?r[t].p(o,u):(X(),_(r[c],1,1,()=>{r[c]=null}),Z(),n=r[t],n?n.p(o,u):(n=r[t]=a[t](o),n.c()),h(n,1),n.m(e,null))},i(o){i||(h(n),i=!0)},o(o){_(n),i=!1},d(o){o&&E(e),r[t].d()}}}function Ic(l,e,t){let n;return ie(l,Dn,s=>t(0,n=s)),[n,{x:214,duration:400,opacity:1},()=>ce(Dn,n=!1,n),()=>ce(Dn,n=!0,n)]}class u1 extends j{constructor(e){super(),x(this,e,Ic,Lc,q,{})}}function Vi(l){let e,t;return{c(){e=v("div"),t=re(l[1])},m(n,i){M(n,e,i),p(e,t)},p(n,i){i&2&&ye(t,n[1])},d(n){n&&E(e)}}}function Ac(l){let e,t,n,i,a,r,s,o=l[1]&&Vi(l);const u=l[6].default,c=St(u,l,l[5],null);return{c(){e=v("div"),o&&o.c(),t=L(),n=v("button"),c&&c.c(),n.disabled=l[4],m(n,"class","checkbox-icon svelte-1v96dar"),m(n,"style",i=`--checked-color: ${l[2]}; --width: ${l[3]}`),J(n,"checked-icon",l[0]),m(e,"class","checkbox-icon-wrapper svelte-1v96dar")},m(f,d){M(f,e,d),o&&o.m(e,null),p(e,t),p(e,n),c&&c.m(n,null),a=!0,r||(s=V(n,"click",l[7]),r=!0)},p(f,[d]){f[1]?o?o.p(f,d):(o=Vi(f),o.c(),o.m(e,t)):o&&(o.d(1),o=null),c&&c.p&&(!a||d&32)&&It(c,u,f,f[5],a?Lt(u,f[5],d,null):At(f[5]),null),(!a||d&16)&&(n.disabled=f[4]),(!a||d&12&&i!==(i=`--checked-color: ${f[2]}; --width: ${f[3]}`))&&m(n,"style",i),(!a||d&1)&&J(n,"checked-icon",f[0])},i(f){a||(h(c,f),a=!0)},o(f){_(c,f),a=!1},d(f){f&&E(e),o&&o.d(),c&&c.d(f),r=!1,s()}}}function Oc(l,e,t){let{$$slots:n={},$$scope:i}=e,{isChecked:a}=e,{label:r=""}=e,{checkedColor:s="var(--primary)"}=e,{width:o="3rem"}=e,{isDisabled:u=!1}=e;const c=()=>t(0,a=!a);return l.$$set=f=>{"isChecked"in f&&t(0,a=f.isChecked),"label"in f&&t(1,r=f.label),"checkedColor"in f&&t(2,s=f.checkedColor),"width"in f&&t(3,o=f.width),"isDisabled"in f&&t(4,u=f.isDisabled),"$$scope"in f&&t(5,i=f.$$scope)},[a,r,s,o,u,i,n,c]}class wt extends j{constructor(e){super(),x(this,e,Oc,Ac,q,{isChecked:0,label:1,checkedColor:2,width:3,isDisabled:4})}}function Dc(l){let e,t;return e=new Mn({props:{primary:"var(--gold)",secondary:"var(--white)",width:"5rem",onClick:l[11]}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:G,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function xi(l){let e,t;return{c(){e=v("div"),t=re(l[4]),m(e,"class","text-center message svelte-vhrzvz")},m(n,i){M(n,e,i),p(e,t)},p(n,i){i&16&&ye(t,n[4])},d(n){n&&E(e)}}}function Tc(l){let e,t;return e=new Ln({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Bc(l){let e,t,n;function i(r){l[12](r)}let a={isDisabled:!l[1]&&!l[2],checkedColor:"var(--gold)",$$slots:{default:[Tc]},$$scope:{ctx:l}};return l[0]!==void 0&&(a.isChecked=l[0]),e=new wt({props:a}),Q.push(()=>ne(e,"isChecked",i)),{c(){B(e.$$.fragment)},m(r,s){D(e,r,s),n=!0},p(r,s){const o={};s&6&&(o.isDisabled=!r[1]&&!r[2]),s&524288&&(o.$$scope={dirty:s,ctx:r}),!t&&s&1&&(t=!0,o.isChecked=r[0],te(()=>t=!1)),e.$set(o)},i(r){n||(h(e.$$.fragment,r),n=!0)},o(r){_(e.$$.fragment,r),n=!1},d(r){T(e,r)}}}function Hc(l){let e,t;return e=new Bt({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function zc(l){let e,t,n;function i(r){l[13](r)}let a={isDisabled:!l[0]&&!l[2],checkedColor:"var(--primary)",$$slots:{default:[Hc]},$$scope:{ctx:l}};return l[1]!==void 0&&(a.isChecked=l[1]),e=new wt({props:a}),Q.push(()=>ne(e,"isChecked",i)),{c(){B(e.$$.fragment)},m(r,s){D(e,r,s),n=!0},p(r,s){const o={};s&5&&(o.isDisabled=!r[0]&&!r[2]),s&524288&&(o.$$scope={dirty:s,ctx:r}),!t&&s&2&&(t=!0,o.isChecked=r[1],te(()=>t=!1)),e.$set(o)},i(r){n||(h(e.$$.fragment,r),n=!0)},o(r){_(e.$$.fragment,r),n=!1},d(r){T(e,r)}}}function Rc(l){let e,t;return e=new ft({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Pc(l){let e,t,n;function i(r){l[14](r)}let a={isDisabled:!l[0]&&!l[1],checkedColor:"var(--blue)",$$slots:{default:[Rc]},$$scope:{ctx:l}};return l[2]!==void 0&&(a.isChecked=l[2]),e=new wt({props:a}),Q.push(()=>ne(e,"isChecked",i)),{c(){B(e.$$.fragment)},m(r,s){D(e,r,s),n=!0},p(r,s){const o={};s&3&&(o.isDisabled=!r[0]&&!r[1]),s&524288&&(o.$$scope={dirty:s,ctx:r}),!t&&s&4&&(t=!0,o.isChecked=r[2],te(()=>t=!1)),e.$set(o)},i(r){n||(h(e.$$.fragment,r),n=!0)},o(r){_(e.$$.fragment,r),n=!1},d(r){T(e,r)}}}function Gc(l){let e,t,n;return{c(){e=v("input"),m(e,"type","checkbox"),m(e,"id","overwrite-initiative")},m(i,a){M(i,e,a),e.checked=l[3],t||(n=V(e,"change",l[15]),t=!0)},p(i,a){a&8&&(e.checked=i[3])},d(i){i&&E(e),t=!1,n()}}}function Nc(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y,w;t=new Me({props:{text:"Roll initiative for selected",type:"help",$$slots:{default:[Dc]},$$scope:{ctx:l}}});let S=l[6]&&xi(l);return r=new Me({props:{text:"select all PCs",type:"help",$$slots:{default:[Bc]},$$scope:{ctx:l}}}),o=new Me({props:{text:"select all enemies",type:"help",$$slots:{default:[zc]},$$scope:{ctx:l}}}),c=new Me({props:{text:"select all effects",type:"help",$$slots:{default:[Pc]},$$scope:{ctx:l}}}),C=new Me({props:{text:"Overwrite already rolled values",type:"help",$$slots:{default:[Gc]},$$scope:{ctx:l}}}),{c(){e=v("div"),B(t.$$.fragment),n=L(),S&&S.c(),i=L(),a=v("div"),B(r.$$.fragment),s=L(),B(o.$$.fragment),u=L(),B(c.$$.fragment),f=L(),d=v("div"),g=v("label"),g.textContent="Re-roll",k=L(),B(C.$$.fragment),m(g,"for","overwrite-initiative"),m(g,"class","svelte-vhrzvz"),m(d,"class","checkbox svelte-vhrzvz"),m(a,"class","roll-all-icons svelte-vhrzvz"),m(e,"class","roll-all-container svelte-vhrzvz")},m($,I){M($,e,I),D(t,e,null),p(e,n),S&&S.m(e,null),p(e,i),p(e,a),D(r,a,null),p(a,s),D(o,a,null),p(a,u),D(c,a,null),p(a,f),p(a,d),p(d,g),p(d,k),D(C,d,null),w=!0},p($,[I]){l=$;const b={};I&524288&&(b.$$scope={dirty:I,ctx:l}),t.$set(b),l[6]?S?S.p(l,I):(S=xi(l),S.c(),S.m(e,i)):S&&(S.d(1),S=null);const O={};I&524295&&(O.$$scope={dirty:I,ctx:l}),r.$set(O);const R={};I&524295&&(R.$$scope={dirty:I,ctx:l}),o.$set(R);const H={};I&524295&&(H.$$scope={dirty:I,ctx:l}),c.$set(H);const A={};I&524296&&(A.$$scope={dirty:I,ctx:l}),C.$set(A)},i($){w||(h(t.$$.fragment,$),h(r.$$.fragment,$),h(o.$$.fragment,$),h(c.$$.fragment,$),h(C.$$.fragment,$),Ae(()=>{y||(y=it(e,et,{duration:l[5]?0:400},!0)),y.run(1)}),w=!0)},o($){_(t.$$.fragment,$),_(r.$$.fragment,$),_(o.$$.fragment,$),_(c.$$.fragment,$),_(C.$$.fragment,$),y||(y=it(e,et,{duration:l[5]?0:400},!1)),y.run(0),w=!1},d($){$&&E(e),T(t),S&&S.d(),T(r),T(o),T(c),T(C),$&&y&&y.end()}}}function Fc(l,e,t){let n,i,a,r,s,o,u,c,f;ie(l,je,O=>t(16,s=O)),ie(l,Le,O=>t(17,o=O)),ie(l,he,O=>t(18,u=O)),ie(l,Qe,O=>t(5,c=O)),ie(l,pn,O=>t(6,f=O));let d=!1,g=!0,k=!1,C=!1;const y=()=>{let O=[];d&&O.push(le.Player),k&&O.push(Ne.Effect),g&&(O=O.concat(Jr));const R=u.map(H=>(O.includes(H.type)&&(C||!H.initiative)&&(H.initiative=tl(20)+H.bonus),H));ce(he,u=R,u),ce(Le,o=0,o),ce(je,s=1,s)},w=()=>y();function S(O){d=O,t(0,d)}function $(O){g=O,t(1,g)}function I(O){k=O,t(2,k)}function b(){C=this.checked,t(3,C)}return l.$$.update=()=>{l.$$.dirty&7&&t(10,n=d&&g&&k),l.$$.dirty&1032&&t(9,i=C?"Re-roll initiative rolls for":n?"Roll initiative for all unrolled entities":"Roll initiative for unrolled"),l.$$.dirty&1039&&t(8,a=n?C?"all entities":"":`${d?" Players":""}${g?" Enemies":""}${k?" Effects":""}`),l.$$.dirty&768&&t(4,r=`${i} ${a}`)},[d,g,k,C,r,c,f,y,a,i,n,w,S,$,I,b]}class c1 extends j{constructor(e){super(),x(this,e,Fc,Nc,q,{})}}function ji(l){let e,t;return e=new yn({props:{icon:l[1],style:"position: absolute; right: 0.5rem"}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const a={};i&2&&(a.icon=n[1]),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Ui(l){let e,t,n;const i=l[4].default,a=St(i,l,l[3],null);return{c(){e=v("div"),a&&a.c(),m(e,"class","accordion svelte-1omxatt")},m(r,s){M(r,e,s),a&&a.m(e,null),n=!0},p(r,s){a&&a.p&&(!n||s&8)&&It(a,i,r,r[3],n?Lt(i,r[3],s,null):At(r[3]),null)},i(r){n||(h(a,r),Ae(()=>{t||(t=it(e,et,{},!0)),t.run(1)}),n=!0)},o(r){_(a,r),t||(t=it(e,et,{},!1)),t.run(0),n=!1},d(r){r&&E(e),a&&a.d(r),r&&t&&t.end()}}}function qc(l){let e,t,n,i,a,r,s,o,u=l[1]&&ji(l),c=l[2]&&Ui(l);return{c(){e=v("button"),t=re(l[0]),n=L(),u&&u.c(),i=L(),c&&c.c(),a=we(),m(e,"class","setting-toggle-button relative svelte-1omxatt")},m(f,d){M(f,e,d),p(e,t),p(e,n),u&&u.m(e,null),M(f,i,d),c&&c.m(f,d),M(f,a,d),r=!0,s||(o=V(e,"click",l[5]),s=!0)},p(f,[d]){(!r||d&1)&&ye(t,f[0]),f[1]?u?(u.p(f,d),d&2&&h(u,1)):(u=ji(f),u.c(),h(u,1),u.m(e,null)):u&&(X(),_(u,1,1,()=>{u=null}),Z()),f[2]?c?(c.p(f,d),d&4&&h(c,1)):(c=Ui(f),c.c(),h(c,1),c.m(a.parentNode,a)):c&&(X(),_(c,1,1,()=>{c=null}),Z())},i(f){r||(h(u),h(c),r=!0)},o(f){_(u),_(c),r=!1},d(f){f&&E(e),u&&u.d(),f&&E(i),c&&c.d(f),f&&E(a),s=!1,o()}}}function Wc(l,e,t){let{$$slots:n={},$$scope:i}=e,{text:a}=e,{icon:r=void 0}=e,s=!1;const o=()=>t(2,s=!s);return l.$$set=u=>{"text"in u&&t(0,a=u.text),"icon"in u&&t(1,r=u.icon),"$$scope"in u&&t(3,i=u.$$scope)},[a,r,s,i,n,o]}class Gt extends j{constructor(e){super(),x(this,e,Wc,qc,q,{text:0,icon:1})}}function Vc(){he.set([]),Le.set(0),rt.set(!1),Cn()}function xc(l){let e,t;return e=new Ht({props:{isOpen:l[0],text:l[3],confirmaCallback:l[2],cancelCallback:l[1]}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,[i]){const a={};i&1&&(a.isOpen=n[0]),i&2&&(a.cancelCallback=n[1]),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function jc(l,e,t){let n,i;ie(l,Pe,u=>t(4,n=u)),ie(l,rt,u=>t(5,i=u));let{isOpen:a}=e,{close:r}=e;const s=()=>{Q1(),r(),ce(rt,i=!1,i),ce(Pe,n=!1,n)},o=["Are you sure you want to permanently delete all saved data?","This will also not clear the tracker or your log data."];return l.$$set=u=>{"isOpen"in u&&t(0,a=u.isOpen),"close"in u&&t(1,r=u.close)},[a,r,s,o]}class Uc extends j{constructor(e){super(),x(this,e,jc,xc,q,{isOpen:0,close:1})}}function Yc(l){let e,t;return e=new Ht({props:{text:l[2],isOpen:l[0],confirmaCallback:l[3],cancelCallback:l[1]}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,[i]){const a={};i&1&&(a.isOpen=n[0]),i&2&&(a.cancelCallback=n[1]),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Kc(l,e,t){let{isOpen:n=!1}=e,{close:i}=e;const a=["Are you sure you want to reset?","This will clear everything currently in the tracker, but will not delete your saved data"],r=()=>{Vc(),i()};return l.$$set=s=>{"isOpen"in s&&t(0,n=s.isOpen),"close"in s&&t(1,i=s.close)},[n,i,a,r]}class f1 extends j{constructor(e){super(),x(this,e,Kc,Yc,q,{isOpen:0,close:1})}}function Jc(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y,w,S,$,I;return g=new f1({props:{isOpen:l[2]===l[1].ClearTracker,close:l[3]}}),C=new a1({props:{isOpen:l[2]===l[1].DeleteLogs,close:l[3]}}),w=new Uc({props:{isOpen:l[2]===l[1].DeleteStorage,close:l[3]}}),{c(){e=v("div"),t=v("div"),n=v("input"),i=L(),a=v("label"),a.textContent="hexperimental features",r=L(),s=v("button"),s.textContent="Clear tracker",o=L(),u=v("button"),u.textContent="Delete logs",c=L(),f=v("button"),f.textContent="Clear cached data",d=L(),B(g.$$.fragment),k=L(),B(C.$$.fragment),y=L(),B(w.$$.fragment),m(n,"type","checkbox"),m(n,"id","toggle-experimental"),m(a,"for","toggle-tooltips"),m(t,"class","checkboxes"),m(s,"class","submit-button settings-button"),m(u,"class","submit-button settings-button"),m(f,"class","submit-button settings-button"),m(e,"class","flex-col")},m(b,O){M(b,e,O),p(e,t),p(t,n),n.checked=l[0],p(t,i),p(t,a),p(e,r),p(e,s),p(e,o),p(e,u),p(e,c),p(e,f),M(b,d,O),D(g,b,O),M(b,k,O),D(C,b,O),M(b,y,O),D(w,b,O),S=!0,$||(I=[V(n,"change",l[4]),V(s,"click",l[5]),V(u,"click",l[6]),V(f,"click",l[7])],$=!0)},p(b,[O]){O&1&&(n.checked=b[0]);const R={};O&6&&(R.isOpen=b[2]===b[1].ClearTracker),g.$set(R);const H={};O&6&&(H.isOpen=b[2]===b[1].DeleteLogs),C.$set(H);const A={};O&6&&(A.isOpen=b[2]===b[1].DeleteStorage),w.$set(A)},i(b){S||(h(g.$$.fragment,b),h(C.$$.fragment,b),h(w.$$.fragment,b),S=!0)},o(b){_(g.$$.fragment,b),_(C.$$.fragment,b),_(w.$$.fragment,b),S=!1},d(b){b&&E(e),b&&E(d),T(g,b),b&&E(k),T(C,b),b&&E(y),T(w,b),$=!1,be(I)}}}function Xc(l,e,t){var n;(function(f){f[f.None=0]="None",f[f.ClearTracker=1]="ClearTracker",f[f.DeleteStorage=2]="DeleteStorage",f[f.DeleteLogs=3]="DeleteLogs"})(n||(n={}));let i=n.None;const a=()=>t(2,i=n.None);let{isExperimentalEnabled:r=!1}=e;function s(){r=this.checked,t(0,r)}const o=()=>t(2,i=n.ClearTracker),u=()=>t(2,i=n.DeleteLogs),c=()=>t(2,i=n.DeleteStorage);return l.$$set=f=>{"isExperimentalEnabled"in f&&t(0,r=f.isExperimentalEnabled)},[r,n,i,a,s,o,u,c]}class Zc extends j{constructor(e){super(),x(this,e,Xc,Jc,q,{isExperimentalEnabled:0})}}function Yi(l,e,t){const n=l.slice();return n[3]=e[t],n}function Ki(l){let e,t=l[3]+"",n,i;return{c(){e=v("option"),n=re(t),i=L(),e.__value=l[3],e.value=e.__value,m(e,"class","svelte-1txh7aa")},m(a,r){M(a,e,r),p(e,n),p(e,i)},p:G,d(a){a&&E(e)}}}function Qc(l){let e,t,n,i=Ft,a=[];for(let r=0;r<i.length;r+=1)a[r]=Ki(Yi(l,i,r));return{c(){e=v("select");for(let r=0;r<a.length;r+=1)a[r].c();m(e,"class","svelte-1txh7aa"),l[0]===void 0&&Ae(()=>l[1].call(e))},m(r,s){M(r,e,s);for(let o=0;o<a.length;o+=1)a[o].m(e,null);pl(e,l[0]),t||(n=V(e,"change",l[1]),t=!0)},p(r,[s]){if(s&0){i=Ft;let o;for(o=0;o<i.length;o+=1){const u=Yi(r,i,o);a[o]?a[o].p(u,s):(a[o]=Ki(u),a[o].c(),a[o].m(e,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=i.length}s&1&&pl(e,r[0])},i:G,o:G,d(r){r&&E(e),$e(a,r),t=!1,n()}}}function ef(l,e,t){let n;ie(l,Pn,r=>t(0,n=r));const i=r=>{zr(r),Br(r)};function a(){n=$1(this),Pn.set(n)}return l.$$.update=()=>{l.$$.dirty&1&&i(n)},[n,a]}class tf extends j{constructor(e){super(),x(this,e,ef,Qc,q,{})}}function Ji(l){document.querySelector(":root").style.setProperty("--zoom-level",l.toString())}function nf(l){let e,t,n,i=(l[0]*100).toFixed(0)+"",a,r,s,o,u,c,f;return o=new Fe({props:{type:"+",onClick:l[2],disabled:l[0]>=Wn}}),c=new Fe({props:{type:"-",onClick:l[3],disabled:l[0]<=Vn}}),{c(){e=v("div"),t=v("div"),n=re("Zoom: "),a=re(i),r=re("%"),s=L(),B(o.$$.fragment),u=L(),B(c.$$.fragment),m(t,"class","bold setting-header svelte-1nr8boe")},m(d,g){M(d,e,g),p(e,t),p(t,n),p(t,a),p(t,r),p(e,s),D(o,e,null),p(e,u),D(c,e,null),f=!0},p(d,[g]){(!f||g&1)&&i!==(i=(d[0]*100).toFixed(0)+"")&&ye(a,i);const k={};g&1&&(k.disabled=d[0]>=Wn),o.$set(k);const C={};g&1&&(C.disabled=d[0]<=Vn),c.$set(C)},i(d){f||(h(o.$$.fragment,d),h(c.$$.fragment,d),f=!0)},o(d){_(o.$$.fragment,d),_(c.$$.fragment,d),f=!1},d(d){d&&E(e),T(o),T(c)}}}const Xi=.05,Wn=2,Vn=.5;function lf(l,e,t){let n;ie(l,Tn,s=>t(0,n=s));const i=s=>{s>0?(ce(Tn,n=Math.min(n+s,Wn),n),Ji(n)):s<0&&(ce(Tn,n=Math.max(n+s,Vn),n),Ji(n))};return[n,i,()=>i(Xi),()=>i(-1*Xi)]}class rf extends j{constructor(e){super(),x(this,e,lf,nf,q,{})}}function af(l){let e,t,n,i,a,r,s,o;return i=new yn({props:{icon:l[1],style:"position: absolute; right: 0.5rem"}}),{c(){e=v("button"),t=re(l[0]),n=L(),B(i.$$.fragment),m(e,"class",a=`submit-button relative ${l[3].class}`)},m(u,c){M(u,e,c),p(e,t),p(e,n),D(i,e,null),r=!0,s||(o=V(e,"click",function(){De(l[2])&&l[2].apply(this,arguments)}),s=!0)},p(u,[c]){l=u,(!r||c&1)&&ye(t,l[0]);const f={};c&2&&(f.icon=l[1]),i.$set(f),(!r||c&8&&a!==(a=`submit-button relative ${l[3].class}`))&&m(e,"class",a)},i(u){r||(h(i.$$.fragment,u),r=!0)},o(u){_(i.$$.fragment,u),r=!1},d(u){u&&E(e),T(i),s=!1,o()}}}function of(l,e,t){let{text:n}=e,{icon:i}=e,{onClick:a}=e;return l.$$set=r=>{t(3,e=ge(ge({},e),ve(r))),"text"in r&&t(0,n=r.text),"icon"in r&&t(1,i=r.icon),"onClick"in r&&t(2,a=r.onClick)},e=ve(e),[n,i,a,e]}class sf extends j{constructor(e){super(),x(this,e,of,af,q,{text:0,icon:1,onClick:2})}}function uf(l){let e,t,n,i,a,r,s,o,u,c,f,d;return u=new sf({props:{text:"Full guide",icon:ys,class:"settings-button",onClick:l[2]}}),{c(){e=v("div"),t=v("div"),n=v("input"),i=v("label"),i.textContent="help tooltips",a=L(),r=v("input"),s=v("label"),s.textContent="info tooltips (conditions etc)",o=L(),B(u.$$.fragment),m(n,"type","checkbox"),m(n,"id","toggle-help-tt"),m(i,"for","toggle-help-tt"),m(r,"type","checkbox"),m(r,"id","toggle-info-tt"),m(s,"for","toggle-info-tt"),m(t,"class","checkboxes"),m(e,"class","flex-col")},m(g,k){M(g,e,k),p(e,t),p(t,n),n.checked=l[0],p(t,i),p(t,a),p(t,r),r.checked=l[1],p(t,s),p(e,o),D(u,e,null),c=!0,f||(d=[V(n,"change",l[3]),V(r,"change",l[4])],f=!0)},p(g,[k]){k&1&&(n.checked=g[0]),k&2&&(r.checked=g[1])},i(g){c||(h(u.$$.fragment,g),c=!0)},o(g){_(u.$$.fragment,g),c=!1},d(g){g&&E(e),T(u),f=!1,be(d)}}}function cf(l,e,t){let n,i,a,r,s,o;ie(l,rt,d=>t(5,n=d)),ie(l,Pe,d=>t(6,i=d)),ie(l,Ct,d=>t(7,a=d)),ie(l,Qe,d=>t(8,r=d)),ie(l,pn,d=>t(0,s=d)),ie(l,Gn,d=>t(1,o=d));const u=()=>{ce(Qe,r=!0,r),ce(Ct,a=!1,a),ce(Pe,i=!1,i),ce(rt,n=!1,n)};function c(){s=this.checked,pn.set(s)}function f(){o=this.checked,Gn.set(o)}return[s,o,u,c,f]}class ff extends j{constructor(e){super(),x(this,e,cf,uf,q,{})}}function df(l){let e,t,n,i,a;return t=new yn({props:{icon:l[1],size:"1.3rem",spin:l[3]}}),{c(){e=v("button"),B(t.$$.fragment),m(e,"class","svelte-cq2dn1")},m(r,s){M(r,e,s),D(t,e,null),n=!0,i||(a=[V(e,"click",function(){De(l[0])&&l[0].apply(this,arguments)}),V(e,"mouseenter",l[5]),V(e,"mouseleave",l[6])],i=!0)},p(r,[s]){l=r;const o={};s&2&&(o.icon=l[1]),s&8&&(o.spin=l[3]),t.$set(o)},i(r){n||(h(t.$$.fragment,r),n=!0)},o(r){_(t.$$.fragment,r),n=!1},d(r){r&&E(e),T(t),i=!1,be(a)}}}function mf(l,e,t){let n,{onClick:i}=e,{icon:a}=e,{spin:r=!1}=e,s=!1;const o=()=>t(2,s=!0),u=()=>t(2,s=!1);return l.$$set=c=>{"onClick"in c&&t(0,i=c.onClick),"icon"in c&&t(1,a=c.icon),"spin"in c&&t(4,r=c.spin)},l.$$.update=()=>{l.$$.dirty&20&&t(3,n=r&&s)},[i,a,s,n,r,o,u]}class cl extends j{constructor(e){super(),x(this,e,mf,df,q,{onClick:0,icon:1,spin:4})}}function pf(l){let e,t;return e=new Ht({props:{text:l[3],isOpen:l[0],cancelCallback:l[2],confirmaCallback:l[1]}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,[i]){const a={};i&1&&(a.isOpen=n[0]),i&4&&(a.cancelCallback=n[2]),i&2&&(a.confirmaCallback=n[1]),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function hf(l,e,t){let{name:n}=e,{isOpen:i}=e,{overwrite:a}=e,{cancel:r}=e;const s=[`A party named ${n} already exists. Are you sure you want to overwrite it?`];return l.$$set=o=>{"name"in o&&t(4,n=o.name),"isOpen"in o&&t(0,i=o.isOpen),"overwrite"in o&&t(1,a=o.overwrite),"cancel"in o&&t(2,r=o.cancel)},[i,a,r,s,n]}class gf extends j{constructor(e){super(),x(this,e,hf,pf,q,{name:4,isOpen:0,overwrite:1,cancel:2})}}function _f(l){let e,t;return e=new Ln({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function vf(l){let e,t;return e=new Bt({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function bf(l){let e,t;return e=new ft({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function kf(l){let e,t,n;return{c(){e=v("button"),e.textContent="Save",m(e,"class","submit-button")},m(i,a){M(i,e,a),t||(n=V(e,"click",l[18]),t=!0)},p:G,d(i){i&&E(e),t=!1,n()}}}function yf(l){let e,t,n;return{c(){e=v("div"),t=re(l[6]),n=re(" saved to local storage!")},m(i,a){M(i,e,a),p(e,t),p(e,n)},p(i,a){a&64&&ye(t,i[6])},d(i){i&&E(e)}}}function wf(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y,w,S,$,I,b,O,R,H,A;function z(Y){l[12](Y)}let K={isDisabled:!l[2]&&!l[3],label:"Players",checkedColor:"var(--gold)",$$slots:{default:[_f]},$$scope:{ctx:l}};l[1]!==void 0&&(K.isChecked=l[1]),c=new wt({props:K}),Q.push(()=>ne(c,"isChecked",z));function se(Y){l[13](Y)}let W={isDisabled:!l[1]&&!l[3],label:"Enemies",checkedColor:"var(--primary)",$$slots:{default:[vf]},$$scope:{ctx:l}};l[2]!==void 0&&(W.isChecked=l[2]),g=new wt({props:W}),Q.push(()=>ne(g,"isChecked",se));function N(Y){l[14](Y)}let P={isDisabled:!l[2]&&!l[1],label:"Effects",checkedColor:"var(--blue)",$$slots:{default:[bf]},$$scope:{ctx:l}};l[3]!==void 0&&(P.isChecked=l[3]),y=new wt({props:P}),Q.push(()=>ne(y,"isChecked",N));function F(Y,me){if(Y[5]===Ve.Saved)return yf;if(Y[5]===Ve.None&&Y[7])return kf}let U=F(l),fe=U&&U(l);return O=new gf({props:{overwrite:l[19],cancel:l[9],name:l[0],isOpen:l[5]===Ve.Overwrite}}),{c(){e=v("h2"),e.textContent="Save Group",t=L(),n=v("div"),i=v("div"),a=v("div"),r=v("label"),r.textContent="Save All",s=L(),o=v("input"),u=L(),B(c.$$.fragment),d=L(),B(g.$$.fragment),C=L(),B(y.$$.fragment),S=L(),$=v("input"),I=L(),fe&&fe.c(),b=L(),B(O.$$.fragment),m(r,"for","save-all"),m(r,"class","svelte-1ahg159"),m(o,"type","checkbox"),m(o,"id","save-all"),m(o,"class","svelte-1ahg159"),m(i,"class","checkboxes svelte-1ahg159"),m($,"type","text"),m($,"placeholder","Group Name"),m($,"class","svelte-1ahg159"),m(n,"class","setting-container svelte-1ahg159")},m(Y,me){M(Y,e,me),M(Y,t,me),M(Y,n,me),p(n,i),p(i,a),p(a,r),p(a,s),p(a,o),o.checked=l[4],p(i,u),D(c,i,null),p(i,d),D(g,i,null),p(i,C),D(y,i,null),p(n,S),p(n,$),Oe($,l[0]),p(n,I),fe&&fe.m(n,null),M(Y,b,me),D(O,Y,me),R=!0,H||(A=[V(o,"change",l[11]),V($,"input",l[15]),V($,"input",l[16]),V($,"keydown",l[17])],H=!0)},p(Y,[me]){me&16&&(o.checked=Y[4]);const Te={};me&12&&(Te.isDisabled=!Y[2]&&!Y[3]),me&4194304&&(Te.$$scope={dirty:me,ctx:Y}),!f&&me&2&&(f=!0,Te.isChecked=Y[1],te(()=>f=!1)),c.$set(Te);const Se={};me&10&&(Se.isDisabled=!Y[1]&&!Y[3]),me&4194304&&(Se.$$scope={dirty:me,ctx:Y}),!k&&me&4&&(k=!0,Se.isChecked=Y[2],te(()=>k=!1)),g.$set(Se);const ee={};me&6&&(ee.isDisabled=!Y[2]&&!Y[1]),me&4194304&&(ee.$$scope={dirty:me,ctx:Y}),!w&&me&8&&(w=!0,ee.isChecked=Y[3],te(()=>w=!1)),y.$set(ee),me&1&&$.value!==Y[0]&&Oe($,Y[0]),U===(U=F(Y))&&fe?fe.p(Y,me):(fe&&fe.d(1),fe=U&&U(Y),fe&&(fe.c(),fe.m(n,null)));const Ce={};me&1&&(Ce.name=Y[0]),me&32&&(Ce.isOpen=Y[5]===Ve.Overwrite),O.$set(Ce)},i(Y){R||(h(c.$$.fragment,Y),h(g.$$.fragment,Y),h(y.$$.fragment,Y),h(O.$$.fragment,Y),R=!0)},o(Y){_(c.$$.fragment,Y),_(g.$$.fragment,Y),_(y.$$.fragment,Y),_(O.$$.fragment,Y),R=!1},d(Y){Y&&E(e),Y&&E(t),Y&&E(n),T(c),T(g),T(y),fe&&fe.d(),Y&&E(b),T(O,Y),H=!1,be(A)}}}function Cf(l,e,t){let n,i,a,r;ie(l,_t,A=>t(5,a=A)),ie(l,he,A=>t(20,r=A));let s,o="",u=!0,c=!0,f=!0;const d=(A=!1)=>{let z=[];u&&z.push(le.Player),f&&z.push(Ne.Effect),c&&(z=z.concat(Jr));try{J1(s,r,z,A),t(6,o=s),t(0,s=""),ce(_t,a=Ve.Saved,a)}catch(K){K instanceof Or&&ce(_t,a=Ve.Overwrite,a)}},g=()=>ce(_t,a=Ve.None,a),k=A=>{A.key==="Enter"&&d()},C=A=>{t(1,u=!0),t(2,c=A),t(3,f=A)};function y(){i=this.checked,t(4,i),t(1,u),t(2,c),t(3,f)}function w(A){u=A,t(1,u)}function S(A){c=A,t(2,c)}function $(A){f=A,t(3,f)}function I(){s=this.value,t(0,s)}const b=()=>t(6,o=""),O=A=>k(A),R=()=>d(),H=()=>d(!0);return l.$$.update=()=>{l.$$.dirty&1&&t(7,n=s?s.length>0:!1),l.$$.dirty&14&&t(4,i=u&&c&&f),l.$$.dirty&32&&a===Ve.Saved&&setTimeout(()=>{ce(_t,a=Ve.None,a),t(6,o="")},4e3),l.$$.dirty&16&&C(i)},[s,u,c,f,i,a,o,n,d,g,k,y,w,S,$,I,b,O,R,H]}class $f extends j{constructor(e){super(),x(this,e,Cf,wf,q,{})}}function Ef(l){let e,t;return e=new Ht({props:{isOpen:l[1],text:l[3],confirmaCallback:l[2],cancelCallback:l[0]}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,[i]){const a={};i&2&&(a.isOpen=n[1]),i&1&&(a.cancelCallback=n[0]),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Mf(l,e,t){let{party:n=void 0}=e,{cancel:i}=e,{isOpen:a}=e;const r=()=>{n&&X1(n.name),t(4,n=void 0),i()},s=[`Are you sure you want to delete the party named: ${n==null?void 0:n.name}`,"There are no takebacks or divine interventions"];return l.$$set=o=>{"party"in o&&t(4,n=o.party),"cancel"in o&&t(0,i=o.cancel),"isOpen"in o&&t(1,a=o.isOpen)},[i,a,r,s,n]}class Sf extends j{constructor(e){super(),x(this,e,Mf,Ef,q,{party:4,cancel:0,isOpen:1})}}function Lf(l){let e,t;return e=new Ht({props:{isOpen:l[0],text:l[2],confirmaCallback:l[3],cancelCallback:l[1]}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,[i]){const a={};i&1&&(a.isOpen=n[0]),i&4&&(a.text=n[2]),i&2&&(a.cancelCallback=n[1]),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function If(l,e,t){let n,i;ie(l,he,u=>t(5,i=u));let{encounter:a=void 0}=e,{isOpen:r}=e,{cancel:s}=e;const o=()=>{a&&ce(he,i=[...i,...a.entities],i),t(4,a=void 0)};return l.$$set=u=>{"encounter"in u&&t(4,a=u.encounter),"isOpen"in u&&t(0,r=u.isOpen),"cancel"in u&&t(1,s=u.cancel)},l.$$.update=()=>{l.$$.dirty&16&&t(2,n=[`Confirm loading <span class="gold">${a==null?void 0:a.name}</span> to the initiative tracker?`,"This will not ovveride any entities that you have currently in the tracker"])},[r,s,n,o,a]}class Af extends j{constructor(e){super(),x(this,e,If,Lf,q,{encounter:4,isOpen:0,cancel:1})}}function Zi(l,e,t){const n=l.slice();return n[15]=e[t],n}function Of(l){let e;return{c(){e=v("div"),e.textContent="No parties saved."},m(t,n){M(t,e,n)},p:G,i:G,o:G,d(t){t&&E(e)}}}function Df(l){let e,t,n=l[2],i=[];for(let r=0;r<n.length;r+=1)i[r]=nr(Zi(l,n,r));const a=r=>_(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=we()},m(r,s){for(let o=0;o<i.length;o+=1)i[o].m(r,s);M(r,e,s),t=!0},p(r,s){if(s&948){n=r[2];let o;for(o=0;o<n.length;o+=1){const u=Zi(r,n,o);i[o]?(i[o].p(u,s),h(i[o],1)):(i[o]=nr(u),i[o].c(),h(i[o],1),i[o].m(e.parentNode,e))}for(X(),o=n.length;o<i.length;o+=1)a(o);Z()}},i(r){if(!t){for(let s=0;s<n.length;s+=1)h(i[s]);t=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)_(i[s]);t=!1},d(r){$e(i,r),r&&E(e)}}}function Qi(l){let e,t;return e=new Ln({props:{class:"gold"}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function er(l){let e,t;return e=new Bt({props:{class:"primary"}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function tr(l){let e,t;return e=new ft({props:{class:"blue"}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function nr(l){let e,t,n,i=l[15].name+"",a,r,s,o=l[7](l[15].filteredTypes),u,c=l[9](l[15].filteredTypes),f,d=l[8](l[15].filteredTypes),g,k,C,y,w,S,$=o&&Qi(),I=c&&er(),b=d&&tr();function O(){return l[10](l[15])}function R(){return l[11](l[15])}return k=new tt({props:{onClick:R}}),{c(){e=v("div"),t=v("button"),n=v("div"),a=re(i),r=L(),s=v("div"),$&&$.c(),u=L(),I&&I.c(),f=L(),b&&b.c(),g=L(),B(k.$$.fragment),C=L(),m(n,"class","name svelte-1tgb9vb"),m(s,"class","icons svelte-1tgb9vb"),m(t,"class","party-button svelte-1tgb9vb"),m(e,"class","party-container svelte-1tgb9vb")},m(H,A){M(H,e,A),p(e,t),p(t,n),p(n,a),p(t,r),p(t,s),$&&$.m(s,null),p(s,u),I&&I.m(s,null),p(s,f),b&&b.m(s,null),p(e,g),D(k,e,null),p(e,C),y=!0,w||(S=V(t,"click",O),w=!0)},p(H,A){l=H,(!y||A&4)&&i!==(i=l[15].name+"")&&ye(a,i),A&4&&(o=l[7](l[15].filteredTypes)),o?$?A&4&&h($,1):($=Qi(),$.c(),h($,1),$.m(s,u)):$&&(X(),_($,1,1,()=>{$=null}),Z()),A&4&&(c=l[9](l[15].filteredTypes)),c?I?A&4&&h(I,1):(I=er(),I.c(),h(I,1),I.m(s,f)):I&&(X(),_(I,1,1,()=>{I=null}),Z()),A&4&&(d=l[8](l[15].filteredTypes)),d?b?A&4&&h(b,1):(b=tr(),b.c(),h(b,1),b.m(s,null)):b&&(X(),_(b,1,1,()=>{b=null}),Z());const z={};A&4&&(z.onClick=R),k.$set(z)},i(H){y||(h($),h(I),h(b),h(k.$$.fragment,H),y=!0)},o(H){_($),_(I),_(b),_(k.$$.fragment,H),y=!1},d(H){H&&E(e),$&&$.d(),I&&I.d(),b&&b.d(),T(k),w=!1,S()}}}function Tf(l){let e,t,n,i,a,r,s,o,u,c,f,d;const g=[Df,Of],k=[];function C(I,b){return I[2].length>0?0:1}i=C(l),a=k[i]=g[i](l);function y(I){l[12](I)}let w={isOpen:l[1]===l[0].Delete,cancel:l[6]};l[3]!==void 0&&(w.party=l[3]),s=new Sf({props:w}),Q.push(()=>ne(s,"party",y));function S(I){l[13](I)}let $={isOpen:l[1]===l[0].Load,cancel:l[6]};return l[3]!==void 0&&($.encounter=l[3]),c=new Af({props:$}),Q.push(()=>ne(c,"encounter",S)),{c(){e=v("h2"),e.textContent="Load Group",t=L(),n=v("div"),a.c(),r=L(),B(s.$$.fragment),u=L(),B(c.$$.fragment),m(n,"class","load-container svelte-1tgb9vb")},m(I,b){M(I,e,b),M(I,t,b),M(I,n,b),k[i].m(n,null),M(I,r,b),D(s,I,b),M(I,u,b),D(c,I,b),d=!0},p(I,[b]){let O=i;i=C(I),i===O?k[i].p(I,b):(X(),_(k[O],1,1,()=>{k[O]=null}),Z(),a=k[i],a?a.p(I,b):(a=k[i]=g[i](I),a.c()),h(a,1),a.m(n,null));const R={};b&3&&(R.isOpen=I[1]===I[0].Delete),!o&&b&8&&(o=!0,R.party=I[3],te(()=>o=!1)),s.$set(R);const H={};b&3&&(H.isOpen=I[1]===I[0].Load),!f&&b&8&&(f=!0,H.encounter=I[3],te(()=>f=!1)),c.$set(H)},i(I){d||(h(a),h(s.$$.fragment,I),h(c.$$.fragment,I),d=!0)},o(I){_(a),_(s.$$.fragment,I),_(c.$$.fragment,I),d=!1},d(I){I&&E(e),I&&E(t),I&&E(n),k[i].d(),I&&E(r),T(s,I),I&&E(u),T(c,I)}}}function Bf(l,e,t){var n;(function(S){S[S.None=0]="None",S[S.Load=1]="Load",S[S.Delete=2]="Delete"})(n||(n={}));let i=n.None,a,r;const s=()=>{t(2,a=x1())},o=S=>{t(3,r=S),t(1,i=n.Load)},u=S=>{t(3,r=S),t(1,i=n.Delete)},c=()=>{t(3,r=void 0),t(1,i=n.None)},f=S=>S.includes(le.Player),d=S=>S.includes(Ne.Effect),g=S=>S.includes(le.Enemy||le.Boss||le.Minion),k=S=>o(S),C=S=>u(S);function y(S){r=S,t(3,r)}function w(S){r=S,t(3,r)}return l.$$.update=()=>{l.$$.dirty&3&&i===n.None&&s()},[n,i,a,r,o,u,c,f,d,g,k,C,y,w]}class Hf extends j{constructor(e){super(),x(this,e,Bf,Tf,q,{})}}function lr(l){let e,t;return e=new Hf({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:G,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function zf(l){let e,t,n,i,a=l[0],r,s;e=new $f({});let o=lr();return{c(){B(e.$$.fragment),t=L(),n=v("hr"),i=L(),o.c(),r=we(),m(n,"class","sub-hr svelte-ucrtyw")},m(u,c){D(e,u,c),M(u,t,c),M(u,n,c),M(u,i,c),o.m(u,c),M(u,r,c),s=!0},p(u,[c]){c&1&&q(a,a=u[0])?(X(),_(o,1,1,G),Z(),o=lr(),o.c(),h(o,1),o.m(r.parentNode,r)):o.p(u,c)},i(u){s||(h(e.$$.fragment,u),h(o),s=!0)},o(u){_(e.$$.fragment,u),_(o),s=!1},d(u){T(e,u),u&&E(t),u&&E(n),u&&E(i),u&&E(r),o.d(u)}}}function Rf(l,e,t){let n;return ie(l,_t,i=>t(0,n=i)),[n]}class d1 extends j{constructor(e){super(),x(this,e,Rf,zf,q,{})}}function Pf(l){let e,t;return e=new cl({props:{icon:l[3]?Ql:qn,onClick:l[4],spin:!l[3]}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const a={};i&8&&(a.icon=n[3]?Ql:qn),i&8&&(a.onClick=n[4]),i&8&&(a.spin=!n[3]),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Gf(l){let e,t;return e=new cl({props:{icon:Es,onClick:l[5]}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const a={};i&3&&(a.onClick=n[5]),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function ir(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y,w;a=new Gt({props:{text:"Help settings",icon:ks,$$slots:{default:[Nf]},$$scope:{ctx:l}}}),o=new Gt({props:{text:"Theme",icon:_s,$$slots:{default:[Ff]},$$scope:{ctx:l}}});let S=l[2]&&rr(l);return d=new Gt({props:{text:"Save / Load",icon:Cs,$$slots:{default:[Wf]},$$scope:{ctx:l}}}),C=new Gt({props:{text:"Advanced",icon:Ss,$$slots:{default:[Vf]},$$scope:{ctx:l}}}),{c(){e=v("div"),t=v("h2"),t.textContent="Settings",n=L(),i=v("div"),B(a.$$.fragment),r=L(),s=v("div"),B(o.$$.fragment),u=L(),S&&S.c(),c=L(),f=v("div"),B(d.$$.fragment),g=L(),k=v("div"),B(C.$$.fragment),m(e,"class","settings-menu svelte-fe24zd")},m($,I){M($,e,I),p(e,t),p(e,n),p(e,i),D(a,i,null),p(e,r),p(e,s),D(o,s,null),p(e,u),S&&S.m(e,null),p(e,c),p(e,f),D(d,f,null),p(e,g),p(e,k),D(C,k,null),w=!0},p($,I){const b={};I&256&&(b.$$scope={dirty:I,ctx:$}),a.$set(b);const O={};I&256&&(O.$$scope={dirty:I,ctx:$}),o.$set(O),$[2]?S?(S.p($,I),I&4&&h(S,1)):(S=rr($),S.c(),h(S,1),S.m(e,c)):S&&(X(),_(S,1,1,()=>{S=null}),Z());const R={};I&256&&(R.$$scope={dirty:I,ctx:$}),d.$set(R);const H={};I&260&&(H.$$scope={dirty:I,ctx:$}),C.$set(H)},i($){w||(h(a.$$.fragment,$),h(o.$$.fragment,$),h(S),h(d.$$.fragment,$),h(C.$$.fragment,$),Ae(()=>{y||(y=it(e,et,{},!0)),y.run(1)}),w=!0)},o($){_(a.$$.fragment,$),_(o.$$.fragment,$),_(S),_(d.$$.fragment,$),_(C.$$.fragment,$),y||(y=it(e,et,{},!1)),y.run(0),w=!1},d($){$&&E(e),T(a),T(o),S&&S.d(),T(d),T(C),$&&y&&y.end()}}}function Nf(l){let e,t;return e=new ff({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Ff(l){let e,t;return e=new tf({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function rr(l){let e,t,n;return t=new Gt({props:{text:"View",icon:Ms,$$slots:{default:[qf]},$$scope:{ctx:l}}}),{c(){e=v("div"),B(t.$$.fragment)},m(i,a){M(i,e,a),D(t,e,null),n=!0},p(i,a){const r={};a&256&&(r.$$scope={dirty:a,ctx:i}),t.$set(r)},i(i){n||(h(t.$$.fragment,i),n=!0)},o(i){_(t.$$.fragment,i),n=!1},d(i){i&&E(e),T(t)}}}function qf(l){let e,t;return e=new rf({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Wf(l){let e,t;return e=new d1({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Vf(l){let e,t,n;function i(r){l[6](r)}let a={};return l[2]!==void 0&&(a.isExperimentalEnabled=l[2]),e=new Zc({props:a}),Q.push(()=>ne(e,"isExperimentalEnabled",i)),{c(){B(e.$$.fragment)},m(r,s){D(e,r,s),n=!0},p(r,s){const o={};!t&&s&4&&(t=!0,o.isExperimentalEnabled=r[2],te(()=>t=!1)),e.$set(o)},i(r){n||(h(e.$$.fragment,r),n=!0)},o(r){_(e.$$.fragment,r),n=!1},d(r){T(e,r)}}}function xf(l){let e,t,n,i,a,r,s,o;t=new Me({props:{text:"Settings",type:"help",$$slots:{default:[Pf]},$$scope:{ctx:l}}}),i=new Me({props:{text:"Reset",type:"help",$$slots:{default:[Gf]},$$scope:{ctx:l}}});let u=l[3]&&ir(l);return s=new f1({props:{isOpen:l[1]===l[0].Reset,close:l[7]}}),{c(){e=v("div"),B(t.$$.fragment),n=L(),B(i.$$.fragment),a=L(),u&&u.c(),r=L(),B(s.$$.fragment),m(e,"class","menu-button svelte-fe24zd")},m(c,f){M(c,e,f),D(t,e,null),p(e,n),D(i,e,null),M(c,a,f),u&&u.m(c,f),M(c,r,f),D(s,c,f),o=!0},p(c,[f]){const d={};f&264&&(d.$$scope={dirty:f,ctx:c}),t.$set(d);const g={};f&259&&(g.$$scope={dirty:f,ctx:c}),i.$set(g),c[3]?u?(u.p(c,f),f&8&&h(u,1)):(u=ir(c),u.c(),h(u,1),u.m(r.parentNode,r)):u&&(X(),_(u,1,1,()=>{u=null}),Z());const k={};f&3&&(k.isOpen=c[1]===c[0].Reset),f&3&&(k.close=c[7]),s.$set(k)},i(c){o||(h(t.$$.fragment,c),h(i.$$.fragment,c),h(u),h(s.$$.fragment,c),o=!0)},o(c){_(t.$$.fragment,c),_(i.$$.fragment,c),_(u),_(s.$$.fragment,c),o=!1},d(c){c&&E(e),T(t),T(i),c&&E(a),u&&u.d(c),c&&E(r),T(s,c)}}}function jf(l,e,t){let n;ie(l,Ct,f=>t(3,n=f));var i;(function(f){f[f.None=0]="None",f[f.Reset=1]="Reset"})(i||(i={}));let a=i.None,r=!1;const s=()=>ce(Ct,n=!n,n),o=()=>t(1,a=i.Reset);function u(f){r=f,t(2,r)}return[i,a,r,n,s,o,u,()=>t(1,a=i.None)]}class Uf extends j{constructor(e){super(),x(this,e,jf,xf,q,{})}}function Yf(l){let e,t;return{c(){e=ue("svg"),t=ue("path"),m(t,"d","M86.78 175.753c-1.557-.04-2.387-1.666-1.551-3.04.31-.51.612-.633 1.555-.639.944-.005 1.247.115 1.564.621.864 1.382-.015 3.097-1.568 3.058zm-.095-4.385c-1.236-.034-1.184.092-1.32-3.165-.046-1.128-.158-2.123-.248-2.211-.09-.09-.913-.15-1.83-.136-1.608.025-2.262-.269-2.686-1.205-.14-.309.074-.662.88-1.455.94-.925 1.026-.965.742-.343-.178.387-.207.818-.066.957.291.288 3.756-.236 4.142-.626.139-.141.564-.12.944.049 1.029.454 3.791.805 4.076.517.136-.138.099-.566-.083-.951-.292-.617-.201-.576.757.345l1.089 1.046-.54.8c-.498.737-.68.802-2.286.824-.96.013-1.815.095-1.901.183-.087.087-.183 1.286-.215 2.664-.032 1.378-.13 2.558-.217 2.621-.087.064-.644.102-1.238.086zm1.425-8.541-.913-.285-.078-12.761c-.043-7.019-.184-12.866-.313-12.993a.33.33 0 0 0-.465.003c-.128.129-.198 5.985-.157 13.014l.074 12.779-.99.266c-.545.147-1.037.154-1.094.016-.057-.137-.249-6.159-.426-13.38-.307-12.505-.29-13.191.363-14.372 1.3-2.35 2.334-4.044 2.471-4.045.288-.002 3.267 5.39 3.208 5.807-.033.241-.176 6.146-.318 13.12-.14 6.976-.3 12.78-.353 12.899-.053.119-.508.088-1.01-.068z"),m(t,"transform","translate(-80.561 -131.069)"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","100%"),m(e,"height","100%"),m(e,"viewBox","0 0 12.52 44.685")},m(n,i){M(n,e,i),p(e,t)},p:G,i:G,o:G,d(n){n&&E(e)}}}class ar extends j{constructor(e){super(),x(this,e,null,Yf,q,{})}}function Kf(l){let e,t,n,i,a,r,s,o,u=l[0]?"Unlock":"Start",c,f,d,g;return n=new ar({}),r=new ar({}),{c(){e=v("button"),t=v("div"),B(n.$$.fragment),i=L(),a=v("div"),B(r.$$.fragment),s=L(),o=v("div"),c=re(u),m(t,"class","sword sword-L svelte-1usg6fd"),J(t,"locked-L",l[0]),m(a,"class","sword sword-R svelte-1usg6fd"),J(a,"locked-R",l[0]),m(o,"class","start-tooltip svelte-1usg6fd"),J(o,"locked-tooltip",l[0]),m(e,"class","blank-button svelte-1usg6fd"),J(e,"locked-swords",l[0])},m(k,C){M(k,e,C),p(e,t),D(n,t,null),p(e,i),p(e,a),D(r,a,null),p(e,s),p(e,o),p(o,c),f=!0,d||(g=V(e,"click",function(){De(l[1])&&l[1].apply(this,arguments)}),d=!0)},p(k,[C]){l=k,(!f||C&1)&&J(t,"locked-L",l[0]),(!f||C&1)&&J(a,"locked-R",l[0]),(!f||C&1)&&u!==(u=l[0]?"Unlock":"Start")&&ye(c,u),(!f||C&1)&&J(o,"locked-tooltip",l[0]),(!f||C&1)&&J(e,"locked-swords",l[0])},i(k){f||(h(n.$$.fragment,k),h(r.$$.fragment,k),f=!0)},o(k){_(n.$$.fragment,k),_(r.$$.fragment,k),f=!1},d(k){k&&E(e),T(n),T(r),d=!1,g()}}}function Jf(l,e,t){let{isLocked:n}=e,{onClick:i}=e;return l.$$set=a=>{"isLocked"in a&&t(0,n=a.isLocked),"onClick"in a&&t(1,i=a.onClick)},[n,i]}class Xf extends j{constructor(e){super(),x(this,e,Jf,Kf,q,{isLocked:0,onClick:1})}}function Zf(l){let e,t;return e=new Xf({props:{isLocked:l[0],onClick:l[1]}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,[i]){const a={};i&1&&(a.isLocked=n[0]),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Qf(l,e,t){let n,i,a;return ie(l,Pe,s=>t(0,n=s)),ie(l,rt,s=>t(2,i=s)),ie(l,Qe,s=>t(3,a=s)),[n,()=>{!i&&!a&&ce(rt,i=!0,i),ce(Pe,n=!n,n)}]}class m1 extends j{constructor(e){super(),x(this,e,Qf,Zf,q,{})}}function e2(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y,w,S,$,I,b,O,R,H,A,z,K,se,W,N,P,F,U,fe,Y,me,Te,Se;return r=new Fe({props:{type:"+",onClick:void 0}}),o=new Fe({props:{type:"-",onClick:void 0}}),k=new al({props:{icon:"Barbarian",class:"gold"}}),O=new Mn({props:{onClick:void 0}}),se=new tt({props:{onClick:void 0}}),Y=new gn({props:{typeFilter:[le.Player]}}),{c(){e=v("ul"),t=v("li"),t.textContent="Before starting the combat you need some characters and monsters in your tracker!",n=L(),i=v("li"),a=re("Use the "),B(r.$$.fragment),s=re(" and "),B(o.$$.fragment),u=re(" to add and remove a player character"),c=L(),f=v("li"),d=re("Left-click the "),g=v("span"),B(k.$$.fragment),C=re(" icon to change the class. Right click to cycle."),y=L(),w=v("li"),w.textContent="Add a name, change the max HP and add their initiatve bonus",S=L(),$=v("li"),I=re("Enter their initiative roll or click the "),b=v("span"),B(O.$$.fragment),R=re(" to roll for them"),H=L(),A=v("li"),z=re("Click the "),K=v("span"),B(se.$$.fragment),W=re(" to remove that specific player"),N=L(),P=v("hr"),F=L(),U=v("h2"),U.textContent="Players",fe=L(),B(Y.$$.fragment),me=L(),Te=v("hr"),m(g,"class","inline line-height"),m(b,"class","inline line-height"),m(K,"class","inline")},m(ee,Ce){M(ee,e,Ce),p(e,t),p(e,n),p(e,i),p(i,a),D(r,i,null),p(i,s),D(o,i,null),p(i,u),p(e,c),p(e,f),p(f,d),p(f,g),D(k,g,null),p(f,C),p(e,y),p(e,w),p(e,S),p(e,$),p($,I),p($,b),D(O,b,null),p($,R),p(e,H),p(e,A),p(A,z),p(A,K),D(se,K,null),p(A,W),M(ee,N,Ce),M(ee,P,Ce),M(ee,F,Ce),M(ee,U,Ce),M(ee,fe,Ce),D(Y,ee,Ce),M(ee,me,Ce),M(ee,Te,Ce),Se=!0},p:G,i(ee){Se||(h(r.$$.fragment,ee),h(o.$$.fragment,ee),h(k.$$.fragment,ee),h(O.$$.fragment,ee),h(se.$$.fragment,ee),h(Y.$$.fragment,ee),Se=!0)},o(ee){_(r.$$.fragment,ee),_(o.$$.fragment,ee),_(k.$$.fragment,ee),_(O.$$.fragment,ee),_(se.$$.fragment,ee),_(Y.$$.fragment,ee),Se=!1},d(ee){ee&&E(e),T(r),T(o),T(k),T(O),T(se),ee&&E(N),ee&&E(P),ee&&E(F),ee&&E(U),ee&&E(fe),T(Y,ee),ee&&E(me),ee&&E(Te)}}}class t2 extends j{constructor(e){super(),x(this,e,null,e2,q,{})}}function n2(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y,w,S,$,I,b,O,R,H,A,z,K,se,W,N,P,F,U,fe,Y,me,Te,Se;return r=new Fe({props:{type:"+",onClick:void 0}}),o=new Fe({props:{type:"-",onClick:void 0}}),y=new Yr({props:{type:le.Enemy,allowedTypes:[le.Enemy,le.Minion,le.Boss]}}),O=new Jt({props:{class:"primary line-height"}}),se=new In({props:{class:"primary line-height"}}),Y=new gn({props:{typeFilter:[le.Enemy,le.Minion,le.Boss]}}),{c(){e=v("ul"),t=v("li"),t.textContent="Before starting the combat you need some characters and monsters in your tracker!",n=L(),i=v("li"),a=re("Use the "),B(r.$$.fragment),s=re(" and "),B(o.$$.fragment),u=re(" to add and remove monsters"),c=L(),f=v("li"),f.textContent="Some of the basic monsters data will autocomplete when you search the name",d=L(),g=v("li"),k=re(`Click the\r
        `),C=v("span"),B(y.$$.fragment),w=re(` \r
        icon to change the monster type`),S=L(),$=v("li"),I=re("Minions "),b=v("span"),B(O.$$.fragment),R=re(" have a shared initiative but can be tracked separately"),H=L(),A=v("li"),z=re("Bosses "),K=v("span"),B(se.$$.fragment),W=re(" can track legendary actions"),N=L(),P=v("hr"),F=L(),U=v("h2"),U.textContent="Enemies",fe=L(),B(Y.$$.fragment),me=L(),Te=v("hr"),m(C,"class","inline"),m(b,"class","inline"),m(K,"class","inline")},m(ee,Ce){M(ee,e,Ce),p(e,t),p(e,n),p(e,i),p(i,a),D(r,i,null),p(i,s),D(o,i,null),p(i,u),p(e,c),p(e,f),p(e,d),p(e,g),p(g,k),p(g,C),D(y,C,null),p(g,w),p(e,S),p(e,$),p($,I),p($,b),D(O,b,null),p($,R),p(e,H),p(e,A),p(A,z),p(A,K),D(se,K,null),p(A,W),M(ee,N,Ce),M(ee,P,Ce),M(ee,F,Ce),M(ee,U,Ce),M(ee,fe,Ce),D(Y,ee,Ce),M(ee,me,Ce),M(ee,Te,Ce),Se=!0},p:G,i(ee){Se||(h(r.$$.fragment,ee),h(o.$$.fragment,ee),h(y.$$.fragment,ee),h(O.$$.fragment,ee),h(se.$$.fragment,ee),h(Y.$$.fragment,ee),Se=!0)},o(ee){_(r.$$.fragment,ee),_(o.$$.fragment,ee),_(y.$$.fragment,ee),_(O.$$.fragment,ee),_(se.$$.fragment,ee),_(Y.$$.fragment,ee),Se=!1},d(ee){ee&&E(e),T(r),T(o),T(y),T(O),T(se),ee&&E(N),ee&&E(P),ee&&E(F),ee&&E(U),ee&&E(fe),T(Y,ee),ee&&E(me),ee&&E(Te)}}}class l2 extends j{constructor(e){super(),x(this,e,null,n2,q,{})}}function i2(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y,w,S,$,I,b,O,R,H;return s=new ft({props:{class:"blue line-height"}}),d=new Fe({props:{type:"+",onClick:void 0}}),k=new Fe({props:{type:"-",onClick:void 0}}),R=new Fr({}),{c(){e=v("ul"),t=v("li"),t.textContent="Effects are things you can track that aren't players or enemies",n=L(),i=v("li"),a=re("Type a name and click the "),r=v("span"),B(s.$$.fragment),o=re(" icon to choose a theme if you want"),u=L(),c=v("li"),f=re("Use the "),B(d.$$.fragment),g=re(" and "),B(k.$$.fragment),C=re(" to add and remove counters"),y=L(),w=v("li"),w.textContent="Effects default to initiative 20",S=L(),$=v("hr"),I=L(),b=v("h2"),b.textContent="Effects",O=L(),B(R.$$.fragment),m(r,"class","inline")},m(A,z){M(A,e,z),p(e,t),p(e,n),p(e,i),p(i,a),p(i,r),D(s,r,null),p(i,o),p(e,u),p(e,c),p(c,f),D(d,c,null),p(c,g),D(k,c,null),p(c,C),p(e,y),p(e,w),M(A,S,z),M(A,$,z),M(A,I,z),M(A,b,z),M(A,O,z),D(R,A,z),H=!0},p:G,i(A){H||(h(s.$$.fragment,A),h(d.$$.fragment,A),h(k.$$.fragment,A),h(R.$$.fragment,A),H=!0)},o(A){_(s.$$.fragment,A),_(d.$$.fragment,A),_(k.$$.fragment,A),_(R.$$.fragment,A),H=!1},d(A){A&&E(e),T(s),T(d),T(k),A&&E(S),A&&E($),A&&E(I),A&&E(b),A&&E(O),T(R,A)}}}class r2 extends j{constructor(e){super(),x(this,e,null,i2,q,{})}}function or(l,e,t){const n=l.slice();return n[4]=e[t],n[6]=t,n}function sr(l){let e;return{c(){e=v("th"),m(e,"class","fn-col")},m(t,n){M(t,e,n)},d(t){t&&E(e)}}}function ur(l){let e,t;return e=new Kr({props:{creature:l[4],removeCreature:void 0,index:l[6]}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const a={};i&1&&(a.creature=n[4]),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function a2(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y,w,S,$,I,b,O,R,H,A,z;c=new dt({}),y=new ll({}),O=new Tt({});let K=!l[1]&&sr(),se=l[0],W=[];for(let P=0;P<se.length;P+=1)W[P]=ur(or(l,se,P));const N=P=>_(W[P],1,1,()=>{W[P]=null});return{c(){e=v("table"),t=v("thead"),n=v("th"),i=L(),a=v("th"),a.textContent="Name",r=L(),s=v("th"),o=v("div"),u=v("div"),B(c.$$.fragment),f=L(),d=v("span"),d.textContent="max",g=L(),k=v("th"),C=v("div"),B(y.$$.fragment),w=L(),S=v("th"),S.textContent=`Init.\r
                Bonus`,$=L(),I=v("th"),b=v("div"),B(O.$$.fragment),R=L(),K&&K.c(),H=L(),A=v("tbody");for(let P=0;P<W.length;P+=1)W[P].c();m(n,"class","value-col"),m(u,"class","svg-fit"),m(d,"class","icon-text svelte-xaxft5"),m(o,"class","icon-header svg-fit-container"),m(s,"class","value-col"),m(C,"class","icon-header svg-fit-container"),m(k,"class","value-col"),m(S,"class","value-col"),m(b,"class","icon-header svg-fit-container"),m(I,"class","value-col"),m(t,"class","secondary")},m(P,F){M(P,e,F),p(e,t),p(t,n),p(t,i),p(t,a),p(t,r),p(t,s),p(s,o),p(o,u),D(c,u,null),p(o,f),p(o,d),p(t,g),p(t,k),p(k,C),D(y,C,null),p(t,w),p(t,S),p(t,$),p(t,I),p(I,b),D(O,b,null),p(t,R),K&&K.m(t,null),p(e,H),p(e,A);for(let U=0;U<W.length;U+=1)W[U].m(A,null);z=!0},p(P,[F]){if(P[1]?K&&(K.d(1),K=null):K||(K=sr(),K.c(),K.m(t,null)),F&1){se=P[0];let U;for(U=0;U<se.length;U+=1){const fe=or(P,se,U);W[U]?(W[U].p(fe,F),h(W[U],1)):(W[U]=ur(fe),W[U].c(),h(W[U],1),W[U].m(A,null))}for(X(),U=se.length;U<W.length;U+=1)N(U);Z()}},i(P){if(!z){h(c.$$.fragment,P),h(y.$$.fragment,P),h(O.$$.fragment,P);for(let F=0;F<se.length;F+=1)h(W[F]);z=!0}},o(P){_(c.$$.fragment,P),_(y.$$.fragment,P),_(O.$$.fragment,P),W=W.filter(Boolean);for(let F=0;F<W.length;F+=1)_(W[F]);z=!1},d(P){P&&E(e),T(c),T(y),T(O),K&&K.d(),$e(W,P)}}}function o2(l,e,t){let n,i,a;ie(l,he,s=>t(2,i=s)),ie(l,Pe,s=>t(1,a=s));const r=(s,o)=>{const u=s||new Ze(o);o===le.Minion&&(u.quantity=2,u.hpCurrent=[u.hpCurrent[0],u.hpMax],u.conditions=[u.conditions[0],[]]),ce(he,i=[...i,u],i)};return Dt(()=>{const s=i.find(f=>f.type===le.Player),o=i.find(f=>f.type===le.Enemy),u=i.find(f=>f.type===le.Minion),c=i.find(f=>f.type===le.Boss);he.set([]),r(s,le.Player),r(o,le.Enemy),r(u,le.Minion),r(c,le.Boss)}),l.$$.update=()=>{l.$$.dirty&4&&t(0,n=i.filter(s=>s.type!==Ne.Effect))},[n,a,i]}class p1 extends j{constructor(e){super(),x(this,e,o2,a2,q,{})}}function cr(l){let e,t;return e=new Nr({props:{effect:l[0][0]}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const a={};i&1&&(a.effect=n[0][0]),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function s2(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y;f=new Tt({});let w=l[0]&&l[0].length>0&&cr(l);return{c(){e=v("table"),t=v("thead"),n=v("th"),i=L(),a=v("th"),a.textContent="Effect",r=L(),s=v("th"),s.textContent="Counters",o=L(),u=v("th"),c=v("div"),B(f.$$.fragment),d=L(),g=v("th"),k=L(),C=v("tbody"),w&&w.c(),m(n,"class","value-col"),m(a,"class","full-width svelte-1ky2wtb"),m(s,"class","fit-content svelte-1ky2wtb"),m(c,"class","icon-header svg-fit-container"),m(u,"class","value-col"),m(g,"class","value-col"),m(t,"class","secondary")},m(S,$){M(S,e,$),p(e,t),p(t,n),p(t,i),p(t,a),p(t,r),p(t,s),p(t,o),p(t,u),p(u,c),D(f,c,null),p(t,d),p(t,g),p(e,k),p(e,C),w&&w.m(C,null),y=!0},p(S,[$]){S[0]&&S[0].length>0?w?(w.p(S,$),$&1&&h(w,1)):(w=cr(S),w.c(),h(w,1),w.m(C,null)):w&&(X(),_(w,1,1,()=>{w=null}),Z())},i(S){y||(h(f.$$.fragment,S),h(w),y=!0)},o(S){_(f.$$.fragment,S),_(w),y=!1},d(S){S&&E(e),T(f),w&&w.d()}}}function u2(l,e,t){let n,i;return ie(l,he,a=>t(1,i=a)),Dt(()=>{const a=i.find(s=>s.type===Ne.Effect),r=a||new En;r.name||(r.name="Lava!",r.theme="lava"),ce(he,i=i.filter(s=>s.type!==Ne.Effect),i),ce(he,i=[...i,r],i)}),l.$$.update=()=>{l.$$.dirty&2&&t(0,n=i.filter(a=>a.type===Ne.Effect))},[n,i]}class h1 extends j{constructor(e){super(),x(this,e,u2,s2,q,{})}}function fr(l,e,t){const n=l.slice();return n[6]=e[t],n[7]=e,n[8]=t,n}function c2(l){let e,t,n,i;return n=new dt({}),{c(){e=v("div"),t=v("div"),B(n.$$.fragment),m(t,"class","svg-fit"),m(e,"class","icon-header svg-fit-container")},m(a,r){M(a,e,r),p(e,t),D(n,t,null),i=!0},p:G,i(a){i||(h(n.$$.fragment,a),i=!0)},o(a){_(n.$$.fragment,a),i=!1},d(a){a&&E(e),T(n)}}}function f2(l){let e,t,n;return t=new Tt({}),{c(){e=v("div"),B(t.$$.fragment),m(e,"class","icon-header svg-fit-container")},m(i,a){M(i,e,a),D(t,e,null),n=!0},p:G,i(i){n||(h(t.$$.fragment,i),n=!0)},o(i){_(t.$$.fragment,i),n=!1},d(i){i&&E(e),T(t)}}}function d2(l){let e,t,n;function i(r){l[4](r,l[6],l[7],l[8])}let a={isActive:l[8]===l[0]};return l[6]!==void 0&&(a.effect=l[6]),e=new r1({props:a}),Q.push(()=>ne(e,"effect",i)),{c(){B(e.$$.fragment)},m(r,s){D(e,r,s),n=!0},p(r,s){l=r;const o={};s&1&&(o.isActive=l[8]===l[0]),!t&&s&2&&(t=!0,o.effect=l[6],te(()=>t=!1)),e.$set(o)},i(r){n||(h(e.$$.fragment,r),n=!0)},o(r){_(e.$$.fragment,r),n=!1},d(r){T(e,r)}}}function m2(l){let e,t,n;function i(r){l[3](r,l[6],l[7],l[8])}let a={isActive:l[8]===l[0],index:l[8]};return l[6]!==void 0&&(a.creature=l[6]),e=new i1({props:a}),Q.push(()=>ne(e,"creature",i)),{c(){B(e.$$.fragment)},m(r,s){D(e,r,s),n=!0},p(r,s){l=r;const o={};s&1&&(o.isActive=l[8]===l[0]),!t&&s&2&&(t=!0,o.creature=l[6],te(()=>t=!1)),e.$set(o)},i(r){n||(h(e.$$.fragment,r),n=!0)},o(r){_(e.$$.fragment,r),n=!1},d(r){T(e,r)}}}function dr(l){let e,t,n,i,a;const r=[m2,d2],s=[];function o(u,c){return c&2&&(e=null),e==null&&(e=!!ol.includes(u[6].type)),e?0:u[6].type===Ne.Effect?1:-1}return~(t=o(l,-1))&&(n=s[t]=r[t](l)),{c(){n&&n.c(),i=we()},m(u,c){~t&&s[t].m(u,c),M(u,i,c),a=!0},p(u,c){let f=t;t=o(u,c),t===f?~t&&s[t].p(u,c):(n&&(X(),_(s[f],1,1,()=>{s[f]=null}),Z()),~t?(n=s[t],n?n.p(u,c):(n=s[t]=r[t](u),n.c()),h(n,1),n.m(i.parentNode,i)):n=null)},i(u){a||(h(n),a=!0)},o(u){_(n),a=!1},d(u){~t&&s[t].d(u),u&&E(i)}}}function p2(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y,w;o=new Me({props:{text:"Current HP",type:"help",$$slots:{default:[c2]},$$scope:{ctx:l}}}),g=new Me({props:{text:"Initiative value",type:"help",$$slots:{default:[f2]},$$scope:{ctx:l}}});let S=l[1],$=[];for(let b=0;b<S.length;b+=1)$[b]=dr(fr(l,S,b));const I=b=>_($[b],1,1,()=>{$[b]=null});return{c(){e=v("table"),t=v("thead"),n=v("th"),i=L(),a=v("th"),a.textContent="Name",r=L(),s=v("th"),B(o.$$.fragment),u=L(),c=v("th"),f=L(),d=v("th"),B(g.$$.fragment),k=L(),C=v("tbody");for(let b=0;b<$.length;b+=1)$[b].c();m(n,"class","value-col"),m(s,"class","value-col"),m(c,"class","value-col"),m(d,"class","value-col"),m(t,"class","secondary"),m(C,"class","relative")},m(b,O){M(b,e,O),p(e,t),p(t,n),p(t,i),p(t,a),p(t,r),p(t,s),D(o,s,null),p(t,u),p(t,c),p(t,f),p(t,d),D(g,d,null),p(e,k),p(e,C);for(let R=0;R<$.length;R+=1)$[R].m(C,null);w=!0},p(b,[O]){const R={};O&512&&(R.$$scope={dirty:O,ctx:b}),o.$set(R);const H={};if(O&512&&(H.$$scope={dirty:O,ctx:b}),g.$set(H),O&3){S=b[1];let A;for(A=0;A<S.length;A+=1){const z=fr(b,S,A);$[A]?($[A].p(z,O),h($[A],1)):($[A]=dr(z),$[A].c(),h($[A],1),$[A].m(C,null))}for(X(),A=S.length;A<$.length;A+=1)I(A);Z()}},i(b){if(!w){h(o.$$.fragment,b),h(g.$$.fragment,b);for(let O=0;O<S.length;O+=1)h($[O]);y||Ae(()=>{y=Ue(e,kn,{}),y.start()}),w=!0}},o(b){_(o.$$.fragment,b),_(g.$$.fragment,b),$=$.filter(Boolean);for(let O=0;O<$.length;O+=1)_($[O]);w=!1},d(b){b&&E(e),T(o),T(g),$e($,b)}}}function h2(l,e,t){let n,i,a;ie(l,Pe,u=>t(2,n=u)),ie(l,Le,u=>t(0,i=u)),ie(l,he,u=>t(1,a=u));const r=()=>{Cn(),ce(Le,i=0,i),a.sort((u,c)=>{const f=u.initiative+u.bonus,d=c.initiative+c.bonus;return f===d?c.bonus-u.bonus:d-f}),Et(i)};function s(u,c,f,d){f[d]=u,he.set(a)}function o(u,c,f,d){f[d]=u,he.set(a)}return l.$$.update=()=>{l.$$.dirty&4&&r()},[i,a,n,s,o]}class g2 extends j{constructor(e){super(),x(this,e,h2,p2,q,{})}}var He=(l=>(l[l.None=0]="None",l[l.AddingPlayers=1]="AddingPlayers",l[l.AddingEnemies=2]="AddingEnemies",l[l.AddingEffects=3]="AddingEffects",l[l.RollAll=4]="RollAll",l[l.Ready=5]="Ready",l[l.Combat=6]="Combat",l[l.ConfirmContinue=7]="ConfirmContinue",l[l.Logs=8]="Logs",l[l.Saving=9]="Saving",l[l.End=10]="End",l))(He||{});function bt(l){switch(l){case 1:return"Adding Players";case 2:return"Adding Enemies";case 3:return"Adding Effects";case 4:return"Rolling Initiative";case 5:return"Starting Combat";case 6:return"Combat Tools";case 8:return"Turn History";case 9:return"Saving/Loading";default:return""}}function _2(l){let e,t,n,i,a;return t=new ct({props:{class:"left"}}),{c(){e=v("button"),B(t.$$.fragment),m(e,"class","svelte-1h3nghi")},m(r,s){M(r,e,s),D(t,e,null),n=!0,i||(a=V(e,"click",l[2]),i=!0)},p:G,i(r){n||(h(t.$$.fragment,r),n=!0)},o(r){_(t.$$.fragment,r),n=!1},d(r){r&&E(e),T(t),i=!1,a()}}}function v2(l){let e,t,n,i,a;return t=new ct({}),{c(){e=v("button"),B(t.$$.fragment),m(e,"class","svelte-1h3nghi")},m(r,s){M(r,e,s),D(t,e,null),n=!0,i||(a=V(e,"click",l[1]),i=!0)},p:G,i(r){n||(h(t.$$.fragment,r),n=!0)},o(r){_(t.$$.fragment,r),n=!1},d(r){r&&E(e),T(t),i=!1,a()}}}function b2(l){let e,t,n,i,a,r,s,o,u,c,f,d;return s=new Me({props:{text:"previous",type:"help",$$slots:{default:[_2]},$$scope:{ctx:l}}}),u=new Me({props:{text:"next",type:"help",$$slots:{default:[v2]},$$scope:{ctx:l}}}),{c(){e=v("div"),t=v("div"),n=re("Round "),i=re(l[0]),a=L(),r=v("div"),B(s.$$.fragment),o=L(),B(u.$$.fragment),m(t,"class","header"),m(r,"class","tt-buttons flex-row svelte-1h3nghi"),m(e,"class","turn-tracker svelte-1h3nghi")},m(g,k){M(g,e,k),p(e,t),p(t,n),p(t,i),p(e,a),p(e,r),D(s,r,null),p(r,o),D(u,r,null),c=!0,f||(d=V(window,"keydown",l[7]),f=!0)},p(g,[k]){(!c||k&1)&&ye(i,g[0]);const C={};k&2048&&(C.$$scope={dirty:k,ctx:g}),s.$set(C);const y={};k&2048&&(y.$$scope={dirty:k,ctx:g}),u.$set(y)},i(g){c||(h(s.$$.fragment,g),h(u.$$.fragment,g),c=!0)},o(g){_(s.$$.fragment,g),_(u.$$.fragment,g),c=!1},d(g){g&&E(e),T(s),T(u),f=!1,d()}}}function k2(l,e,t){let n,i,a,r,s,o,u;ie(l,ut,k=>t(4,i=k)),ie(l,qe,k=>t(5,a=k)),ie(l,qt,k=>t(9,r=k)),ie(l,Le,k=>t(10,s=k)),ie(l,je,k=>t(0,o=k)),ie(l,he,k=>t(6,u=k));const c=()=>{ce(Le,s++,s),s>n&&(ce(Le,s=0,s),ce(je,o++,o),ce(he,u=u.map(k=>(k.type===le.Boss&&(k.laCurrent=k.laMax),k)),u)),hn(),Et(s)},f=()=>{o===1&&s===0||(ce(Le,s--,s),s<0&&(ce(Le,s=n,s),ce(je,o=Math.max(o-1,1),o)),hn(),Et(s))},d=k=>{if(!r)switch(k.key){case"ArrowLeft":f();return;case"ArrowRight":c();return;default:return}},g=k=>d(k);return l.$$.update=()=>{l.$$.dirty&64&&(n=u.length-1),l.$$.dirty&32&&Dr(a),l.$$.dirty&16&&Tr(i)},[o,c,f,d,i,a,u,g]}class y2 extends j{constructor(e){super(),x(this,e,k2,b2,q,{})}}function w2(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y;return r=new Jt({props:{class:"primary line-height"}}),{c(){e=v("li"),e.textContent="To record damage or conditions left click on a creature's icon",t=L(),n=v("li"),i=re("For a minion,  "),a=v("span"),B(r.$$.fragment),s=re(" left click it's number instead!"),o=L(),u=v("li"),u.textContent="Right click an icon to add conditions quickly",c=L(),f=v("li"),f.textContent="You can modify health directly from the current HP box",d=L(),g=v("li"),g.innerHTML="Right click the AC to add a modifier (e.g. for the <em>Shield</em> spell)",k=L(),C=v("li"),C.textContent="Click on the legendary actions counter to use a legendary action",m(a,"class","inline")},m(w,S){M(w,e,S),M(w,t,S),M(w,n,S),p(n,i),p(n,a),D(r,a,null),p(n,s),M(w,o,S),M(w,u,S),M(w,c,S),M(w,f,S),M(w,d,S),M(w,g,S),M(w,k,S),M(w,C,S),y=!0},i(w){y||(h(r.$$.fragment,w),y=!0)},o(w){_(r.$$.fragment,w),y=!1},d(w){w&&E(e),w&&E(t),w&&E(n),T(r),w&&E(o),w&&E(u),w&&E(c),w&&E(f),w&&E(d),w&&E(g),w&&E(k),w&&E(C)}}}function C2(l){let e,t,n,i,a,r,s;return{c(){e=v("li"),e.innerHTML="Now, we see <strong>CURRENT HP</strong> instead of MAX HP",t=L(),n=v("li"),n.textContent="Click the crossed swords to return to editing mode",i=L(),a=v("li"),a.textContent="Use the arrow buttons or arrow keys to go to the next turn",r=L(),s=v("li"),s.innerHTML="<em>Note</em> there may be issues if you didn&#39;t roll initiative for everything!"},m(o,u){M(o,e,u),M(o,t,u),M(o,n,u),M(o,i,u),M(o,a,u),M(o,r,u),M(o,s,u)},i:G,o:G,d(o){o&&E(e),o&&E(t),o&&E(n),o&&E(i),o&&E(a),o&&E(r),o&&E(s)}}}function $2(l){let e,t,n;return{c(){e=v("li"),e.textContent="Ready to go? Click the swords to start the combat!",t=L(),n=v("li"),n.textContent="Notice how the table changes when in combat mode"},m(i,a){M(i,e,a),M(i,t,a),M(i,n,a)},i:G,o:G,d(i){i&&E(e),i&&E(t),i&&E(n)}}}function E2(l){let e,t,n,i;return e=new p1({}),n=new h1({}),{c(){B(e.$$.fragment),t=L(),B(n.$$.fragment)},m(a,r){D(e,a,r),M(a,t,r),D(n,a,r),i=!0},i(a){i||(h(e.$$.fragment,a),h(n.$$.fragment,a),i=!0)},o(a){_(e.$$.fragment,a),_(n.$$.fragment,a),i=!1},d(a){T(e,a),a&&E(t),T(n,a)}}}function M2(l){let e,t,n,i;return e=new y2({}),n=new g2({}),{c(){B(e.$$.fragment),t=L(),B(n.$$.fragment)},m(a,r){D(e,a,r),M(a,t,r),D(n,a,r),i=!0},i(a){i||(h(e.$$.fragment,a),h(n.$$.fragment,a),i=!0)},o(a){_(e.$$.fragment,a),_(n.$$.fragment,a),i=!1},d(a){T(e,a),a&&E(t),T(n,a)}}}function S2(l){let e,t,n,i,a,r,s,o,u,c,f,d,g;const k=[$2,C2,w2],C=[];function y(I,b){return I[1]?I[0]!==He.Combat?1:2:0}t=y(l),n=C[t]=k[t](l),o=new m1({});const w=[M2,E2],S=[];function $(I,b){return I[1]?0:1}return f=$(l),d=S[f]=w[f](l),{c(){e=v("ul"),n.c(),i=L(),a=v("hr"),r=L(),s=v("div"),B(o.$$.fragment),u=L(),c=v("div"),d.c(),m(s,"class","lock-page-demo svelte-1qads21"),m(c,"class","scroll-window extra-pad svelte-1qads21")},m(I,b){M(I,e,b),C[t].m(e,null),M(I,i,b),M(I,a,b),M(I,r,b),M(I,s,b),D(o,s,null),M(I,u,b),M(I,c,b),S[f].m(c,null),g=!0},p(I,[b]){let O=t;t=y(I),t!==O&&(X(),_(C[O],1,1,()=>{C[O]=null}),Z(),n=C[t],n||(n=C[t]=k[t](I),n.c()),h(n,1),n.m(e,null));let R=f;f=$(I),f!==R&&(X(),_(S[R],1,1,()=>{S[R]=null}),Z(),d=S[f],d||(d=S[f]=w[f](I),d.c()),h(d,1),d.m(c,null))},i(I){g||(h(n),h(o.$$.fragment,I),h(d),g=!0)},o(I){_(n),_(o.$$.fragment,I),_(d),g=!1},d(I){I&&E(e),C[t].d(),I&&E(i),I&&E(a),I&&E(r),I&&E(s),T(o),I&&E(u),I&&E(c),S[f].d()}}}function L2(l,e,t){let n,i;ie(l,Le,r=>t(2,n=r)),ie(l,Pe,r=>t(1,i=r)),Dt(()=>{ce(Pe,i=!1,i),Cn(),ce(Le,n=0,n),el()});let{stage:a}=e;return l.$$set=r=>{"stage"in r&&t(0,a=r.stage)},[a,i]}class I2 extends j{constructor(e){super(),x(this,e,L2,S2,q,{stage:0})}}function A2(l){let e,t,n,i,a,r,s,o,u,c,f;return a=new c1({}),o=new p1({}),c=new h1({}),{c(){e=v("ul"),e.innerHTML=`<li>The big D20 button lets you can roll initiative for everything!</li> 
    <li>This ONLY rolls intiatives that do not already have a value</li> 
    <li>You can choose which types of entities you will roll for</li> 
    <li>If &quot;Re-roll&quot; is checked then you will overwrite already rolled initiatives</li>`,t=L(),n=v("hr"),i=L(),B(a.$$.fragment),r=L(),s=v("div"),B(o.$$.fragment),u=L(),B(c.$$.fragment),m(s,"class","scroll-window")},m(d,g){M(d,e,g),M(d,t,g),M(d,n,g),M(d,i,g),D(a,d,g),M(d,r,g),M(d,s,g),D(o,s,null),p(s,u),D(c,s,null),f=!0},p:G,i(d){f||(h(a.$$.fragment,d),h(o.$$.fragment,d),h(c.$$.fragment,d),f=!0)},o(d){_(a.$$.fragment,d),_(o.$$.fragment,d),_(c.$$.fragment,d),f=!1},d(d){d&&E(e),d&&E(t),d&&E(n),d&&E(i),T(a,d),d&&E(r),d&&E(s),T(o),T(c)}}}class O2 extends j{constructor(e){super(),x(this,e,null,A2,q,{})}}function D2(l){let e,t,n,i,a;return i=new s1({props:{logEntry:l[0],removeLogEntry:T2}}),{c(){e=v("div"),t=v("div"),t.textContent=`Round ${1}`,n=L(),B(i.$$.fragment),m(t,"class","header text-center"),m(e,"class","log-round svelte-wa2jjh")},m(r,s){M(r,e,s),p(e,t),p(e,n),D(i,e,null),a=!0},p:G,i(r){a||(h(i.$$.fragment,r),a=!0)},o(r){_(i.$$.fragment,r),a=!1},d(r){r&&E(e),T(i)}}}const T2=()=>{};function B2(l){const e=new Ze(le.Player),t=new Ze(le.Minion),n=new Ze(le.Boss),i=new Ze(le.Enemy),a=new Jn(e,1);return a.addLogEntityDamage(t,-5,1),a.addLogEntityDamage(t,5,2),a.addLogEntityCondition(i,"blinded"),a.addLogEntityLegendaryActions(n,2),[a]}class H2 extends j{constructor(e){super(),x(this,e,B2,D2,q,{})}}function z2(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y,w,S,$,I,b,O,R,H,A;return s=new ct({props:{class:"left light-grey line-height"}}),y=new tt({props:{onClick:void 0}}),O=new u1({}),H=new H2({}),{c(){e=v("p"),e.innerHTML="I always found myself forgetting what happened 3 turns ago, <br/> so naturally I created a historial record...",t=L(),n=v("ul"),i=v("li"),a=re("The log history can be opened from the top right: "),r=v("span"),B(s.$$.fragment),o=L(),u=v("li"),u.textContent="Each card shows things that happened during that creature's turn",c=L(),f=v("li"),f.textContent="Damage, healing, conditions and legendary actions are recorded",d=L(),g=v("li"),k=re("These can all be undone by clicking the adjacent "),C=v("span"),B(y.$$.fragment),w=L(),S=v("li"),S.textContent="Undoing damage should update the creatures Current HP",$=L(),I=v("li"),I.textContent="The entire turn can be deleted too - but this can get messy!",b=L(),B(O.$$.fragment),R=L(),B(H.$$.fragment),m(e,"class","gold text-center"),m(r,"class","inline"),m(C,"class","inline")},m(z,K){M(z,e,K),M(z,t,K),M(z,n,K),p(n,i),p(i,a),p(i,r),D(s,r,null),p(n,o),p(n,u),p(n,c),p(n,f),p(n,d),p(n,g),p(g,k),p(g,C),D(y,C,null),p(n,w),p(n,S),p(n,$),p(n,I),M(z,b,K),D(O,z,K),M(z,R,K),D(H,z,K),A=!0},p:G,i(z){A||(h(s.$$.fragment,z),h(y.$$.fragment,z),h(O.$$.fragment,z),h(H.$$.fragment,z),A=!0)},o(z){_(s.$$.fragment,z),_(y.$$.fragment,z),_(O.$$.fragment,z),_(H.$$.fragment,z),A=!1},d(z){z&&E(e),z&&E(t),z&&E(n),T(s),T(y),z&&E(b),T(O,z),z&&E(R),T(H,z)}}}class R2 extends j{constructor(e){super(),x(this,e,null,z2,q,{})}}function P2(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y,w,S,$,I;return d=new cl({props:{icon:qn,onClick:void 0,spin:!0}}),$=new d1({}),{c(){e=v("ul"),t=v("li"),n=re("The current state is always saved in your browser's "),i=v("a"),a=re('"local storage"'),r=L(),s=v("li"),s.textContent="So if you refresh the page you won't lose progres",o=L(),u=v("li"),c=re(`Find Save/Load options in the settings (top left)\r
        `),f=v("span"),B(d.$$.fragment),g=L(),k=v("li"),k.textContent="Choose which types of entities to save and give the group a name",C=L(),y=v("li"),y.textContent="Loading a group adds to whatever is in the tracker currently",w=L(),S=v("div"),B($.$$.fragment),m(i,"href",G2),m(f,"class","inline"),m(S,"class","demo-container")},m(b,O){M(b,e,O),p(e,t),p(t,n),p(t,i),p(i,a),p(e,r),p(e,s),p(e,o),p(e,u),p(u,c),p(u,f),D(d,f,null),p(e,g),p(e,k),p(e,C),p(e,y),M(b,w,O),M(b,S,O),D($,S,null),I=!0},p:G,i(b){I||(h(d.$$.fragment,b),h($.$$.fragment,b),I=!0)},o(b){_(d.$$.fragment,b),_($.$$.fragment,b),I=!1},d(b){b&&E(e),T(d),b&&E(w),b&&E(S),T($)}}}const G2="https://en.wikipedia.org/wiki/Web_storage";class N2 extends j{constructor(e){super(),x(this,e,null,P2,q,{})}}function F2(l){let e,t;return{c(){e=v("img"),v1(e.src,t="/ednd-initiative/images/edpacca_wizard.png")||m(e,"src",t),m(e,"alt","wizard-friend"),pe(e,"--wiz-height",l[0]),m(e,"class","wizard svelte-1krotmh")},m(n,i){M(n,e,i)},p(n,[i]){i&1&&pe(e,"--wiz-height",n[0])},i:G,o:G,d(n){n&&E(e)}}}function q2(l,e,t){let{height:n="6rem"}=e;return l.$$set=i=>{"height"in i&&t(0,n=i.height)},[n]}class fl extends j{constructor(e){super(),x(this,e,q2,F2,q,{height:0})}}function xt(){Qe.set(!1),Hr.set(!0),W1(!0)}function W2(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C;return t=new fl({props:{height:"8rem"}}),{c(){e=v("div"),B(t.$$.fragment),i=L(),a=v("p"),a.textContent="Hmm? Oh! You're still here.",r=L(),s=v("p"),s.textContent="No one has actually ever made it this far before...",o=L(),u=v("div"),c=v("button"),c.textContent="Leave quietly...",f=L(),d=v("button"),d.textContent="Huzzah!",m(e,"class","flex-col"),m(a,"class","gold text-center"),m(s,"class","gold text-center"),m(c,"class","option-button"),m(d,"class","option-button"),m(u,"class","option-buttons")},m(y,w){M(y,e,w),D(t,e,null),M(y,i,w),M(y,a,w),M(y,r,w),M(y,s,w),M(y,o,w),M(y,u,w),p(u,c),p(u,f),p(u,d),g=!0,k||(C=[V(c,"click",xt),V(d,"click",xt)],k=!0)},p(y,[w]){},i(y){g||(h(t.$$.fragment,y),n||Ae(()=>{n=Ue(e,$t,{y:50,delay:500,duration:1e3,easing:Qn}),n.start()}),g=!0)},o(y){_(t.$$.fragment,y),g=!1},d(y){y&&E(e),T(t),y&&E(i),y&&E(a),y&&E(r),y&&E(s),y&&E(o),y&&E(u),k=!1,be(C)}}}class V2 extends j{constructor(e){super(),x(this,e,null,W2,q,{})}}function x2(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k;return n=new fl({props:{height:"8rem"}}),{c(){e=v("div"),t=v("div"),B(n.$$.fragment),a=L(),r=v("p"),r.textContent="Oh, eager to learn more? An avid student of the arcane!",s=L(),o=v("div"),u=v("button"),u.textContent="No, I get it already!",c=L(),f=v("button"),f.textContent="Gain more XP",m(t,"class","flex-col"),m(e,"class","upside-down-swing svelte-xkojux"),m(r,"class","gold"),m(u,"class","option-button"),m(f,"class","option-button"),m(o,"class","option-buttons")},m(C,y){M(C,e,y),p(e,t),D(n,t,null),M(C,a,y),M(C,r,y),M(C,s,y),M(C,o,y),p(o,u),p(o,c),p(o,f),d=!0,g||(k=[V(u,"click",xt),V(f,"click",function(){De(l[0])&&l[0].apply(this,arguments)})],g=!0)},p(C,[y]){l=C},i(C){d||(h(n.$$.fragment,C),i||Ae(()=>{i=Ue(t,$t,{y:50,delay:500,duration:2e3,easing:Qn}),i.start()}),d=!0)},o(C){_(n.$$.fragment,C),d=!1},d(C){C&&E(e),T(n),C&&E(a),C&&E(r),C&&E(s),C&&E(o),g=!1,be(k)}}}function j2(l,e,t){let{nextStage:n}=e;return l.$$set=i=>{"nextStage"in i&&t(0,n=i.nextStage)},[n]}class U2 extends j{constructor(e){super(),x(this,e,j2,x2,q,{nextStage:0})}}function Y2(l){let e,t,n,i,a,r=bt(l[0]-1)+"",s,o,u,c,f,d=bt(l[0])+"",g,k,C,y,w,S,$,I;n=new ul({props:{class:"left"}});let b=l[0]!==He.End&&mr(l);const O=[i0,l0,n0,t0,e0,Q2,Z2,X2,J2],R=[];function H(A,z){return A[0]===He.AddingPlayers?0:A[0]===He.AddingEnemies?1:A[0]===He.AddingEffects?2:A[0]===He.RollAll?3:A[0]===He.Ready||A[0]===He.Combat?4:A[0]===He.ConfirmContinue?5:A[0]===He.Logs?6:A[0]===He.Saving?7:A[0]===He.End?8:-1}return~(y=H(l))&&(w=R[y]=O[y](l)),{c(){e=v("div"),t=v("button"),B(n.$$.fragment),i=L(),a=v("div"),s=re(r),o=L(),b&&b.c(),c=L(),f=v("h1"),g=re(d),k=L(),C=v("div"),w&&w.c(),m(t,"class","arrow-button svelte-1mlmzsg"),J(t,"transparent",l[0]===1),m(a,"class","tutorial-stage left-align svelte-1mlmzsg"),m(e,"class","stage-buttons svelte-1mlmzsg"),m(f,"class","gold underline svelte-1mlmzsg")},m(A,z){M(A,e,z),p(e,t),D(n,t,null),p(e,i),p(e,a),p(a,s),p(e,o),b&&b.m(e,null),M(A,c,z),M(A,f,z),p(f,g),M(A,k,z),M(A,C,z),~y&&R[y].m(C,null),S=!0,$||(I=V(t,"click",l[3]),$=!0)},p(A,z){(!S||z&1)&&J(t,"transparent",A[0]===1),(!S||z&1)&&r!==(r=bt(A[0]-1)+"")&&ye(s,r),A[0]!==He.End?b?(b.p(A,z),z&1&&h(b,1)):(b=mr(A),b.c(),h(b,1),b.m(e,null)):b&&(X(),_(b,1,1,()=>{b=null}),Z()),(!S||z&1)&&d!==(d=bt(A[0])+"")&&ye(g,d);let K=y;y=H(A),y===K?~y&&R[y].p(A,z):(w&&(X(),_(R[K],1,1,()=>{R[K]=null}),Z()),~y?(w=R[y],w?w.p(A,z):(w=R[y]=O[y](A),w.c()),h(w,1),w.m(C,null)):w=null)},i(A){S||(h(n.$$.fragment,A),h(b),u||Ae(()=>{u=Ue(e,et,{}),u.start()}),h(w),S=!0)},o(A){_(n.$$.fragment,A),_(b),_(w),S=!1},d(A){A&&E(e),T(n),b&&b.d(),A&&E(c),A&&E(f),A&&E(k),A&&E(C),~y&&R[y].d(),$=!1,I()}}}function K2(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y,w=l[1]&&pr();return{c(){e=v("h1"),e.textContent="Welcome Traveller!",t=L(),w&&w.c(),n=L(),i=v("p"),i.innerHTML="I&#39;m Edpacca - and this is my Initiative Tracker! <br/> A DM&#39;s tool for tracking combat in DnD, designed for simplicity with a bit of flair.",a=L(),r=v("p"),r.textContent="Looks like you're new here so let me take a second to show you around...",s=L(),o=v("div"),u=v("button"),u.textContent="Silence fool! (close)",c=L(),f=v("button"),f.textContent="Sure, I could use a hand...",d=L(),g=v("p"),g.textContent='Replay this tutorial any time from the settings menu under "Help"',m(e,"class","gold svelte-1mlmzsg"),m(i,"class","text-block gold svelte-1mlmzsg"),m(r,"class","gold svelte-1mlmzsg"),m(u,"class","option-button"),m(f,"class","option-button"),m(o,"class","option-buttons"),m(g,"class","svelte-1mlmzsg")},m(S,$){M(S,e,$),M(S,t,$),w&&w.m(S,$),M(S,n,$),M(S,i,$),M(S,a,$),M(S,r,$),M(S,s,$),M(S,o,$),p(o,u),p(o,c),p(o,f),M(S,d,$),M(S,g,$),k=!0,C||(y=[V(u,"click",xt),V(f,"click",l[2])],C=!0)},p(S,$){S[1]?w?$&2&&h(w,1):(w=pr(),w.c(),h(w,1),w.m(n.parentNode,n)):w&&(X(),_(w,1,1,()=>{w=null}),Z())},i(S){k||(h(w),k=!0)},o(S){_(w),k=!1},d(S){S&&E(e),S&&E(t),w&&w.d(S),S&&E(n),S&&E(i),S&&E(a),S&&E(r),S&&E(s),S&&E(o),S&&E(d),S&&E(g),C=!1,be(y)}}}function mr(l){let e,t=bt(l[0]+1)+"",n,i,a,r,s,o,u;return r=new ul({}),{c(){e=v("div"),n=re(t),i=L(),a=v("button"),B(r.$$.fragment),m(e,"class","tutorial-stage right-align svelte-1mlmzsg"),m(a,"class","arrow-button svelte-1mlmzsg")},m(c,f){M(c,e,f),p(e,n),M(c,i,f),M(c,a,f),D(r,a,null),s=!0,o||(u=V(a,"click",l[2]),o=!0)},p(c,f){(!s||f&1)&&t!==(t=bt(c[0]+1)+"")&&ye(n,t)},i(c){s||(h(r.$$.fragment,c),s=!0)},o(c){_(r.$$.fragment,c),s=!1},d(c){c&&E(e),c&&E(i),c&&E(a),T(r),o=!1,u()}}}function J2(l){let e,t;return e=new V2({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:G,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function X2(l){let e,t;return e=new N2({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:G,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Z2(l){let e,t;return e=new R2({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:G,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Q2(l){let e,t;return e=new U2({props:{nextStage:l[2]}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:G,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function e0(l){let e,t;return e=new I2({props:{stage:l[0]}}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const a={};i&1&&(a.stage=n[0]),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function t0(l){let e,t;return e=new O2({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:G,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function n0(l){let e,t;return e=new r2({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:G,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function l0(l){let e,t;return e=new l2({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:G,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function i0(l){let e,t;return e=new t2({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:G,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function pr(l){let e,t,n,i;return t=new fl({}),{c(){e=v("div"),B(t.$$.fragment),m(e,"class","wizard-popup svelte-1mlmzsg")},m(a,r){M(a,e,r),D(t,e,null),i=!0},p(a,r){},i(a){i||(h(t.$$.fragment,a),n||Ae(()=>{n=Ue(e,$t,{y:50,delay:500,duration:1e3,easing:Qn}),n.start()}),i=!0)},o(a){_(t.$$.fragment,a),i=!1},d(a){a&&E(e),T(t)}}}function r0(l){let e,t,n,i,a,r,s,o,u;i=new tt({props:{onClick:xt}});const c=[K2,Y2],f=[];function d(g,k){return g[0]===He.None?0:1}return r=d(l),s=f[r]=c[r](l),{c(){e=v("div"),t=v("div"),n=v("div"),B(i.$$.fragment),a=L(),s.c(),m(n,"class","top-left svelte-1mlmzsg"),m(t,"class","tutorial-canvas svelte-1mlmzsg"),J(t,"small-canvas",l[0]===He.None),m(e,"class","tutorial-container svelte-1mlmzsg")},m(g,k){M(g,e,k),p(e,t),p(t,n),D(i,n,null),p(t,a),f[r].m(t,null),u=!0},p(g,[k]){let C=r;r=d(g),r===C?f[r].p(g,k):(X(),_(f[C],1,1,()=>{f[C]=null}),Z(),s=f[r],s?s.p(g,k):(s=f[r]=c[r](g),s.c()),h(s,1),s.m(t,null)),(!u||k&1)&&J(t,"small-canvas",g[0]===He.None)},i(g){u||(h(i.$$.fragment,g),h(s),Ae(()=>{o||(o=it(e,et,{},!0)),o.run(1)}),u=!0)},o(g){_(i.$$.fragment,g),_(s),o||(o=it(e,et,{},!1)),o.run(0),u=!1},d(g){g&&E(e),T(i),f[r].d(),g&&o&&o.end()}}}function a0(l,e,t){let n=0,i=!1;const a=Object.keys(He).length/2,r=()=>{t(0,n=(n+1)%a)},s=()=>{t(0,n=n===0?0:n-1)};return Dt(()=>{t(1,i=!0)}),[n,i,r,s]}class o0 extends j{constructor(e){super(),x(this,e,a0,r0,q,{})}}function hr(l){let e,t,n;return t=new m1({}),{c(){e=v("div"),B(t.$$.fragment),m(e,"class","top-right-icon svelte-1tokr0j")},m(i,a){M(i,e,a),D(t,e,null),n=!0},i(i){n||(h(t.$$.fragment,i),n=!0)},o(i){_(t.$$.fragment,i),n=!1},d(i){i&&E(e),T(t)}}}function s0(l){let e,t;return e=new c1({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function u0(l){let e,t,n;return t=new wa({}),{c(){e=v("div"),B(t.$$.fragment),m(e,"class","toolbar svelte-1tokr0j")},m(i,a){M(i,e,a),D(t,e,null),n=!0},i(i){n||(h(t.$$.fragment,i),n=!0)},o(i){_(t.$$.fragment,i),n=!1},d(i){i&&E(e),T(t)}}}function c0(l){let e,t;return e=new Ju({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:G,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function f0(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k,C,y;return n=new gn({props:{typeFilter:[le.Player]}}),u=new gn({props:{typeFilter:[le.Enemy,le.Minion,le.Boss]}}),C=new Fr({}),{c(){e=v("h2"),e.textContent="Players",t=L(),B(n.$$.fragment),i=L(),a=v("hr"),r=L(),s=v("h2"),s.textContent="Enemies",o=L(),B(u.$$.fragment),c=L(),f=v("hr"),d=L(),g=v("h2"),g.textContent="Effects",k=L(),B(C.$$.fragment),m(a,"class","svelte-1tokr0j"),m(f,"class","svelte-1tokr0j")},m(w,S){M(w,e,S),M(w,t,S),D(n,w,S),M(w,i,S),M(w,a,S),M(w,r,S),M(w,s,S),M(w,o,S),D(u,w,S),M(w,c,S),M(w,f,S),M(w,d,S),M(w,g,S),M(w,k,S),D(C,w,S),y=!0},p:G,i(w){y||(h(n.$$.fragment,w),h(u.$$.fragment,w),h(C.$$.fragment,w),y=!0)},o(w){_(n.$$.fragment,w),_(u.$$.fragment,w),_(C.$$.fragment,w),y=!1},d(w){w&&E(e),w&&E(t),T(n,w),w&&E(i),w&&E(a),w&&E(r),w&&E(s),w&&E(o),T(u,w),w&&E(c),w&&E(f),w&&E(d),w&&E(g),w&&E(k),T(C,w)}}}function gr(l){let e,t;return e=new u1({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function _r(l){let e,t;return e=new o0({}),{c(){B(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function d0(l){let e,t,n,i,a,r,s,o,u,c,f,d,g,k;e=new Uf({});let C=l[1].length>0&&hr();const y=[u0,s0],w=[];function S(H,A){return H[2]?0:H[1].length>0?1:-1}~(a=S(l))&&(r=w[a]=y[a](l));const $=[f0,c0],I=[];function b(H,A){return H[2]?1:0}u=b(l),c=I[u]=$[u](l);let O=l[3]&&gr(),R=l[0]&&_r();return{c(){B(e.$$.fragment),t=L(),n=v("main"),C&&C.c(),i=L(),r&&r.c(),s=L(),o=v("div"),c.c(),f=L(),O&&O.c(),d=L(),R&&R.c(),g=we(),m(o,"class","table-container")},m(H,A){D(e,H,A),M(H,t,A),M(H,n,A),C&&C.m(n,null),p(n,i),~a&&w[a].m(n,null),p(n,s),p(n,o),I[u].m(o,null),M(H,f,A),O&&O.m(H,A),M(H,d,A),R&&R.m(H,A),M(H,g,A),k=!0},p(H,[A]){H[1].length>0?C?A&2&&h(C,1):(C=hr(),C.c(),h(C,1),C.m(n,i)):C&&(X(),_(C,1,1,()=>{C=null}),Z());let z=a;a=S(H),a!==z&&(r&&(X(),_(w[z],1,1,()=>{w[z]=null}),Z()),~a?(r=w[a],r||(r=w[a]=y[a](H),r.c()),h(r,1),r.m(n,s)):r=null);let K=u;u=b(H),u===K?I[u].p(H,A):(X(),_(I[K],1,1,()=>{I[K]=null}),Z(),c=I[u],c?c.p(H,A):(c=I[u]=$[u](H),c.c()),h(c,1),c.m(o,null)),H[3]?O?A&8&&h(O,1):(O=gr(),O.c(),h(O,1),O.m(d.parentNode,d)):O&&(X(),_(O,1,1,()=>{O=null}),Z()),H[0]?R?A&1&&h(R,1):(R=_r(),R.c(),h(R,1),R.m(g.parentNode,g)):R&&(X(),_(R,1,1,()=>{R=null}),Z())},i(H){k||(h(e.$$.fragment,H),h(C),h(r),h(c),h(O),h(R),k=!0)},o(H){_(e.$$.fragment,H),_(C),_(r),_(c),_(O),_(R),k=!1},d(H){T(e,H),H&&E(t),H&&E(n),C&&C.d(),~a&&w[a].d(),I[u].d(),H&&E(f),O&&O.d(H),H&&E(d),R&&R.d(H),H&&E(g)}}}function m0(l,e,t){let n,i,a,r,s,o;return ie(l,Qe,u=>t(0,n=u)),ie(l,Hr,u=>t(4,i=u)),ie(l,Pn,u=>t(5,a=u)),ie(l,he,u=>t(1,r=u)),ie(l,Pe,u=>t(2,s=u)),ie(l,rt,u=>t(3,o=u)),Dt(async()=>{zr(a),i||ce(Qe,n=!0,n)}),[n,r,s,o]}class p0 extends j{constructor(e){super(),x(this,e,m0,d0,q,{})}}new p0({target:document.body});
